<html lang="zh-Hans" dir="ltr">
<head>
  <meta charset="utf-8"></meta>
  <title>Pandoc  - 发布</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"></meta>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
  <!--[if lt IE 9]>
       <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
       <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
       <![endif]-->
  <link rel="stylesheet" href="asset?aid=0"></link>
  <link rel="stylesheet" type="text/css" href="css/screen.css"></link>
  <link rel="stylesheet" type="text/css" href="css/print.css" media="print"></link>
  <style type="text/css">code {
  white-space: pre-wrap;
}
pre {
  font-size: 12pt;
}
.smallcaps {
  font-variant: small-caps;
}
.line-block {
  white-space: pre-line;
}
.column {
  display: inline-block;
}
a.sourceLine {
  display: inline-block;
  line-height: 1.25;
}
a.sourceLine {
  pointer-events: none;
  color: inherit;
  text-decoration: inherit;
}
a.sourceLine:empty {
  height: 1.2em;
  position: absolute;
}
.sourceCode {
  overflow: visible;
}
code.sourceCode {
  white-space: pre;
  position: relative;
}
div.sourceCode {
  margin: 1em 0;
}
pre.sourceCode {
  margin: 0;
}
@media screen {
  div.sourceCode {
    overflow: auto;
  }
}
@media print {
  code.sourceCode {
    white-space: pre-wrap;
  }
  a.sourceLine {
    text-indent: -1em;
    padding-left: 1em;
  }
}
pre.numberSource a.sourceLine {
  position: relative;
}
pre.numberSource a.sourceLine:empty {
  position: absolute;
}
pre.numberSource a.sourceLine::before {
  content: attr(data-line-number);
  position: absolute;
  left: -5em;
  text-align: right;
  vertical-align: baseline;
  border: none;
  pointer-events: all;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  padding: 0 4px;
  width: 4em;
  color: #aaaaaa;
}
pre.numberSource {
  margin-left: 3em;
  border-left: 1px solid #aaaaaa;
  padding-left: 4px;
}
div.sourceCode {
  background-color: #f8f8f8;
}
@media screen {
  a.sourceLine::before {
    text-decoration: underline;
  }
}
code span.al {
  color: #ef2929;
}
/* Alert */
code span.an {
  color: #8f5902;
  font-weight: bold;
  font-style: italic;
}
/* Annotation */
code span.at {
  color: #c4a000;
}
/* Attribute */
code span.bn {
  color: #0000cf;
}
/* BaseN */
code span.cf {
  color: #204a87;
  font-weight: bold;
}
/* ControlFlow */
code span.ch {
  color: #4e9a06;
}
/* Char */
code span.cn {
  color: #000000;
}
/* Constant */
code span.co {
  color: #8f5902;
  font-style: italic;
}
/* Comment */
code span.cv {
  color: #8f5902;
  font-weight: bold;
  font-style: italic;
}
/* CommentVar */
code span.do {
  color: #8f5902;
  font-weight: bold;
  font-style: italic;
}
/* Documentation */
code span.dt {
  color: #204a87;
}
/* DataType */
code span.dv {
  color: #0000cf;
}
/* DecVal */
code span.er {
  color: #a40000;
  font-weight: bold;
}
/* Error */
code span.ex {
}
/* Extension */
code span.fl {
  color: #0000cf;
}
/* Float */
code span.fu {
  color: #000000;
}
/* Function */
code span.im {
}
/* Import */
code span.in {
  color: #8f5902;
  font-weight: bold;
  font-style: italic;
}
/* Information */
code span.kw {
  color: #204a87;
  font-weight: bold;
}
/* Keyword */
code span.op {
  color: #ce5c00;
  font-weight: bold;
}
/* Operator */
code span.ot {
  color: #8f5902;
}
/* Other */
code span.pp {
  color: #8f5902;
  font-style: italic;
}
/* Preprocessor */
code span.sc {
  color: #000000;
}
/* SpecialChar */
code span.ss {
  color: #4e9a06;
}
/* SpecialString */
code span.st {
  color: #4e9a06;
}
/* String */
code span.va {
  color: #000000;
}
/* Variable */
code span.vs {
  color: #4e9a06;
}
/* VerbatimString */
code span.wa {
  color: #8f5902;
  font-weight: bold;
  font-style: italic;
}
/* Warning */
</style>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" type="text/javascript"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
  <script src="js/nav.js"></script>
  <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2234613-4']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script>
  <script type="text/javascript">
  /* <![CDATA[ */
    (function() {
        var s = document.createElement('script'), t = document.getElementsByTagName('script')[0];
        s.type = 'text/javascript';
        s.async = true;
        s.src = 'https://api.flattr.com/js/0.6/load.js?mode=auto';
        t.parentNode.insertBefore(s, t);
    })();
  /* ]]> */
  </script>
</head>
<body dir="ltr">
  <div id="doc" class="container-fluid">
    <header>
      <div id="flattr">
        <a class="FlattrButton" href="https://pandoc.org" style="display:none" rev="flattr;button:compact;"></a>
        <noscript><a href="https://flattr.com/thing/936364/Pandoc" target="_blank"><img src="https://api.flattr.com/button/flattr-badge-large.png" alt="Flattr这个" title="Flattr这个" border="0"></a></noscript>
      </div>
        <div id="paypal">
         <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----MIIHbwYJKoZIhvcNAQcEoIIHYDCCB1wCAQExggEwMIIBLAIBADCBlDCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20CAQAwDQYJKoZIhvcNAQEBBQAEgYA1aF1SYXH476Drh95jHdjCr2Pe08jgMkj9i7o+LqUNtjNpn2o2WT0G0gRm8+fSf3olG3isnZ8cJcxvV4MqvT054L2Z+erugv1UnDyEx/rmOzk+JQkDX71PmMYjQLwbyrFyU0RaVR6ksjNstM3I7bn4b8gQuSM9UkmfI/xVvslsXTELMAkGBSsOAwIaBQAwgewGCSqGSIb3DQEHATAUBggqhkiG9w0DBwQIHvq7EiOKDNOAgcjLqF4vqQA57C5WLRryItIy6xBS/tEOeAqHUR3uj65kP0HqCmwUX18IhLksKwEOc4yeDqZUo9pcPWyFRcrRxjqObs167KmrafWzCrLDRN+czf9pZUjDpYTGy0sYyW7Rt38+vLtVRHukxLkMiT3ZJ8iRd1LXx5iQRN9d8ouuS4/CsTaZoD+cv4leQR7wKpIE2LbuMx9ghOJ4kR3NSSwNYN2VyHfgONyNdQqsZCWaSO5uGXK/TnDguKoi8VSOzX2fIChhYmvdgqPtmKCCA4cwggODMIIC7KADAgECAgEAMA0GCSqGSIb3DQEBBQUAMIGOMQswCQYDVQQGEwJVUzELMAkGA1UECBMCQ0ExFjAUBgNVBAcTDU1vdW50YWluIFZpZXcxFDASBgNVBAoTC1BheVBhbCBJbmMuMRMwEQYDVQQLFApsaXZlX2NlcnRzMREwDwYDVQQDFAhsaXZlX2FwaTEcMBoGCSqGSIb3DQEJARYNcmVAcGF5cGFsLmNvbTAeFw0wNDAyMTMxMDEzMTVaFw0zNTAyMTMxMDEzMTVaMIGOMQswCQYDVQQGEwJVUzELMAkGA1UECBMCQ0ExFjAUBgNVBAcTDU1vdW50YWluIFZpZXcxFDASBgNVBAoTC1BheVBhbCBJbmMuMRMwEQYDVQQLFApsaXZlX2NlcnRzMREwDwYDVQQDFAhsaXZlX2FwaTEcMBoGCSqGSIb3DQEJARYNcmVAcGF5cGFsLmNvbTCBnzANBgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEAwUdO3fxEzEtcnI7ZKZL412XvZPugoni7i7D7prCe0AtaHTc97CYgm7NsAtJyxNLixmhLV8pyIEaiHXWAh8fPKW+R017+EmXrr9EaquPmsVvTywAAE1PMNOKqo2kl4Gxiz9zZqIajOm1fZGWcGS0f5JQ2kBqNbvbg2/Za+GJ/qwUCAwEAAaOB7jCB6zAdBgNVHQ4EFgQUlp98u8ZvF71ZP1LXChvsENZklGswgbsGA1UdIwSBszCBsIAUlp98u8ZvF71ZP1LXChvsENZklGuhgZSkgZEwgY4xCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJDQTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEUMBIGA1UEChMLUGF5UGFsIEluYy4xEzARBgNVBAsUCmxpdmVfY2VydHMxETAPBgNVBAMUCGxpdmVfYXBpMRwwGgYJKoZIhvcNAQkBFg1yZUBwYXlwYWwuY29tggEAMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEFBQADgYEAgV86VpqAWuXvX6Oro4qJ1tYVIT5DgWpE692Ag422H7yRIr/9j/iKG4Thia/Oflx4TdL+IFJBAyPK9v6zZNZtBgPBynXb048hsP16l2vi0k5Q2JKiPDsEfBhGI+HnxLXEaUWAcVfCsQFvd2A1sxRr67ip5y2wwBelUecP3AjJ+YcxggGaMIIBlgIBATCBlDCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20CAQAwCQYFKw4DAhoFAKBdMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTE0MDEwNjIwMjYzOVowIwYJKoZIhvcNAQkEMRYEFJLYt8/tr7y69LYjPJjKyTMm5QAYMA0GCSqGSIb3DQEBAQUABIGAI2+pZ4nP2NsnH4648MqJ7ihLLMxoiNXZTiH2yV9rknNcK0cCT28UTWnO1iFZPWNeZRMA+PclqnTS4DuGvj3+MYvGbu0NauKT9TE1eP+nrdP2XHa3qTGXcCqezVqfUxknMXyXBW5u20JGXp+D9RizEfhSX67JBLvsVwlmBYmcyYk=-----END PKCS7-----
">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="贝宝 - 更安全，更简单的在线支付方式！">
<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>
      </div>

        <span class="big">潘多克</span> <span class="small">通用文档转换器</span>
    </header>
    <div id="bd">
      <nav id="navbar" class="navbar nav navbar-default col-md-3 col-sm-4">
        <div class="navbar-header">
  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"><span class="sr-only">切换导航</span> <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button>
</div>
<div class="navbar-collapse collapse">
  <ul class="nav tree">
    <li><a href="index.html">关于</a></li>
    <li><a href="installing.html">1 - 安装</a></li>
    <li><a href="getting-started.html">入门</a></li>
    <li><a class="tree-toggle nav-header">演示</a>
    <ul class="nav tree">
      <li><a href="try">尝试在线pandoc</a></li>
      <li><a href="demos.html">示例</a></li>
    </ul>
    </li>
    <li><a class="tree-toggle nav-header">文档</a>
    <ul class="nav tree">
      <li><a href="MANUAL.html">USER’S GUIDE </a>
      <li><a href="MANUAL.pdf">用户指南（PDF）</a>
      <li><a href="epub.html">制作电子书</a></li>
      <li><a href="filters.html">筛选</a></li>
      <li><a href="lua-filters.html">Lua过滤器</a></li>
      <li><a href="CONTRIBUTING.html">贡献</a></li>
      <li><a href="faqs.html">常见问题解答</a></li>
      <li><a href="press.html">按</a></li>
      <li><a href="using-the-pandoc-api.html">使用Pandoc API</a></li>
      <li><a href="http://hackage.haskell.org/package/pandoc">API文档</a></li>
    </li></li></ul>
    </li>
    <li><a href="help.html">帮助</a></li>
    <li><a href="https://github.com/jgm/pandoc/wiki/Pandoc-Extras">其他</a></li>
    <li><a href="releases.html">发布</a></li>
  </ul>
</div>
      </nav>
      <main class="col-md-9 col-sm-8">
        <div class="row">
          <h1 class="title">发布</h1>
        <div id="toc">
<ul>
<li><a href="#pandoc-2.1.1-18-january-2018">pandoc 2.1.1（2018年1月18日）</a></li>
<li><a href="#pandoc-2.1-7-january-2018">pandoc 2.1（2018年1月7日）</a></li>
<li><a href="#pandoc-2.0.6-28-december-2017">pandoc 2.0.6（2017年12月28日）</a></li>
<li><a href="#pandoc-2.0.5-12-december-2017">pandoc 2.0.5（2017年12月12日）</a></li>
<li><a href="#pandoc-2.0.4-03-december-2017">pandoc 2.0.4（2017年12月3日）</a></li>
<li><a href="#pandoc-2.0.3-20-november-2017">pandoc 2.0.3（2017年11月20日）</a></li>
<li><a href="#pandoc-2.0.2-12-november-2017">pandoc 2.0.2（2017年11月12日）</a></li>
<li><a href="#pandoc-2.0.1.1-04-november-2017">pandoc 2.0.1.1（2017年11月4日）</a></li>
<li><a href="#pandoc-2.0.1-31-october-2017">pandoc 2.0.1（2017年10月31日）</a></li>
<li><a href="#pandoc-2.0.0.1-30-oct-2017">pandoc 2.0.0.1（2017年10月30日）</a></li>
<li><a href="#pandoc-2.0-29-oct-2017">pandoc 2.0（2017年10月29日）</a><ul>
<li><a href="#new-features">新功能</a></li>
<li><a href="#behavior-changes">行为模式的改变</a></li>
<li><a href="#api-changes">API更改</a></li>
<li><a href="#bug-fixes-and-under-the-hood-improvements">修复了一些错误并进行了一些改进</a></li>
<li><a href="#default-template-changes">默认模板更改</a></li>
<li><a href="#documentation-improvements">文档改进</a></li>
<li><a href="#build-infrastructure-improvements">建立基础设施改进</a></li>
</ul></li>
<li><a href="#pandoc-1.19.2.4-10-sep-2017">pandoc 1.19.2.4（2017年9月10日）</a></li>
<li><a href="#pandoc-1.19.2.3-09-sep-2017">pandoc 1.19.2.3（2017年9月9日）</a></li>
<li><a href="#pandoc-1.19.2.2-08-sep-2017">pandoc 1.19.2.2（2017年9月8日）</a></li>
<li><a href="#pandoc-1.19.2.1-31-jan-2017">pandoc 1.19.2.1（2017年1月31日）</a></li>
<li><a href="#pandoc-1.19.2-29-jan-2017">pandoc 1.19.2（2017年1月29日）</a></li>
<li><a href="#pandoc-1.19.1-10-dec-2016">pandoc 1.19.1（2016年12月10日）</a></li>
<li><a href="#pandoc-1.19-01-dec-2016">pandoc 1.19（2016年12月1日）</a></li>
<li><a href="#pandoc-1.18-26-oct-2016">pandoc 1.18（26十月2016）</a></li>
<li><a href="#pandoc-1.17.2-17-jul-2016">pandoc 1.17.2（2016年7月17日）</a></li>
<li><a href="#pandoc-1.17.1-4-jun-2016">pandoc 1.17.1（2016年6月4日）</a></li>
<li><a href="#pandoc-1.17.0.3-24-mar-2016">pandoc 1.17.0.3（2016年3月24日）</a></li>
<li><a href="#pandoc-1.17.0.2-23-mar-2016">pandoc 1.17.0.2（2016年3月23日）</a></li>
<li><a href="#pandoc-1.17.0.1-21-mar-2016">pandoc 1.17.0.1（2016年3月21日）</a></li>
<li><a href="#pandoc-1.17-20-mar-2016">pandoc 1.17（2016年3月20日）</a></li>
<li><a href="#pandoc-1.16.0.2">pandoc（1.16.0.2）</a></li>
<li><a href="#pandoc-1.16.0.2-12-jan-2016">pandoc 1.16.0.2（2016年1月12日）</a></li>
<li><a href="#pandoc-1.16.0.1-10-jan-2016">pandoc 1.16.0.1（2016年1月10日）</a></li>
<li><a href="#pandoc-1.16-02-jan-2016">pandoc 1.16（2016年1月2日）</a></li>
<li><a href="#pandoc-1.15.2.1-16-nov-2015">pandoc 1.15.2.1（2015年11月16日）</a></li>
<li><a href="#pandoc-1.15.2-15-nov-2015">pandoc 1.15.2（2015年11月15日）</a></li>
<li><a href="#pandoc-1.15.1-15-oct-2015">pandoc 1.15.1（2015年10月15日）</a></li>
<li><a href="#pandoc-1.15.0.6-15-jul-2015">pandoc 1.15.0.6（2015年7月15日）</a></li>
<li><a href="#pandoc-1.15.0.5-10-jul-2015">pandoc 1.15.0.5（2015年7月10日）</a></li>
<li><a href="#pandoc-1.15.0.4-03-jul-2015">pandoc 1.15.0.4（2015年7月3日）</a></li>
<li><a href="#pandoc-1.15.0.3-02-jul-2015">pandoc 1.15.0.3（2015年7月2日）</a></li>
<li><a href="#pandoc-1.15.0.2-02-jul-2015">pandoc 1.15.0.2（2015年7月2日）</a></li>
<li><a href="#pandoc-1.15.0.1-01-jul-2015">pandoc 1.15.0.1（2015年7月1日）</a></li>
<li><a href="#pandoc-1.15-01-jul-2015">pandoc 1.15（2015年7月1日）</a></li>
<li><a href="#pandoc-1.14.1-30-jun-2015">pandoc 1.14.1（2015年6月30日）</a></li>
<li><a href="#pandoc-1.14.0.4-02-jun-2015">pandoc 1.14.0.4（2015年6月2日）</a></li>
<li><a href="#pandoc-1.14.0.3-01-jun-2015">pandoc 1.14.0.3（2015年6月1日）</a></li>
<li><a href="#pandoc-1.14.0.2-31-may-2015">pandoc 1.14.0.2（2015年5月31日）</a></li>
<li><a href="#pandoc-1.14.0.1-28-may-2015">pandoc 1.14.0.1（2015年5月28日）</a></li>
<li><a href="#pandoc-1.14-27-may-2015">pandoc 1.14（2015年5月27日）</a><ul>
<li><a href="#new-features-1">新功能</a></li>
<li><a href="#behavior-changes-1">行为模式的改变</a></li>
<li><a href="#api-changes-1">API更改</a></li>
<li><a href="#bug-fixes">Bug修复</a></li>
<li><a href="#template-changes">模板更改</a></li>
<li><a href="#under-the-hood-improvements">在引擎盖改进之下</a></li>
</ul></li>
<li><a href="#pandoc-1.13.2.1-15-apr-2015">pandoc 1.13.2.1（2015年4月15日）</a></li>
<li><a href="#pandoc-1.13.2-20-dec-2014">pandoc 1.13.2（2014年12月20日）</a></li>
<li><a href="#pandoc-1.13.1-30-aug-2014">pandoc 1.13.1（2014年8月30日）</a></li>
<li><a href="#pandoc-1.13.0.1-17-august-2014">pandoc 1.13.0.1（2014年8月17日）</a></li>
<li><a href="#pandoc-1.13-15-august-2014">pandoc 1.13（2014年8月15日）</a><ul>
<li><a href="#new-features-2">新功能</a></li>
<li><a href="#behavior-changes-2">行为模式的改变</a></li>
<li><a href="#api-changes-2">API更改</a></li>
<li><a href="#bug-fixes-1">Bug修复</a></li>
<li><a href="#template-changes-1">模板更改</a></li>
<li><a href="#under-the-hood-improvements-1">在引擎盖改进之下</a></li>
</ul></li>
<li><a href="#pandoc-1.12.4.2-14-may-2014">pandoc 1.12.4.2（2014年5月14日）</a></li>
<li><a href="#pandoc-1.12.4-07-may-2014">pandoc 1.12.4（2014年5月7日）</a></li>
<li><a href="#pandoc-1.12.3.3-03-feb-2014">pandoc 1.12.3.3（2014年2月3日）</a></li>
<li><a href="#pandoc-1.12.3.2-03-feb-2014">pandoc 1.12.3.2（2014年2月3日）</a></li>
<li><a href="#pandoc-1.12.3.1-14-jan-2014">pandoc 1.12.3.1（2014年1月14日）</a></li>
<li><a href="#pandoc-1.12.3-10-jan-2014">pandoc 1.12.3（2014年1月10日）</a></li>
<li><a href="#pandoc-1.12.2.1-2013-12-08">潘多哥1.12.2.1（2013-12-08）</a></li>
<li><a href="#pandoc-1.12.2-2013-12-07">pandoc 1.12.2（2013-12-07）</a></li>
<li><a href="#pandoc-1.12.1-2013-10-20">pandoc 1.12.1（2013-10-20）</a></li>
<li><a href="#pandoc-1.12.0.2-2013-09-20">pandoc 1.12.0.2（2013-09-20）</a></li>
<li><a href="#pandoc-1.12.0.1-2013-09-20">pandoc 1.12.0.1（2013-09-20）</a></li>
<li><a href="#pandoc-1.12-2013-09-15">pandoc 1.12（2013-09-15）</a><ul>
<li><a href="#new-features-3">新功能</a></li>
<li><a href="#behavior-changes-3">行为模式的改变</a></li>
<li><a href="#api-changes-3">API更改</a></li>
<li><a href="#bug-fixes-2">Bug修复</a></li>
<li><a href="#template-changes-2">模板更改</a></li>
<li><a href="#under-the-hood-improvements-2">引擎盖改进</a></li>
</ul></li>
<li><a href="#pandoc-1.11.1-2013-03-17">pandoc 1.11.1（2013-03-17）</a></li>
<li><a href="#pandoc-1.11-2013-03-09">pandoc 1.11（2013-03-09）</a></li>
<li><a href="#pandoc-1.10.1-2013-01-23">pandoc 1.10.1（2013-01-23）</a></li>
<li><a href="#pandoc-1.10.0.5-2013-01-23">pandoc 1.10.0.5（2013-01-23）</a></li>
<li><a href="#pandoc-1.10.0.4-2013-01-20">pandoc 1.10.0.4（2013-01-20）</a></li>
<li><a href="#pandoc-1.10.0.3-2013-01-20">pandoc 1.10.0.3（2013-01-20）</a></li>
<li><a href="#pandoc-1.10.0.2-2013-01-20">pandoc 1.10.0.2（2013-01-20）</a></li>
<li><a href="#pandoc-1.10.0.1-2013-01-20">pandoc 1.10.0.1（2013-01-20）</a></li>
<li><a href="#pandoc-1.10-2013-01-19">pandoc 1.10（2013-01-19）</a><ul>
<li><a href="#new-features-4">新功能</a></li>
<li><a href="#behavior-changes-4">行为模式的改变</a></li>
<li><a href="#template-changes-3">模板更改</a></li>
<li><a href="#api-changes-4">API更改</a></li>
<li><a href="#bug-fixes-3">Bug修复</a></li>
<li><a href="#under-the-hood-improvements-3">在引擎盖改进之下</a></li>
</ul></li>
<li><a href="#pandoc-1.9.4.5-2012-10-21">pandoc 1.9.4.5（2012-10-21）</a></li>
<li><a href="#pandoc-1.9.4.4-2012-10-20">pandoc 1.9.4.4（2012-10-20）</a></li>
<li><a href="#pandoc-1.9.4.3-2012-10-20">pandoc 1.9.4.3（2012-10-20）</a></li>
<li><a href="#pandoc-1.9.4.2-2012-06-29">pandoc 1.9.4.2（2012-06-29）</a></li>
<li><a href="#pandoc-1.9.4.1-2012-06-08">pandoc 1.9.4.1（2012-06-08）</a></li>
<li><a href="#pandoc-1.9.4-2012-06-03">pandoc 1.9.4（2012-06-03）</a></li>
<li><a href="#pandoc-1.9.3-2012-05-12">pandoc 1.9.3（2012-05-12）</a></li>
<li><a href="#pandoc-1.9.2-2012-04-05">pandoc 1.9.2（2012-04-05）</a></li>
<li><a href="#pandoc-1.9.1.2-2012-03-09">pandoc 1.9.1.2（2012-03-09）</a></li>
<li><a href="#pandoc-1.9.1.1-2012-02-11">pandoc 1.9.1.1（2012-02-11）</a></li>
<li><a href="#pandoc-1.9.1-2012-02-09">pandoc 1.9.1（2012-02-09）</a></li>
<li><a href="#pandoc-1.9.0.5-2012-02-06">pandoc 1.9.0.5（2012-02-06）</a></li>
<li><a href="#pandoc-1.9.0.4-2012-02-06">pandoc 1.9.0.4（2012-02-06）</a></li>
<li><a href="#pandoc-1.9.0.3-2012-02-06">pandoc 1.9.0.3（2012-02-06）</a></li>
<li><a href="#pandoc-1.9.0.2-2012-02-05">pandoc 1.9.0.2（2012-02-05）</a></li>
<li><a href="#pandoc-1.9-2012-02-05">pandoc 1.9（2012-02-05）</a><ul>
<li><a href="#new-features-5">新功能</a></li>
<li><a href="#behavior-changes-5">行为模式的改变</a></li>
<li><a href="#bug-fixes-4">Bug修复</a></li>
<li><a href="#under-the-hood-improvements-4">在引擎盖改进之下</a></li>
<li><a href="#api-changes-5">API更改</a></li>
</ul></li>
<li><a href="#pandoc-1.8.2.1-2011-08-01">pandoc 1.8.2.1（2011-08-01）</a></li>
<li><a href="#pandoc-1.8.2-2011-07-30">pandoc 1.8.2（2011-07-30）</a></li>
<li><a href="#pandoc-1.8.1.2-2011-07-16">pandoc 1.8.1.2（2011-07-16）</a></li>
<li><a href="#pandoc-1.8.1.1-2011-02-13">pandoc 1.8.1.1（2011-02-13）</a></li>
<li><a href="#pandoc-1.8.1-2011-02-13">pandoc 1.8.1（2011-02-13）</a></li>
<li><a href="#pandoc-1.8.0.3-2011-02-05">pandoc 1.8.0.3（2011-02-05）</a></li>
<li><a href="#pandoc-1.8.0.2-2011-02-05">pandoc 1.8.0.2（2011-02-05）</a></li>
<li><a href="#pandoc-1.8.0.1-2001-01-31">pandoc 1.8.0.1（2001-01-31）</a></li>
<li><a href="#pandoc-1.8-2011-01-30">pandoc 1.8（2011-01-30）</a><ul>
<li><a href="#new-features-6">新功能</a></li>
<li><a href="#api-and-program-changes">API和程序更改</a></li>
<li><a href="#under-the-hood-improvements-5">引擎盖改进</a></li>
<li><a href="#bug-fixes-5">Bug修复</a></li>
</ul></li>
<li><a href="#pandoc-1.6-2010-07-24">pandoc 1.6（2010-07-24）</a></li>
<li><a href="#pandoc-1.5.1.1-2010-03-29">pandoc 1.5.1.1（2010-03-29）</a></li>
<li><a href="#pandoc-1.5.1-2010-03-23">pandoc 1.5.1（2010-03-23）</a></li>
<li><a href="#pandoc-1.5.0.1-2010-03-21">pandoc 1.5.0.1（2010-03-21）</a></li>
<li><a href="#pandoc-1.5-2010-03-20">pandoc 1.5（2010-03-20）</a></li>
<li><a href="#pandoc-1.4-2010-01-02">pandoc 1.4（2010-01-02）</a></li>
<li><a href="#pandoc-1.3-2009-12-10">pandoc 1.3（2009-12-10）</a></li>
<li><a href="#pandoc-1.2.1-2009-07-18">pandoc 1.2.1（2009-07-18）</a></li>
<li><a href="#pandoc-1.2-2009-03-01">pandoc 1.2（2009-03-01）</a></li>
<li><a href="#pandoc-1.1-2008-11-06">pandoc 1.1（2008-11-06）</a></li>
<li><a href="#pandoc-1.0-2008-09-13">pandoc 1.0（2008-09-13）</a></li>
<li><a href="#pandoc-0.46-2008-01-08">pandoc 0.46（2008-01-08）</a></li>
<li><a href="#pandoc-0.45-2007-12-09">pandoc 0.45（2007-12-09）</a></li>
</ul>
        </div>
<p>想知道什么时候有新版本？订阅<a href="http://groups.google.com/group/pandoc-announce"><code>pandoc-announce</code></a> ，这是一个低容量的邮件列表，仅用于发布新版本。</p>
<h1 id="pandoc-2.1.1-18-january-2018">pandoc 2.1.1（2018年1月18日）</h1>
<ul>
<li><p>降价阅读器：</p>
<ul>
<li>如果相邻的未加工的LaTeX块被空行分隔，则不要将其合并。参见lierdakil / pandoc-crossref＃160。</li>
<li>改进了<code>inlinesInBalancedBrackets</code> （＃4272，jgm / pandoc-citeproc＃315）。这种改变既提高了性能，又修复了回归，因此内联注释和图标题中的正常引用没有被正确解析。</li>
</ul></li>
<li><p>RST阅读器：</p>
<ul>
<li>更好地处理包含锚点的标题（＃4240）。我们没有创建一个包含头部的Div，而是直接将ID放在头部。这种方式标头推广将正常工作。</li>
<li>在数学中需要时添加对齐的环境（＃4254）。 <code>rst2latex.py</code>在<code>.. math::</code> blocks中使用数学中的<code>align*</code>环境，所以这个数学可能包含换行符。如果是这样，我们把数学放在一个<code>aligned</code>环境中来模拟<code>rst2latex.py</code>的行为。</li>
</ul></li>
<li><p>HTML阅读器：</p>
<ul>
<li>修正col的宽度解析百分比&lt;10％（＃4262，n3fariox）。</li>
</ul></li>
<li><p>乳胶读者：</p>
<ul>
<li>在流结束时提前源位置。</li>
<li>即使设置了<code>latex_macros</code>扩展名（＃4246）， <code>rawLaTeXBlock</code>可以在<code>rawLaTeXBlock</code>传递宏<code>rawLaTeXBlock</code> 。这将恢复到早期的行为，并且可能整体上更安全一些，因为一些宏只修改包含在软件包中的东西，而这些宏由pandoc的宏扩展无法修改。</li>
<li>修正转义空间标记的pos计算。</li>
<li><p>允许宏内的宏定义（＃4253）。以前我们进入了一个无限循环</p>
<pre><code>\ newcommand {\ noop} [1] {＃1} \ noop {\ newcommand {\ foo} [1] {＃1}} \ foo {hi}</code></pre></li>
<li><p>修复不一致的列宽（＃4238）。这修正了一个错误，其中正文的列宽度与某些表中的标题的宽度不同。</p></li>
</ul></li>
<li><p>Docx读者（Jesse Rosenthal）：</p>
<ul>
<li>解析<code>instrText</code>标记中的超链接（＃3389，＃4266）。这是在旧版本的词中找到的一种超链接形式。不过，引入的更改创建了一个解析MS Word中更多字段的框架（有关这些字段的更多信息，请参阅规范ECMA-376-1：2016，第17.16.5节）。我们介绍一个新的模块， <code>Text.Pandoc。阅读器，DOCX。包含一个简单的parsec分析器的Fields</code> 。目前，只有简单的超链接字段被接受，但将来可以扩展。</li>
</ul></li>
<li><p>Muse阅读器（Alexander Krotov）：</p>
<ul>
<li>在Text :: Amuse模式下解析<code>~~</code>作为非破坏性的空间。</li>
<li>重构列表解析。</li>
</ul></li>
<li><p>Powerpoint作家（Jesse Rosenthal）：</p>
<ul>
<li>更改引用<code>notesSlide</code> <code>endNotesSlide</code> 。</li>
<li>将图片大小调整为<code>picProps</code> 。</li>
<li>改善表格放置。</li>
<li>制作我们自己的<code>_rels/.rels</code>文件。</li>
<li>正确导入reference-doc图像。</li>
<li>将<code>Presentation.hs</code>移出<code>PandocMonad</code> 。</li>
<li>重构成单独的模块。TPWPowerpoint。演示文稿定义演示数据类型并进入Pandoc-&gt;演示文稿; TPWPandoc。输出进行表示 - &gt;存档。Text.Pandoc。编剧在这两个模块周围使用薄的包装材料。</li>
<li>避免在列输出中重叠块。</li>
<li>以两列布局正确定位图像。</li>
<li>使内容形状检索环境感知。</li>
<li>改善图像处理。我们现在通过获取给定布局中的内容框的尺寸来确定图像和标题的位置。这可以使图像的大小和位置不同。请注意，没有标题和标题的图像将不再进行全屏显示。我们不能在不同的布局中可靠地做到这一点，因为我们不知道标题的位置（例如，它可能在内容的一边）。</li>
<li>从参考文件中阅读展示大小。我们的演示文稿大小现在取决于我们使用的参考/模板文件。</li>
<li>正确处理slidelevel上面的（子）标题。在滑盖上方，副标题将以粗体印刷，并在其之前留出一些额外的空间。请注意，目前，在幻灯片标题上方的标题级别之间没有区别，但可以更改。</li>
<li>检查所需的文件。由于我们现在通过glob从reference / dist文件中导入，所以我们需要确保我们正在获取所需的文件来制作一个无损的Powerpoint。这将执行该检查。</li>
<li>使用<code>--reference-doc</code>改进模板。模板现在应该更可靠地工作。</li>
<li>在TOC中包含注释幻灯片。</li>
<li>将笔记幻灯片标题设置为幻灯片级别。</li>
<li>添加目录。这是由<code>--toc</code>标志触发的。请注意，在漫长的幻灯片中，可能会超出文本框的范围。用户可以通过设置<code>--toc-depth=1</code>来解决这个问题。</li>
<li>正确设置备注幻灯片编号。</li>
<li>清理添加元数据幻灯片。如果它在那里，我们要正确地计算幻灯片的数字。</li>
<li>添加锚链接。对于锚型链接（ <code>[foo](#bar)</code> ），我们生成一个锚链接。在幻灯片中，这些是幻灯片的链接，所以我们跟踪一个地图，将锚点与幻灯片相关联。</li>
<li>使滑块编号可用于块。对于锚点，块处理功能需要知道他们在哪个幻灯片号码。我们使<code>envCurSlideId</code>可用于块。</li>
<li>将<code>curSlideId</code>移至环境。</li>
<li>允许在元数据中设置<code>toc-title</code> 。</li>
<li>将注释链接到尾注幻灯片。</li>
</ul></li>
<li><p>减价作家：</p>
<ul>
<li>修正单元格宽度计算（＃4265）。以前，当通过<code>pandoc -f markdown -t markdown</code>重复运行一个表时，我们可以获得不断延长的单元格宽度。</li>
</ul></li>
<li><p>乳胶作家：</p>
<ul>
<li>逃避<code>&amp;</code> （罗伯特Schütz）。</li>
</ul></li>
<li><p>ConTeXt作家：</p>
<ul>
<li>使用xtables而不是Tables（＃4223，Henri Menke）。上下文输出的缺省值为xtables。如果设置了新的<code>ntb</code>扩展名，则使用自然表。</li>
</ul></li>
<li><p>HTML编写器：</p>
<ul>
<li>修复了带有<code>--id-prefix</code>脚注反向链接（＃4235）。</li>
</ul></li>
<li><p><code>Text.Pandoc。Extensions</code> ：添加了<code>Ext_ntb</code>构造函数（API更改，Henri Menke）。</p></li>
<li><p><code>Text.Pandoc。ImageSize</code> ：将派生的<code>Eq</code>实例添加到<code>Dimension</code> （Jesse Rosenthal，API更改）。</p></li>
<li><p>Lua过滤器（Albert Krewinkel）：</p>
<ul>
<li>使<code>PANDOC_READER_OPTIONS</code>可用。用于读取文档的选项通过<code>PANDOC_READER_OPTIONS</code>全局提供给Lua过滤器。</li>
<li>添加lua模块<code>pandoc.utils.run_json_filter</code> ，在Pandoc文档上运行JSON过滤器。</li>
<li>将滤镜处理代码重构为<code>Text.Pandoc。过滤JSON</code> ， <code>Text.Pandoc。过滤Lua</code>和<code>Text.Pandoc。过滤Path</li>
<li>改进错误消息。提供有关导致错误的任务的更多上下文。</li>
</ul></li>
<li><p>data / pandoc.lua（Albert Krewinkel）：</p>
<ul>
<li>接受单行内联作为列表。现在，每个接受内联列表的构造函数也会接受一个内联元素。</li>
<li>将单个块作为单例列表接受。为了方便起见，现在接受块列表的每个构造函数也接受一个块元素。此外，字符串被接受为<code>{pandoc.Str "text"}</code>在构造函数中。</li>
<li>添加attr，listAttributes访问器。具有属性的元素获得了额外的<code>attr</code>访问器。属性只能通过与文档冲突的<code>identifier</code> ， <code>classes</code>和<code>attributes</code> ，这些文档间接表明这些元素具有<code>attr</code>属性。</li>
<li>掉落<code>_VERSION</code> 。拥有<code>_VERSION</code>变得多余了，因为这个模块与通过<code>PANDOC_VERSION</code>提供的pandoc版本紧密相关。</li>
<li>修复对Attr组件的访问。访问Attr值（例如， <code>Attr().classes</code> ）被破坏;通过Inline或Block元素访问它的更常见情况不受此影响。</li>
</ul></li>
<li><p>将<code>metaValueToInlines</code>从Docx <code>metaValueToInlines</code>移动到<code>Text.Pandoc。编剧Shared</code> ，所以它可以被其他作家（Jesse Rosenthal）使用。</p></li>
<li><p>MANUAL.txt：</p>
<ul>
<li>澄清LaTeX中的其他语言（＃4072）。</li>
<li>澄清<code>latex_macros</code>扩展名。</li>
<li>建议在头文件中使用<code>raw_attribute</code>扩展（＃4253）。</li>
</ul></li>
<li><p>允许最新的QuickCheck，美味，标准。</p></li>
<li><p>删除自定义前奏和ghc 7.8支持。</p></li>
<li><p>减少编译器噪声（编译模块的确切路径）。</p></li>
</ul>
<h1 id="pandoc-2.1-7-january-2018">pandoc 2.1（2018年1月7日）</h1>
<ul>
<li><p>允许过滤器和lua过滤器穿插（＃4196）。以前，我们在JSON过滤器之前运行所有lua过滤器。现在我们按照它们在命令行上显示的顺序运行过滤器，无论是lua还是JSON。有两个不兼容的API更改： <code>applyFilters</code>的类型已更改，并且<code>applyLuaFilters</code>已被删除。<code>Filter</code>现在也被导出。</p></li>
<li><p>使用最新的天窗，并省略<code>missingIncludes</code>检查，修复2.x系列早期版本（＃4226）中的主要性能回归。行为改变：如果您使用的自定义语法定义引用了尚未加载的语法，则pandoc现在会在突出显示文本时发出抱怨，而不是在开始时进行检查。这一变化大大加快了对短期投入pandoc的调用。</p></li>
<li><p>Text.Pandoc。类：使<code>FileTree</code>不透明（不要导出<code>FileTree</code>构造函数）。这会强制用户使用<code>insertInFileTree</code>和<code>getFileInfo</code> （它规范文件名称）与之交互。</p></li>
<li><p>降价阅读器：</p>
<ul>
<li>重写<code>inlinesInBalancedBrackets</code> 。重写更直接，避免<code>parseFromString</code> 。它表现更好;不幸的是，解析时间仍然呈指数增长（见＃1735）。</li>
<li>避免解析原始tex，除非看到<code>\</code> +字母。这似乎有助于性能问题，＃4216。</li>
</ul></li>
<li><p>LaTeX阅读器：简化对原始tex命令的检查。</p></li>
<li><p>Muse阅读器（Alexander Krotov）：</p>
<ul>
<li>启用往返测试（＃4107）。</li>
<li>将<code>#cover</code>自动翻译成<code>#cover-image</code> 。Amusewiki使用#cover指令来指定封面图片。</li>
</ul></li>
<li><p>Docx读者（Jesse Rosenthal）：</p>
<ul>
<li>允许插入/删除段落（＃3927）。如果段落有一个删除或插入段落中断（取决于轨道更改设置），我们坚持到下一段。这照顾接受和拒绝。为此，如果有必要的话，我们引入一个新的状态，从前面的段落中保存这个状态。对于<code>--track-changes=all</code> ，我们在插入或删除中断之前的段落末尾添加一个带有<code>paragraph-insertion</code> / <code>paragraph-deletion</code>的空跨度。</li>
<li>移除未使用的锚（＃3679）。Docx产生了很多没有指向它们的锚 - 我们现在删除这些来产生更清洁的输出。请注意，这必须在流程结束时发生，因为它必须遵循链接/锚点重写。</li>
<li>读取<code>w:sdtContents</code>多个子<code>w:sdtContents</code> 。</li>
<li>结合相邻的锚点。没有任何理由在同一个地方有大量的锚，因为我们不能保持docx的非嵌套重叠。所以我们减少到一个单一的锚点。</li>
<li>改进的测试。</li>
</ul></li>
<li><p>缪斯作家（Alexander Krotov）：不要从AST转义URI</p></li>
<li><p>Docx作家：</p>
<ul>
<li>删除了标题中的多余字幕（Sebastian Talmon）。</li>
<li><code>firstRow</code>表定义兼容性为Word 2016（塞巴斯蒂安Talmon）。如果没有firstRow定义（虽然记录默认值为0），Word 2016似乎对表头使用默认值“1”，所以所有表都将第一行的格式设置为标题。如果表中没有标题行，则将该参数设置为0可修复Word 2016的此问题</li>
<li>修复名称中包含空格的自定义样式（＃3290）。</li>
</ul></li>
<li><p>Powerpoint作家（Jesse Rosenthal）：</p>
<ul>
<li>忽略Notes div与其他幻灯片输出的奇偶校验。</li>
<li>正确设置默认的slidelevel。我们以前默认slideLevel 2。现在我们使用正确的行为默认最高级标题，然后是内容。我们更改预期的测试结果以匹配此行为。</li>
<li>为链接的图像正确分割块。</li>
<li>结合相邻的运行。</li>
<li>使内联代码继承代码大小。以前（a）代码大小在我们强制大小时没有设置，（b）属性是从默认值设置的，而不是继承。</li>
<li>简化<code>replaceNamedChildren</code>函数。</li>
<li>允许链接的图像。以下降价： <code>[![Image Title](image.jpg)](http://www.example.com)</code>将在生成的PowerPoint文件中生成链接的图像。</li>
<li>修复空表格单元格的错误。我们需要一个空的<code>&lt;a:p&gt;</code>标签，即使该单元格不包含段落，否则PowerPoint抱怨腐败。</li>
<li>实施两列幻灯片。这使用了pandoc手册中描述的columns / column div格式。目前，只有两列（每个屏幕的一半）是允许的。自定义宽度不受支持。</li>
<li>增加了更多测试。</li>
</ul></li>
<li><p>OpenDocument / ODT编写者：改进公式的渲染（＃4170，oltolm）。</p></li>
<li><p>Lua过滤器（Albert Krewinkel）：</p>
<ul>
<li><code>data/pandoc.lua</code> ：从Pandoc对象中删除“pandoc-api-version”</li>
<li>当前的pandoc-types版本可用于全局<code>PANDOC_API_VERSION</code>中的Lua程序。它包含版本作为数字列表。</li>
<li>pandoc版本可用作全局<code>PANDOC_VERSION</code> （数字列表）。</li>
<li><code>data/pandoc.lua</code> ：使<code>Attr</code>成为<code>AstElement</code> 。</li>
<li><code>data/pandoc.lua</code> ：使所有类型的亚型<code>AstElement</code> 。<code>Pandoc</code> ， <code>Meta</code>和<code>Citation</code>只是简单的函数，没有在返回值上设置metatable，这使得用新的行为很难修改这些类型的对象。他们现在是AstElement的子类型，这意味着当一个方法被添加到行为对象（例如， <code>pandoc.时，它们的所有对象都可以获得新的特性<code>pandoc.Pandoc.behavior</code> ）。</li>
<li><p><code>data/pandoc.lua</code> ：分割类型和行为表。清楚地区分类型和该类型实例的行为属性。现在可以通过向类型<code>behavior</code>对象添加方法来修改类型（及其所有子类型）的<code>behavior</code> ，而不暴露类型对象内部。例如：</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode lua"><code class="sourceCode lua"><a class="sourceLine" id="cb2-1" data-line-number="1">潘多克<span class="ot">。</span>内联<span class="ot">。</span>行为<span class="ot">。</span> FROB <span class="ot">=</span> <span class="kw">函数</span> <span class="ot">（）</span>打印<span class="st">'42'</span> <span class="kw">端</span></a> <a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw">本地</span>海峡<span class="ot">=</span> <span class="ot">pandoc。</span>STR <span class="st">'你好'</span></a> <a class="sourceLine" id="cb2-3" data-line-number="3">海峡<span class="ot">。</span> frob <span class="ot">（）</span> <span class="do">- 输出'42'</span></a></code></pre></div></li>
<li><code>data/pandoc.lua</code> ：修复元素继承。扩展给定类型的所有元素（例如，所有内联元素）很困难，因为用于查找未知方法的表将在每次创建该类型的新元素时被重置，从而阻止递归属性查找。这已经被改变，所有超类型的方法和属性现在都可用于它们的子类型。</li>
<li><code>data/pandoc.lua</code> ：修复Citation的属性名称（＃4222）。这些字段被命名为Haskell字段，不像文档化的较短版本。名称被改变以匹配文档，并且引用被赋予共享的metatable以实现简单的可扩展性。</li>
<li><code>data/pandoc.lua</code> ：drop函数<code>pandoc.global_filter</code> 。</li>
<li><code>hslua</code>版本0.9.5。此版本修复了一个错误，使得从Lua获取列表或Map时难以处理失败。因此，在使用MetaList或MetaBlock时必须始终传递一个标签的pandoc中的一个错误会被修复。现在使用pandoc模块的这些值的构造函数是可选的（如果仍然推荐）。</li>
<li>停止导出<code>pushPandocModule</code> （API更改）。<code>runPandocLua</code>的引入使得这个函数的使用过时了。</li>
<li>更新lua过滤器的模块文档的生成。</li>
<li><p><code>5.1 Lua 1這個模組Utils</code> ：使字符串化在<code>MetaValues</code>工作（John MacFarlane）。我确信这是第一位的，但目前只支持<code>Meta</code> 。</p></li>
</ul></li>
<li><p>改进基准。</p>
<ul>
<li>正确设置默认扩展名。</li>
<li>改善基准参数解析。你现在可以说<code>make bench BENCHARGS="markdown latex reader"</code> ，降价和乳胶读者将基准。</li>
</ul></li>
<li><p>MANUAL.txt简化并添加更多结构（Mauro Bieg）。</p></li>
<li><p>从模板和MANUAL.txt生成README.md。在更改MANUAL.txt之后， <code>make README.md</code>将生成README.md。</p></li>
<li><p>更新版权声明以包括2018年（Albert Krewinkel）。</p></li>
</ul>
<h1 id="pandoc-2.0.6-28-december-2017">pandoc 2.0.6（2017年12月28日）</h1>
<ul>
<li><p>添加<code>jats</code>作为输入格式。</p>
<ul>
<li>添加文字。Pandoc。阅读器，<code>readJATS</code> ，出口<code>readJATS</code> （API变更）（Hamish Mackenzie）。</li>
<li>JATS阅读器中改进的引用处理。JATS引用现在转换为pandoc引用，JATS引用列表转换为元数据中的<code>references</code>字段，适合与pandoc-citeproc一起使用。因此，具有嵌入式书目信息的JATS文章可以使用pandoc和pandoc-citeproc进行处理，以生成格式化的书目。</li>
</ul></li>
<li><p>允许<code>--list-extensions</code>接受一个可选的FORMAT参数。这列出了所选FORMAT默认设置的扩展名。扩展名现在按字母顺序排列，而<code>+</code>或<code>-</code>表示默认设置在扩展之前，而不是在扩展之后。</p></li>
<li><p>降价阅读器：</p>
<ul>
<li>保留块之间的原始空白。</li>
<li>识别<code>\placeformula</code>作为上下文。</li>
<li>对表格标题更挑剔。标题以a <code>:</code>开头，不能跟着标点符号。否则，我们可以错误地解释隔离div的开始，甚至是一个表格标题行，如<code>:--:|:--:</code>作为标题。</li>
<li>例如列表总是使用四个空间规则。将示例列表内容缩进标签之后的第一个非空格字符会很尴尬，因为示例列表标签通常很长。感谢Bernhard Fisseni的建议。</li>
<li>改善原始tex解析。请注意，Markdown阅读器也受LaTeX阅读器下面描述的<code>latex_macros</code>扩展更改的影响。</li>
</ul></li>
<li><p>乳胶读者：</p>
<ul>
<li><code>latex_macros</code>扩展名更改（＃4179）。设置<code>latex_macros</code>时不要自己通过宏定义。这些宏已经被应用了。如果启用<code>latex_macros</code> ，则在Text中使用<code>rawLaTeXBlock</code> 。Pandoc。阅读器，LaTeX将成功解析一个宏定义，并相应地更新pandoc的内部宏映射，但空字符串将被返回。</li>
<li>导出<code>tokenize</code> ，未<code>untokenize</code> （API更改）。</li>
<li>使用<code>applyMacros</code>在<code>rawLaTeXBlock</code> ， <code>rawLaTeXInline</code> 。</li>
<li>重构的<code>inlineCommand</code> 。</li>
<li>修复tokenizer中的错误。如果不是字符转义，则下面的<code>^^</code>材料被丢弃。这只影响了无效的LaTeX，所以我们没有看到它在野外，但它出现在QuickCheck测试失败。</li>
<li>在LateX标记化中修复回归（＃4159）。这主要影响Markdown阅读器在解析带有空格的原始LaTeX时。</li>
<li>添加LaTeX标记器的测试。</li>
<li>从babel支持<code>\foreignlanguage</code> foreignlanguage。</li>
<li>更能容忍<code>&amp;</code>字符（＃4208）。这使我们能够将未知的表格环境解析为未加工的LaTeX。</li>
</ul></li>
<li><p>Muse阅读器（Alexander Krotov）：</p>
<ul>
<li>在标题之后立即解析锚点作为ID。</li>
<li>要求注释引用不以0开头。</li>
<li>正确解析空白的评论。</li>
</ul></li>
<li><p>Org读者（Albert Krewinkel）：</p>
<ul>
<li>修复星号相关的解析错误（＃4180）。</li>
<li>支持include的minlevel选项（＃4154）。通过使用<code>:minlevel</code>参数指定最小标题级别，可以将包含文件中标题的级别转换到更高级别。例如<code>#+include: "tour.org" :minlevel 1</code>将移动tour.org中的标题，使最顶层的标题变成1级标题。</li>
<li>将org reader测试文件分解成多个模块。</li>
</ul></li>
<li><p>OPML阅读器：</p>
<ul>
<li>默认情况下启用原始HTML和其他扩展的注释（＃4164）。这在2.0中修复了一个回归。请注意，扩展现在可以单独禁用，例如<code>-f opml-smart-raw_html</code> 。</li>
</ul></li>
<li><p>RST阅读器：</p>
<ul>
<li>允许空列表项目（＃4193）。</li>
<li>更准确地解析引用（＃4156）。以前，我们错误地将附件中的反引号包含在参考ID中（＃4156）。正如在docutils中一样，这种改变也会禁用对引用内部语法的解释。所以， <code>`my *link*`_</code>没有强调。</li>
</ul></li>
<li><p>Docx阅读器：</p>
<ul>
<li>中断后继续列表（＃4025，杰西罗森塔尔）。Docx预计列表会在中断之后停止，并且如果列表再次开始，则引入新的标识。所以我们跟踪列表的状态，并在必要时使用它们来定义“开始”属性。</li>
<li>添加结构化文档标签的测试解开（Jesse Rosenthal）。</li>
<li>预处理文档正文以解开<code>w:sdt</code>元素（Jesse Rosenthal，＃4190）。</li>
</ul></li>
<li><p>普通作家：</p>
<ul>
<li>不要链接目录。</li>
</ul></li>
<li><p>RST作家：</p>
<ul>
<li>修复标头的锚（＃4188）。我们错过了一个<code>_</code> 。</li>
</ul></li>
<li><p>PowerPoint作家（Jesse Rosenthal）：</p>
<ul>
<li>将BlockQuotes内的列表视为列表。我们还没有在PowerPoint中创建增量列表，但是我们至少应该将列表内部的列表视为列表，以便与其他幻灯片格式兼容。</li>
<li>增加强制大小的能力。这取代了更具体的<code>blockQuote runProp</code> ，它只影响了blockquotes的大小。我们可以用它来做笔记等</li>
<li>实施笔记。这目前打印最后一张幻灯片上的所有笔记。请注意，此刻，文字溢出笔记幻灯片的危险，因为没有添加更多幻灯片的逻辑。</li>
<li>实现PowerPoint作家的基本定义列表功能。</li>
<li>不要为Powerpoint寻找默认的模板文件（＃4181）。</li>
<li>将pptx添加到isTextFormat列表。这用于检查独立而不写入终端。</li>
<li>服从幻灯片选项（Jesse Rosenthal）。</li>
<li>介绍测试。</li>
</ul></li>
<li><p>Docx作家：</p>
<ul>
<li>确保<code>distArchive</code>是pandoc自带的（＃4182）。以前在<code>~/.pandoc</code> （或用户数据目录）中的<code>reference.docx</code>会被用来代替，这可能会导致问题，因为用户修改的docx有时缺少我们依靠<code>distArchive</code>提供的重要部分。</li>
</ul></li>
<li><p>组织作家：</p>
<ul>
<li>不要用“ - ”来包装，以避免意外的项目清单（Alexander Krotov）。</li>
<li>不要让fn参考文件换行（＃4171，在Alexander Krotov的帮助下）。否则，他们可以被解释为脚注定义。</li>
</ul></li>
<li><p>缪斯作家（Alexander Krotov）：</p>
<ul>
<li>不要将注释引用包装到下一行（＃4172）。</li>
</ul></li>
<li><p>HTML编写器：</p>
<ul>
<li>在行块中使用br元素，而不是依靠CSS（＃4162）。基于HTML的模板已将<code>div.line-block</code>的自定义CSS删除。那些维护自定​​义模板的人也想删除这个。我们还附上与一流的DIV线块<code>line-block</code> 。</li>
</ul></li>
<li><p>乳胶作家：</p>
<ul>
<li>使用<code>\renewcommand</code>为<code>\textlatin</code>与巴贝尔（＃4161）。这样可以避免与Babel中定义的<code>\textlatin</code>命令发生冲突。</li>
<li>在beamer幻灯片中允许fragile = singleslide属性（＃4169）。</li>
<li><code>\endhead</code> <code>\toprule</code>头表中的<code>\endhead</code>后面使用<code>\endhead</code> （＃4207）。</li>
</ul></li>
<li><p>FB2作家：</p>
<ul>
<li>添加封面图片指定的<code>cover-image</code> （亚历山大Krotov，＃4195）。</li>
</ul></li>
<li><p>JATS作家（Hamish Mackenzie）：</p>
<ul>
<li>支持用<code>&lt;title&gt;</code>和<code>&lt;caption&gt;</code> <code>&lt;table-wrap&gt;</code>元素在<code>&lt;title&gt;</code> div <code>&lt;caption&gt;</code> <code>&lt;fig&gt;</code>和<code>&lt;table-wrap&gt;</code>元素，使用Div，将类设置为<code>fig</code> ， <code>table-wrap</code>或<code>caption</code> （Hamish Mackenzie）。标题包含在标题中，因此对标题可能出现的限制也放宽了。</li>
<li>在链接上留下空白的alt属性。</li>
<li>重复删除图像MIME类型代码。</li>
<li>在<code>&lt;td&gt;</code>和<code>&lt;th&gt;</code>中使<code>&lt;p&gt;</code>可选（＃4178）。</li>
<li>空的外部参照自我关闭标签（＃4187）。</li>
<li>改进对代码语言的支持。</li>
</ul></li>
<li><p>定制作家：</p>
<ul>
<li>使用init文件来设置Lua解释器（Albert Krewinkel）。用于为Lua过滤器设置Lua解释器的相同init文件（ <code>data/init</code> ）也用于设置custom writers.lua的解释器。</li>
<li>为newtype包装器（Albert Krewinkel）定义实例。自定义编写器使用自己的<code>ToLuaStack</code>实例定义，这使得难以与Lua过滤器共享代码，因为这可能导致冲突的实例。引入了一个<code>Stringify</code>包装来避免这个问题。</li>
<li>添加了自定义作家的测试。</li>
<li>修正了<code>data/sample.lua</code>定义列表和表格。</li>
</ul></li>
<li><p>固定回归：当目标是PDF时，作者扩展被忽略。所以，例如， <code>pandoc -t latex-smart -o file.pdf</code>没有正常工作。</p></li>
<li><p>Lua模块（Albert Krewinkel）：</p>
<ul>
<li>添加<code>pandoc.utils</code>模块，保存实用功能。</li>
<li>创建一个Haskell模块文本。Pandoc。5.1 Lua 1這個模組Pandoc来定义<code>pandoc</code> lua模块。</li>
<li>为每个Lua模块创建一个Haskell模块。将<code>pandoc.mediabag</code>模块的定义移动到单独的Haskell模块。</li>
<li>将<code>sha1</code>从主<code>pandoc</code>模块移动到<code>pandoc.utils</code> 。</li>
<li>添加函数<code>pandoc.utils.hierarchicalize</code> （将Pandoc块的列表转换为元素的（层次）列表）。</li>
<li>添加函数<code>pandoc.utils.normalize_date</code> （解析日期并将其转换为“YYYY-MM-DD”格式（如果可能））。</li>
<li>添加函数<code>pandoc.utils.to_roman_numeral</code> （允许将4000以下的数字转换为罗马数字）。</li>
<li>添加函数<code>pandoc.utils.stringify</code> （将任何AST元素转换为格式被删除的字符串）。</li>
<li><code>data/init.lua</code> ：默认加载<code>pandoc.utils</code></li>
<li>打开管道，读入完整的Haskell函数。<code>pipe</code>和<code>read</code>实用函数从混合lua / haskell函数转换成完整的Haskell函数。这避免了需要中间的<code>_pipe</code> / <code>_read</code>帮助函数，这些函数已经被删除了。</li>
<li>pandoc.lua：重新添加缺少的MetaMap函数。这是2.0.4版本中引入的一个错误。</li>
</ul></li>
<li><p>Text.Pandoc。类：添加<code>insertInFileTree</code> [API更改]。这给了一个纯粹的方式来插入一个ersatz文件到<code>FileTree</code> 。另外，我们在插入和查找时规范化路径。</p></li>
<li><p>Text.Pandoc。共享：导出<code>blocksToInlines'</code> （API更改，Maura Bieg）。</p></li>
<li><p>Text.Pandoc。MIME：作为audio / ogg（＃4198）添加opus到MIME类型表。</p></li>
<li><p>Text.Pandoc。扩展功能：字母顺序构造函数<code>Extension</code> 。这使得它们按顺序出现在<code>--list-extensions</code> 。</p></li>
<li><p>允许对乳胶错误日志进行宽松的解码，这些日志并不总是正确的UTF8编码（＃4200）。</p></li>
<li><p>更新乳胶模板以使用最新版本的Beamer。旧的模板制作了带有一些最新版本的投影仪的编号部分。感谢Thomas Hodgson。</p></li>
<li><p>更新了reference.docx（＃4175）。文档现在不仅包含“Hello，world”，还包含了大部分对pandoc文档有影响的样式。这使得更容易看到样式更改的效果。</p></li>
<li><p>删除了<code>default.theme</code>数据文件（＃4096）。现在不再需要我们有<code>--print-highlight-style</code> 。</p></li>
<li><p>添加<code>stack.lts9.yaml</code>用于构建<code>stack.lts9.yaml</code> 9和ghc 8.0.2。我们仍然需要这样的高山静态Linux版本，因为我们还没有ghc 8.2.2。</p></li>
<li><p>删除了<code>stack.pkg.yaml</code> 。我们只需要<code>stack.yaml</code> ;我们可以把标志设置为pandoc-citeproc。</p></li>
<li><p>Makefile：添加“trypandoc”和“pandoc-templates”目标，使发布更容易。</p></li>
<li><p>MANUAL.txt：</p>
<ul>
<li>添加关于默认情况下哪些格式具有<code>+smart</code>的说明。</li>
<li>对自定义样式使用本地语法（＃4174，Mauro Bieg）。</li>
<li>引入专门的扩展部分，因为一些扩展会影响除了降价以外的格式（Mauro Bieg，＃4204）。</li>
<li>为<code>--section-divs</code> （Richard Edwards）澄清默认的html输出。</li>
</ul></li>
<li><p>filters.md：说文本。Pandoc。JSON来自pandoc类型。关闭jgm / pandoc-website＃16。</p></li>
<li><p>epub.md：从命令中删除<code>-S</code>选项（＃4151，GeorgerAraújo）。</p></li>
</ul>
<h1 id="pandoc-2.0.5-12-december-2017">pandoc 2.0.5（2017年12月12日）</h1>
<ul>
<li><p>修正2.0.4中的一个错误，即pandoc无法读取使用<code>--print-highlight-style</code> （＃4133）生成的主题文件。改进样式的JSON序列化。</p></li>
<li><p>修复涉及行号的CSS问题（＃4128）。突出显示的代码块现在被包含在具有类<code>sourceCode</code>的div中。突出显示CSS不再为pre和code设置通用颜色;我们只为类<code>sourceCode</code>设置这些。</p></li>
<li><p><code>--pdf-engine-opt</code> ：修复选项顺序颠倒的错误（＃4137）。</p></li>
<li><p>添加PowerPoint（pptx）作家（Jesse Rosenthal）。它遵循标准的Pandoc惯例制作其他类型的幻灯片。4 注意事项</p>
<ul>
<li>语法突出显示尚未实现。（这很难，因为Powerpoint中没有字符类。）</li>
<li>脚注和定义列表尚未实施。（注释通常采用最后一张幻灯片的形式。</li>
<li>图像放置和自动调整大小有一些小故障。</li>
<li>参考PowerPoint文件不能从命令行可靠地工作。这将实施，但目前建议用户从Powerpoint内更改主题。</li>
</ul></li>
<li><p>创建共享文本。Pandoc。编剧OOXML模块（Jesse Rosenthal）。这是由Powerpoint和Docx编写者使用的功能。</p></li>
<li><p>为Powerpoint编写器（Jesse Rosenthal）添加默认的pptx数据。</p></li>
<li><p>添加<code>empty_paragraphs</code>扩展名。</p>
<ul>
<li>弃用<code>--strip-empty-paragraphs</code>选项。相反，我们现在使用可以在读写器上启用的<code>empty_paragraphs</code>扩展。默认情况下，禁用。</li>
<li>将<code>Ext_empty_paragraphs</code>构造函数添加到<code>Extension</code> 。</li>
<li>恢复“Docx读者：不要删除空的段落。”这将恢复提交d6c58eb836f033a48955796de4d9ffb3b30e297b。</li>
<li>在docx读写器，opendocument writer，html reader和writer中实现<code>empty_paragraphs</code>扩展。</li>
<li>为<code>empty_paragraphs</code>扩展添加测试。</li>
</ul></li>
<li><p>降价阅读器：</p>
<ul>
<li>不要将本机div解析为表格标题（＃4119）。</li>
<li>改进了管道表中列宽的计算。具有比文本宽度（由<code>--columns</code>设置）更长的行的管道<code>--columns</code>在缩放为文本宽度，列的相对宽度由标题行之间的比率确定。以前，我们使用标题行长度与列宽度的比率来计算列宽，所以具有窄标题行的表格非常薄，这很少是期望的结果。</li>
</ul></li>
<li><p>LaTeX阅读器：在换行符之前修复<code>\</code> （＃4134）。这应该是一个空格，只要没有空行。这已被固定在标记器级别。</p></li>
<li><p>Muse阅读器（Alexander Krotov）：</p>
<ul>
<li>在Emacs模式下为<code>#disable-tables</code>指令添加测试。</li>
<li>不要把重点放在字母前面。</li>
<li>在Emacs Muse模式中添加下划线支持</li>
<li>在Amusewiki模式下支持多行指令</li>
</ul></li>
<li><p>男作家：省略内部链接（＃4136）。也就是说，只需打印没有URL的链接文本。</p></li>
<li><p>降价阅读器：接受处理指令为原始HTML（＃4125）。</p></li>
<li><p>Lua过滤器（Albert Krewinkel）：</p>
<ul>
<li>使用脚本初始化解释器。<code>init.lua</code>文件用于初始化Lua过滤器中使用的Lua解释器。这使用户可以选择要求在所有过滤器中使用的库，并扩展默认模块。</li>
<li>修复Lua 5.1的包加载。包搜索列表被命名为<code>package.loaders</code>在Lua 5.1和LuaJIT，并<code>package.searchers</code>在Lua 5.2及更高版本。</li>
<li>重构lua模块处理。与Lua的包/模块系统的集成得到了改进：在<code>package.searchers</code> ，搜索者预先设置了一个pandoc特定的包搜索器。模块<code>pandoc</code>和<code>pandoc.mediabag</code>现在可以通过<code>require</code>来加载。</li>
<li>碰撞hslua的下限。发行版hslua 0.9.3包含了一个新的功能，使得使用Haskell函数作为程序包装载器更容易。</li>
</ul></li>
<li><p>reveal.js模板：将标题幻灯片标识添加到标题幻灯片（＃4120）。这使得它更容易风格。</p></li>
<li><p>LaTeX模板：添加了对<code>pagestyle</code>变量（＃4135，Thomas Hodgson）的支持</p></li>
<li><p>将<code>-threaded</code>添加到可执行文件的ghc选项（＃4130，修复了linux上的构建错误）。</p></li>
</ul>
<h1 id="pandoc-2.0.4-03-december-2017">pandoc 2.0.4（2017年12月3日）</h1>
<ul>
<li><p>添加<code>--print-highlight-style</code>选项。这会生成JSON版本的突出显示风格，可以将其保存为<code>.theme</code>文件，进行修改，并使用<code>--highlight-style</code> （＃4106，＃4096）。</p></li>
<li><p>添加<code>--strip-empty-paragraphs</code>选项。这适用于任何输入格式。它主要用于docx和odt文档，其中空白段落被用于段间空格。</p></li>
<li><p>支持<code>--webtex</code>的<code>gfm</code>输出。</p></li>
<li><p>识别<code>.muse</code>文件扩展名。</p></li>
<li><p>在LaTeX阅读器中支持beamer <code>\alert</code> 。关闭%s</p></li>
<li><p>Docx读者：不要删除空白段落（＃2252）。拥有docx转换管道的用户可能需要考虑在命令行中添加<code>--strip-empty-paragraphs</code> 。</p></li>
<li><p>Org阅读器（Albert Krewinkel）：允许空列表项目（＃4090）。</p></li>
<li><p>Muse阅读器（Alexander Krotov）：</p>
<ul>
<li>解析定义列表中的标记。</li>
<li>允许定义以EOF结束。</li>
<li>使代码块往返。</li>
<li>从列表项中删除公共空间前缀。</li>
<li>添加部分往返测试。</li>
<li>不要解释XML实体。</li>
<li>删除<code>nested</code> 。</li>
<li>在Emacs模式下解析<code>~~</code>作为非破坏空间。</li>
<li>正确删除注释中的缩进。确切地说需要一个空间，并且被认为是标记的一部分。</li>
<li>允许列表项目为空。</li>
<li>添加有序列表测试。</li>
<li>添加更多的多行定义测试。</li>
<li>不要在列表中允许块引号。</li>
<li>修复多行定义的阅读。</li>
<li>添加内联<code>&lt;literal&gt;</code>支持。</li>
<li>连接相同类型的内联</li>
</ul></li>
<li><p>Docx作家：允许空白段落（＃2252）。</p></li>
<li><p>CommonMark / gfm作家：</p>
<ul>
<li>使用原生html /本地divs /跨度（＃4113）。这允许使用原始html标记在gfm中呈现pandoc markdown原始div或跨度。</li>
<li>实现<code>raw_html</code>和<code>raw_tex</code>扩展。请注意， <code>raw_html</code>默认启用了<code>gfm</code> ，而默认情况下禁用了<code>raw_tex</code> 。</li>
</ul></li>
<li><p>缪斯作家（Alexander Krotov）：</p>
<ul>
<li>测试内联数学转换结果是否标准化。如果没有标准化，这个测试会产生一个<code>&lt;em&gt;a&lt;/em&gt;&lt;em&gt;b&lt;/em&gt;&lt;em&gt;c&lt;/em&gt;</code> 。</li>
<li>改进内联列表规范化并移至作者。</li>
<li>转义哈希符号。</li>
<li>逃避<code>----</code>避免意外的横向规则。</li>
<li>只转义<code>&lt;/code&gt;</code>里面的代码标签。</li>
<li>由于<code>&lt;code&gt;</code>已经逐字，所以不需要额外的<code>&lt;verbatim&gt;</code> 。</li>
</ul></li>
<li><p>乳胶作家：</p>
<ul>
<li>允许指定图像大小的宽度或高度。以前都需要指定（除非图像被调整大小比原来的大小）。如果指定了高度而不是宽度，我们现在将宽度设置为textwidth。如果指定宽度而不是高度，我们现在将高度设置为textheight。既然我们已经<code>keepaspectratio</code> ，这会产生期望的结果。</li>
<li>在代码中使用<code>--listings</code> （＃4111）来逃避<code>~</code>和<code>_</code> 。</li>
</ul></li>
<li><p>HTML <code>tagWithAttributes</code> ：导出<code>tagWithAttributes</code> 。这是帮助其他作家创建单个HTML标签的帮手。</p></li>
<li><p>通过在LaTeX和ConTeXt编写器中根据需要转换大小写，让<code>a0</code> ， <code>a1</code> ， <code>a2</code> ，...等文档不区分大小写。</p></li>
<li><p>从<code>Text.更改<code>fixDisplayMath</code> <code>Text.Pandoc。编剧Shared</code> ，使其不再产生空的<code>Para</code>作为一个神器。</p></li>
<li><p><code>Text.Pandoc。Shared.blocksToInlines</code> ：使用构建器重写。这给了我们自动的规范化，所以我们不会得到例如两个连续的空间。</p></li>
<li><p>在基于HTML的模板中包含“下划线”类的默认CSS。</p></li>
<li><p>revealjs模板：为数学插件添加<code>tex2jax</code>配置。随着揭示.js的下一个版本，这将解决数学上下文之外的<code>$</code> s问题被解释为数学分隔符（＃4027）。</p></li>
<li><p>用于lua过滤器的<code>pandoc.lua</code>模块（Albert Krewinkel）：</p>
<ul>
<li><p>添加基本​​的lua列表模块（＃4099，＃4081）。列表模块自动加载，但未分配给全局变量。它可以通过调用<code>List = require 'List'</code>来包含在过滤器中。现在给出<code>List</code>列表，内联列表和类<code>List</code>作为元表，使他们更方便。例如，现在可以使用Lua的连接运算符来连接内联的列表<code>..</code> （需要operants的至少一个有<code>List</code>作为元表）：</p>
<pre><code>函数Emph（emph）local s = {pandoc。空间（），潘多克。Str'强调'}返回pandoc。跨度（emph.content .. s）结束</code></pre><code>List</code> metatable分配给传递给构造函数<code>MetaBlocks</code> ， <code>MetaInline</code>和<code>MetaList</code> 。这使得能够将结果对象用作列表。</li>
<li><code>Lua/StackInstances</code> ：通过构造函数推送Pandoc和Meta。现在通过调用pandoc Lua模块的相应构造函数来推送Pandoc和Meta元素。这使得序列化与block和inline被推送到lua的方式保持一致，并且允许使用带有<code>blocks</code>值的List方法。</li>
<li><p>为pandoc添加文档。在<code>lua-filters.md</code>中<code>lua-filters.md</code> 。</p></li>
</ul></li>
<li><p>使用最新的tagsoup。这修正了在<code>&amp;</code> （但不是有效实体）跟随它们（＃4094，＃4088）解析HTML标记时的错误。</p></li>
<li><p>使用skylighting 0.4.4.1，当定影未标记代码文本的颜色<code>numberLines</code>被使用（＃4103）。</p></li>
<li><p>使<code>normalizeDate</code>更宽容（Mauro Bieg，＃4101），不要求在单位数字领先0。</p></li>
<li><p>修复<code>--help</code>输出<code>--highlight-style</code> ，包括<code>FILE</code> （毛罗Bieg，＃4095）。</p></li>
<li><p>更清晰的<code>--latexmathml, --asciimathml, -m</code> 。以前我们只提到<code>--latexmathml</code> ，即使使用<code>-m</code>也是如此。</p></li>
<li><p>更新日志：在2.0版本中修复lua过滤器的描述（Albert Krewinkel）。Lua过滤器最初是<em>在</em>常规（JSON）过滤器<em>之后</em>运行的。不过，稍后会更改，以便更轻松地处理媒体包中的文件。更新日志已更新，以正确描述2.0版本的功能。</p></li>
<li><p>将通用JSON实例更改为TemplateHaskell（Jasper Van der Jeugt，＃4085）。这大大减少了编译时间和内存使用量。</p></li>
<li><p><code>lua-filters.md</code> ：增加了tikz过滤器的例子。</p></li>
<li><p>为macOS二进制文件创建替代zip文件。</p></li>
<li><p>为Windows二进制文件创建替代zip文件。</p></li>
<li><p>更新INSTALL.md，因为我们现在提供了用于二进制文件的zip文件。</p></li>
<li><p>放松<code>http-types</code>依赖（JustusSagemüller，＃4084）。</p></li>
<li><p>添加<code>epub.md</code> ， <code>getting-started.md</code>到文档。这些曾经住在网站回购。</p></li>
<li><p>将<code>packages</code>目标添加到Makefile。</p></li>
<li><p>凹凸界限为二进制，http类型，可口的单元</p></li>
</ul>
<h1 id="pandoc-2.0.3-20-november-2017">pandoc 2.0.3（2017年11月20日）</h1>
<ul>
<li><p>Lua过滤器：预加载文本模块（Albert Krewinkel，＃4077）。<code>text</code>模块预装在lua中。该模块包含一些UTF-8知道的字符串函数，在Haskell中实现。该模块仅在请求时加载，例如：</p>
<pre><code>text = require'text'函数Str（s）s.text = text.upper（s.text）return s end</code></pre></li>
<li><p>允许类似于lua过滤器的属性访问（Albert Krewinkel，＃4071）。属性列表在Lua中被表示为关联列表。纯关联列表很难处理。一个metatable被附加到属性列表中，允许访问和使用关联列表，就像属性被存储在表中的普通键值对一样。请注意，这改变了<code>pairs</code>在属性列表上的工作方式。而不是生成整数键和两元素表，所得到的迭代器函数现在返回这些对的键和值。使用<code>ipairs</code>来获得旧的行为。警告：新的迭代机制只有在使用Lua 5.2或更高版本（当前默认值：5.3）编译pandoc时才有效。</p></li>
<li><p>Text.Pandoc。Parsing.uri：允许<code>&amp;</code>和<code>=</code>作为单词字符（＃4068）。这解决了一个问题，即pandoc将停止解析具有空属性的URI：例如， <code>&amp;a=&amp;b=</code> wolud停在<code>a</code> 。（uri解析器试图猜测哪些标点字符是URI的一部分，哪些可能是标点符号。）</p></li>
<li><p>引入<code>HasSyntaxExtensions</code>类型类（Alexander <code>HasSyntaxExtensions</code> ，＃4074）。</p>
<ul>
<li>为<code>ReaderOptions</code>和<code>WriterOptions</code>添加了新的<code>HasSyntaxExtensions</code>类型类。</li>
<li>从<code>Options.hs</code>重新实现<code>isEnabled</code>函数来接受<code>ReaderOptions</code>和<code>WriterOptions</code> 。</li>
<li>换下<code>enabled</code>从<code>CommonMark.hs</code>新<code>isEnabled</code> 。</li>
</ul></li>
<li><p>加入<code>amuse</code>扩展（亚历山大Krotov）启用逗维基行为<code>muse</code> 。<code>Extension</code>新<code>Ext_amuse</code>构造函数。注意：这是默认打开的;对于Emacs的行为，使用<code>muse-amuse</code> 。</p></li>
<li><p>Muse阅读器（Alexander Krotov）：</p>
<ul>
<li>只计算一个空格作为列表项标记的一部分。</li>
<li>在换行上产生SoftBreaks。现在包装可以用<code>--wrap=preserve</code> 。</li>
<li>添加文字::娱乐脚注扩展。脚注末尾用缩进表示，所以脚注可以放在文本的任何地方，而不只是放在末尾。</li>
<li><code>-amuse</code>时接受Emacs Muse定义列表。Emacs Muse不需要缩进。</li>
</ul></li>
<li><p>HTML阅读器：</p>
<ul>
<li>确保我们不生成0级标题（＃4076），即使是epub中的章节部分也是如此。这会导致问题，因为编写者没有设置期望这些。</li>
<li>在<code>tex_math_single_backslash</code> <code>\(</code>和<code>\)</code>之前<code>\)</code>的<code>tex_math_single_backslash</code> 。以前， <code>\( \frac{1}{a} &lt; \frac{1}{b} \)</code>在<code>markdown</code>或<code>html</code> <code>+tex_math_single_backslash</code>没有被解析为数学。</li>
</ul></li>
<li><p>手册：澄清数学扩展与HTML一起工作。澄清<code>tex_math_dollars</code>和<code>tex_math_single_backslash</code>将与HTML以及Markdown一起使用。</p></li>
<li><p>克里奥尔语读者：修正长列表的性能问题（Sascha Wilde，＃4067）。</p></li>
<li><p>RST阅读器：更好地支持“容器”指令（＃4066）。创建一个div，合并名称属性和类。</p></li>
<li><p>乳胶读者：</p>
<ul>
<li>支持列规格，如<code>*{2}{r}</code> （＃4056）。这相当于<code>rr</code> 。我们现在像宏观扩展它。</li>
<li>允许parbox的可选参数（＃4056）。</li>
<li>允许<code>\footnote</code>上的可选参数（＃4062）。</li>
</ul></li>
<li><p>EPUB作家：封面图片的固定路径（＃4069）。它以前是<code>media/media/imagename</code> ，应该是<code>media/imagename</code> 。</p></li>
<li><p>降价作家：修复网格表中加倍脚注的错误（＃4061）。</p></li>
<li><p>LaTeX模板：包括polyglossia（＃4073）后的natbib / biblatex。否则，我们似乎得到一个错误; biblatex希望polyglossia语言被定义。</p></li>
<li><p>为lua过滤器文档添加了示例。</p></li>
</ul>
<h1 id="pandoc-2.0.2-12-november-2017">pandoc 2.0.2（2017年11月12日）</h1>
<ul>
<li><p>弃用的古代HTML数学方法：-- <code>--latexmathml</code> ， - <code>--gladtex</code> ， - <code>--mimetex</code> ， - <code>--jsmath</code> 。</p></li>
<li><p>修复了<code>data/jats.csl</code> URI。它们被渲染两次，导致默认JATS输出中的无效XML与pandoc-citeproc。</p></li>
<li><p><code>lua-filters.md</code> ：以真实世界的手册页面过滤器为例。</p></li>
<li><p>在pandoc模块中添加lua过滤器函数<code>walk_inline</code>和<code>walk_block</code> ，以在特定的内联和块元素内应用过滤器。</p></li>
<li><p>重构了<code>Text.一些代码<code>Text.Pandoc。5.1 Lua 1PandocModule</code>转换为新的内部模块<code>Text.Pandoc。5.1 Lua 1过滤</p></li>
<li><p>降价阅读器：</p>
<ul>
<li>允许围栏代码块缩进1-3个空格（＃4011）。这带来了我们对他们的处理与CommonMark的一致。</li>
<li>用“chomp”（ <code>|-</code> ）修复YAML元数据。以前，如果<code>|-</code>下的YAML块包含空行，则pandoc不会将其解析为元数据。</li>
</ul></li>
<li><p>从缩写文件中删除<code>etc.</code> 。往往<code>etc.</code>结束句子，我们希望这个时期被视为句子结束时期。</p></li>
<li><p>用<code>--metadata</code> （＃4054）修复回归。用<code>--metadata</code>指定的值应该替换文档中设置的元数据值，而不是创建一个包含新值的列表。</p></li>
<li><p>EPUB作家：</p>
<ul>
<li>修复EPUB OCF结构。 ＃3720被错误地执行了。</li>
<li>修复原始HTML标记（src，海报等）的修改路径（＃4050，＃4055）。这还没有被更新为新的EPUB容器布局，有一个单独的文本/子目录。</li>
<li>修复空白<code>--epub-subdirectory</code>图像路径。</li>
</ul></li>
<li><p>杂项代码清理（Alexander Krotov）。</p></li>
<li><p>使用pandoc-types 1.17.3，它为<code>[Block] Block</code>和<code>[Inline] Inline</code>增加了<code>Walkable</code>实例。</p></li>
<li><p>删除过时的<code>stack.full.yaml</code> （＃4052）。</p></li>
<li><p>更改为在二进制包中使用pandoc-citeproc 0.12.1。</p></li>
<li><p>整合数学输出方法文档（＃4049，Mauro Bieg）。</p></li>
<li><p><code>MANUAL.txt</code> ：修复“Extension：emoji”的标题级别（Albert Krewinkel）。</p></li>
<li><p>使用lua过滤器从<code>MANUAL.txt</code>生成手册页，替换旧的Haskell过滤器。这更容易和更快。</p></li>
<li><p>改进了<code>INSTALL.md</code> 。</p></li>
<li><p>更新命令以在Linux上提取deb档案（＃4043，Salim B）。</p></li>
</ul>
<h1 id="pandoc-2.0.1.1-04-november-2017">pandoc 2.0.1.1（2017年11月4日）</h1>
<ul>
<li><p>改善固定至＃3989（含的HTML标记的解析<code>&gt;</code>在属性或注释）。以前的修复（在2.0.1）只在某些情况下工作。</p></li>
<li><p>FB2作家（Alexander Krotov）：</p>
<ul>
<li>将<code>unrecognised</code>类型添加到<code>&lt;title-info&gt;</code> （Alexander Krotov）。XML模式至少需要一种流派。</li>
<li>从<code>&lt;body&gt;</code>移除<code>&lt;annotation&gt;</code> <code>&lt;body&gt;</code> 。</li>
</ul></li>
<li><p>CommonMark作家：修正<code>gfm</code>删除线（＃4038）。</p></li>
<li><p>使用texmath 0.10，它增加了对更广泛的符号的支持，并修复了MathML和OMML中的默认列对齐。</p></li>
<li><p>突出显示修复，使用天窗0.4.3.2：</p>
<ul>
<li>修复无效的CSS。</li>
<li>在HTML代码块中支持<code>lineAnchors</code> （或<code>line-anchors</code> ）。</li>
<li>确保代码行不会得到重复的标识符（＃4031）。行标识符是使用代码块的标识符作为前缀构建的。如果代码块<code>cb1</code>标识符，我们使用<code>cb1</code> ， <code>cb2</code>等</li>
</ul></li>
<li><p>为<code>data/abbreviations</code>添加了一些缩写，并对列表进行了排序（＃3984，Wandmalfarbe）。</p></li>
<li><p>改进了对HTML编写器中列的支持（＃4028）。</p>
<ul>
<li>从<code>div</code>删除<code>width</code>属性。</li>
<li>删除<code>&lt;div class="column"&gt;</code>元素之间的空格，因为这可以防止宽度总和达到100％的列（空间占用空间）。</li>
<li>将尽可能多的CSS移到模板中。</li>
<li>确保所有基于HTML的模板（包括epub）都包含列的CSS。</li>
<li>除非给定宽度属性，否则列默认为50％宽度。所以，如果你想要两个等宽的列，你可以使用一个具有class <code>column</code>和没有<code>width</code>属性的div。</li>
</ul></li>
<li><p>SelfContained：使用<code>base64</code>作为具有媒体属性的CSS链接（＃4026）。这个修复<code>--self-contained</code> S5 <code>--self-contained</code> 。</p></li>
<li><p>改进<code>pandoc-template-mode.el</code> （Vaclav Haisman）。</p></li>
<li><p>INSTALL.MD：MacOS指令需要xar -f（adam234）。</p></li>
<li><p>MANUAL.txt：</p>
<ul>
<li>说明-setext-headers不会影响gfm输出（＃4035）。</li>
<li>澄清在<code>fenced_divs</code> （＃4039，Tristano Ajmone）中打开和关闭div需要什么。</li>
<li>在文档中删除了对<code>default.beamer</code>引用（＃4024）。还增加了影响PDF输出的其他模板的不同设置。</li>
</ul></li>
</ul>
<h1 id="pandoc-2.0.1-31-october-2017">pandoc 2.0.1（2017年10月31日）</h1>
<ul>
<li><p>修正了markdown和其他非HTML格式的HTML注释的解析（ <code>Text.Pandoc。阅读器，HTML.htmlTag</code> ）（＃4019）。解析器停在第一个<code>&gt;</code>字符处，即使它不是注释的结尾。</p></li>
<li><p>克里奥尔读者（Sascha Wilde）：</p>
<ul>
<li>修复一些小错别字和格式。</li>
<li>在第二段之后，在nowiki-block上添加额外的测试。</li>
<li>修复与尾随空白的列表。</li>
</ul></li>
<li><p>LaTeX阅读器：在命令之后立即处理<code>%</code>注释。例如<code>\emph%</code> 。</p></li>
<li><p>减价阅读器：确保围栏div closers在列表中工作。以前，以下失败：</p>
<pre><code>::: {.class} 1. one 2. two :::</code></pre>
<p>你需要一个空行在关闭<code>:::</code> 。</p></li>
<li><p>使<code>fenced_divs</code>影响Markdown作家。如果<code>fenced_divs</code>被启用， <code>fenced_divs</code>将被渲染为被隔离的div。</p></li>
<li><p>LaTeX / Beamer作家：支持专栏和其他Div（＃4016）中的“块”。</p></li>
<li><p>HTML Writer：一贯使用虚线类名（Mauro Bieg，＃3556）。注意：这个更改可能需要对CSS规则进行一些更改。 <code>footnoteRef</code>已成为<code>footnote-ref</code> ， <code>titleslide</code>已成为<code>title-slide</code> ，而<code>footnoteBack</code>已成为<code>footnote-back</code> 。</p></li>
<li><p>JATS作家：正确传递作者元数据（＃4020）。</p></li>
<li><p>FB2作家（Alexander Krotov）：</p>
<ul>
<li>在定义中写入<code>&lt;p&gt;</code>之外的块。</li>
<li>使项目符号列表与有序列表一致，重复外部列表的标记而不是缩进子列表，因为缩进在读者中不起作用。</li>
<li>添加新的样式FB2测试。</li>
</ul></li>
<li><p><code>Text.Pandoc。ImageSize</code> ：将<code>Millimeter</code>构造函数添加到<code>Dimension</code> （＃4012）[API更改]。现在以'mm'给出的尺寸不再被转换为'cm'。</p></li>
<li><p>修改小型大写语法的文档（Andrew Dunning，＃4013）。</p></li>
<li><p>修复手册中的参考链接（Andrew Dunning，＃4014）</p></li>
<li><p>修改日志中的幻灯片列结构的固定示例（＃4015）。还在MANUAL.txt中记录了此功能。</p></li>
</ul>
<h1 id="pandoc-2.0.0.1-30-oct-2017">pandoc 2.0.0.1（2017年10月30日）</h1>
<ul>
<li><p>EPUB作家：</p>
<ul>
<li>修复了非标准epub-subdirectory值的文件路径。</li>
<li>确保epub2被识别为非文本格式，以便使用模板。</li>
<li>不要为ibooks for epub2包含“前缀”属性。它不验证。</li>
<li>修复样式表路径;以前我们的封面和导航页面有一个不正确的样式表路径。</li>
</ul></li>
<li><p>乳胶读者：</p>
<ul>
<li>在宏展开时需要插入空格（＃4007）。有时我们需要在控制序列之后插入一个空格，以防止它与下一个字母合并。</li>
<li>允许宏的无支撑参数（＃4007）。</li>
<li>允许宏定义的主体不受支撑（＃4007）。</li>
</ul></li>
<li><p>Linux软件包构建：确保pandoc-citeproc是静态链接的。</p></li>
<li><p>trypandoc：添加本地，毫秒。</p></li>
</ul>
<h1 id="pandoc-2.0-29-oct-2017">pandoc 2.0（2017年10月29日）</h1>
<h2 id="new-features">新功能</h2>
<ul>
<li><p>新的输出格式<code>ms</code> （groff ms）。完整的支持，包括表，数学，语法高亮和PDF书签。作者使用texmath的新eqn编写器将数学转换为eqn格式，因此如果包含数学运算，使用该编写器生成的ms文件应该使用<code>groff -ms -e</code>进行处理。</p></li>
<li><p>新的输出格式<code>jats</code> （Journal Article Tag Suite）。这是用于归档和发布文章的XML格式。请注意，除非使用<code>--css</code>指定样式表，否则将自动添加URI编码的CSL样式表（ <code>data/jats.csl</code> ）。</p></li>
<li><p>新的输出格式<code>gfm</code> （GitHub-flavored CommonMark）（＃3841）。这使用绑定到GitHub的cmark分支，所以它应该像GitHub一样解析gfm（除了某些后处理步骤，涉及通知，emojis等）。 <code>markdown_github</code>已被弃用，以支持<code>gfm</code> 。</p></li>
<li><p>新的输出格式<code>muse</code> （Emacs缪斯）（亚历山大Krotov，＃3489）。</p></li>
<li><p>新的输入格式<code>gfm</code> （GitHub-flavored CommonMark）（＃3841）。这使用绑定到GitHub的cmark分支。 <code>markdown_github</code>已被弃用，以支持<code>gfm</code> 。</p></li>
<li><p>新的输入格式<code>muse</code> （Emacs缪斯）读者（亚历山大Krotov，＃3620）。</p></li>
<li><p>新的输入格式<code>tikiwiki</code> （TikiWiki标记）（rlpowell，＃3800）。</p></li>
<li><p>新的输入格式<code>vimwiki</code> （Vimwiki标记）（Yuchen Pei，＃3705）。请注意，有一个新的数据文件<code>data/vimwiki.css</code> ，它可以用来显示由这个阅读器和pandoc的HTML编写器生成的HTML格式的vimwiki自己的HTML导出。</p></li>
<li><p>新的输入格式<code>creole</code> （Creole 1.0）（＃3994，Sascha Wilde）。</p></li>
<li><p><code>fenced_divs</code>新语法，默认情况下启用<code>fenced_divs</code>扩展（＃168）。这为创建块级内容的容器提供了一种有吸引力的纯文本方式。</p></li>
<li><p>增加了新的语法，包括任何输出格式的原始内容，通过启用<code>raw_attribute</code>扩展（这是在默认情况下， <code>markdown</code>和<code>multimarkdown</code> ）。语法与围栏代码块或代码内联相同，只有<code>{=FORMAT}</code>属性，其中<code>FORMAT</code>是输出格式的名称（例如， <code>ms</code> ， <code>html</code> ）。</p></li>
<li><p>实现幻灯片格式的多列支持（＃1710）。预期的结构是：</p>
<pre><code>:::::::::::::: {.columns} ::: {.column width =“40％”} contents ...::: ::: {.column width =“60％”} contents ...::: ::::::::::::::</code></pre>
<p>支持beamer和所有的HTML幻灯片格式。</p></li>
<li><p>允许在<code>$--</code> （＃3806）开始的模板中进行行注释。（需要doctemplates 0.2.1。）</p></li>
<li><p>添加<code>--eol=crlf|lf|native</code>标志和作者选项来控制行尾（Stefan Dresselhaus，＃3663，＃2097）。</p></li>
<li><p>添加<code>--log</code>选项，以JSON格式保存日志消息到一个文件（＃3392）。</p></li>
<li><p>添加<code>--request-header</code>选项，当pandoc使HTTP请求获取外部资源时设置请求标头。例如：-- <code>--request-header User-Agent:blah</code> 。</p></li>
<li><p>增加卢阿过滤器（阿尔伯特Krewinkel，＃3514）。新的<code>--lua-filter</code>选项就像<code>--filter</code>一样<code>--filter</code>但是采用了特殊的lua过滤器的路径名，并且使用了烘焙成pandoc的lua解释器，所以不需要外部解释器。请注意，lua过滤器全部应用于常规过滤器之后，而不管它们在命令行上的位置如何。有关lua过滤器的文档，请参阅<code>doc/lua-filters.md</code> 。</p></li>
<li><p>在运行过滤器的环境中设置<code>PANDOC_READER_OPTIONS</code> 。这包含<code>ReaderOptions</code>的JSON表示，因此过滤器可以访问它。</p></li>
<li><p>支持通过groff <code>ms</code>和pdfroff创建pdf。 <code>pandoc -t ms -o output.pdf input.txt</code> 。</p></li>
<li><p>支持通过HTML和<code>weasyprint</code>或<code>prince</code>生成PDF（Mauro Bieg，＃3909）。 <code>pandoc -t html5 -o output.pdf --pdf-engine=prince</code> 。</p></li>
<li><p>增加了<code>--epub-subdirectory</code>选项（＃3720）。这指定了保存EPUB特定内容的OCF容器中的子目录。我们现在将所有与EPUB相关的内容默认放置在一个<code>EPUB/</code>子目录中（以后这将是可配置的）。</p>
<pre><code>mimetype META-INF / com.apple.ibooks.display-options.xml container.xml EPUB / &lt;&lt;  - 可配置 -  &gt;&gt; fonts / &lt;&lt;  -  static  -  &gt;&gt; font.otf media / &lt;&lt;  - static  -  &gt;&gt; cover.jpg fig1.jpg styles / &lt;&lt;  -  static  -  &gt;&gt; stylesheet.css content.opf toc.ncx text / &lt;&lt;  -  static  -  &gt;&gt; ch001.xhtml</code></pre></li>
<li><p>新增<code>--resource-path=SEARCHPATH</code>命令行选项（＃852）。SEARCHPATH由通常的字符分隔，具体取决于操作系统（：在UNIX上，在Windows上）。默认的资源路径只是工作目录。但是，如果使用<code>--resource-path</code>选项，则必须明确指定工作目录。</p></li>
<li><p>添加了-abbreviations =自定义缩写文件的文件选项（＃256）。默认的缩写文件（ <code>data/abbreviations</code> ）包含一个字符串列表，将被pandoc的Markdown解析器识别为缩写。（在这段时间之后会插入一个不间断的空格，从而防止LaTeX等格式的句子空间。）用户可以通过在其用户数据目录中放置文件缩写（ <code>~/.pandoc</code> on * nix）来覆盖默认值。</p></li>
<li><p>允许一个主题文件作为<code>--highlight-style</code>参数。还要在<code>data/</code>包含一个样本<code>default.theme</code> 。</p></li>
<li><p>允许使用<code>--syntax-definition</code>选项来动态加载语法高亮定义（＃3334）。</p></li>
<li><p>在列出<code>markdown</code>默认现在使用的CommonMark变量嵌套规则（＃3511）。块级项目包含在列表项中所需的缩进不再是固定的，而是由列表项的第一行确定的。要包含在列表项中，块必须缩进列表标记之后的第一个非空格内容的级别。例外情况：如果在列表标记之后有5个或更多空格，则内容被解释为缩进代码块，并且连续段落必须在列表标记末尾之外缩进两个空格。有关更多详细信息和示例，请参阅CommonMark规范。</p>
<p>遵循四维空间规则的文档在大多数情况下应该由新规则解析。以下是一些将以不同方式解析的文本示例：</p>
<pre><code> a. b.</code></pre>
<p>将被解析为一个具有子列表的列表项;根据四空间规则，这将是一个有两个项目的清单。</p>
<pre><code>- 一个代码</code></pre>
<p>这里我们在列表项下面有一个缩进的代码块，尽管它只是从边距开始缩进六个空格，因为它是延续段落开始的四个空格。四空间规则，这将是一个正规的段落，而不是一个代码块。</p>
<pre><code>- 一个代码</code></pre>
<p>在这里代码块将以两个空格开始，而在四空间规则下，它将以<code>code</code>开始。使用四空间规则时，列表项下的缩进代码总是必须从边距缩进八个空格，而新规则只需要从列表标记后的第一个非空格文本的开头缩进四个空格这里， <code>a</code> ）。</p>
<p>（3125号，＃2367号，＃2575号，＃2210号，＃1990号，＃1137号，＃744号，＃172号，＃137号，＃128号）的工作人员提出了一系列错误报告，通过CommonMark（现在由GitHub使用）日益普遍。那些喜欢旧行为的人可以使用<code>-f markdown+four_space_rule</code> 。</p></li>
<li><p>增加了<code>four_space_rule</code>扩展名。这触发了嵌套在列表项下的内容的旧pandoc分析规则（“四空间规则”）。</p></li>
<li><p>增加了<code>spaced_reference_links</code>扩展名（＃2602）。它允许参考链接的两部分之间有空白：例如，</p>
<pre><code>[a] [b] [b]：url</code></pre>
<p>这以前是默认启用的;现在它默认是被禁止的。</p></li>
<li><p>添加<code>space_in_atx_header</code>扩展名（＃3512）。这在pandoc和GitHub markdown中是默认启用的，但不是其他的风格。这就要求在ATX头文件中的头文件和头文本之间有一个空格（正如CommonMark所做的那样，但是很多其他的实现却没有）。这是可取的，以避免错误地捕捉事情</p>
<pre><code>Hash标签</code></pre>
<p>或</p>
<pre><code>＃5</code></pre></li>
<li><p>添加<code>sourcefile</code>和<code>outputfile</code>模板变量（罗兰Hieber，＃3431）。</p></li>
<li><p>在epub中允许特定于ibooks的元数据（＃2693）。您现在可以在YAML元数据中包含以下字段，并在生成的EPUB中对其进行适当处理：</p>
<pre><code>ibooks：版本：1.3.4指定字体：false ipad-orientation-lock：仅限肖像iphone-orientation-lock：仅限于风景的绑定：true scroll-axis：vertical</code></pre></li>
</ul>
<h2 id="behavior-changes">行为模式的改变</h2>
<ul>
<li><p>阅读器功能不再假定CR已从输入中删除。（他们在解析之前剥离CR，简化解析器。）</p></li>
<li><p>增加了对翻译（本地化）的支持（＃3559）。目前这只影响LaTeX阅读器，例如<code>\figurename</code> 。在<code>data/translations</code>可以找到46种语言的翻译数据文件。</p></li>
<li><p>使<code>--ascii</code>与DocBook输出<code>--ascii</code>工作。</p></li>
<li><p>将<code>--latex-engine</code>重命名<code>--latex-engine</code> <code>--pdf-engine</code> ，并将<code>--latex-engine-opt</code>重命名<code>--latex-engine</code> <code>--pdf-engine-opt</code> 。</p></li>
<li><p>删除了<code>--parse-raw</code>和<code>readerParseRaw</code> 。这些令人困惑。现在我们依靠latex或html输入的<code>+raw_tex</code>或<code>+raw_html</code>扩展。因此，我们使用<code>-f latex+raw_tex</code>来代替<code>--parse-raw -f latex</code> ，而不是使用<code>--parse-raw -f html</code>使用<code>-f html+raw_html</code> 。</p></li>
<li><p>使用<code>--filter</code> R过滤器现在可以识别，即使它们不可执行（＃3940，＃3941，Andrie de Vries）。</p></li>
<li><p>在PDF输出中支持SVG，使用<code>rsvg2pdf</code>转换（＃1793）。</p></li>
<li><p>将epub作为epub3的别名，而不是epub2。</p></li>
<li><p>删除了<code>--epub-stylesheet</code> ;使用<code>--css</code>代替（＃3472，＃847）。可以使用多个样式表。样式表将从<code>--css</code>和<code>stylesheet</code>元数据字段（可以包含文件路径或其列表）中取得。</p></li>
<li><p><code>--mathml</code>和MathML不再接受参数。争论是为了在2004年曾经是必要的桥梁JavaScript。我们已经删除了脚本。</p></li>
<li><p><code>--katex</code>改进。使用最新版本，默认加载自动加载脚本。</p></li>
<li><p>更改MathJax CDN默认值（＃3544）。注意：新的URL需要一个版本号，我们必须在后续的pandoc版本中手动更新，以利用mathjax改进。</p></li>
<li><p><code>--self-contained</code> ：不包含<code>data-external="1"</code>元素（＃2656）。您可以通过将元素的属性data-external =“1”添加到元素来保留外部链接。然后Pandoc不会尝试整合其内容时<code>--self-contained</code>使用。这与EPUB作者已经支持的功能类似。</p></li>
<li><p>允许<code>--extract-media</code>使用非二进制输入格式（＃1583，＃2289）。如果<code>--extract-media</code>以非二进制输入格式提供，则pandoc将尝试提取所有链接图像的内容，无论是在本地文件，数据：uris还是外部uris中。它们将根据内容的sha1哈希来命名。</p></li>
<li><p>让<code>papersize: a4</code>工作不分的情况下的<code>a4</code> 。它在ConTeXt中被转换成LaTeX和<code>A4</code>中的<code>a4</code> 。</p></li>
<li><p>使<code>east_asian_line_breaks</code>影响所有读者/作者（＃3703）。</p></li>
<li><p>下划线元素现在一直由读者（＃2270，hftf）处理;他们总是被放在与班<code>underline</code>跨度。这允许用户使用过滤器来区别于其他重点。Docx，Org，Textile，Txt2Tags和HTML阅读器已被更改。</p></li>
<li><p>有显式ID时改进了<code>auto_identifiers</code>行为（＃1745）。以前，只有自动生成的ID被添加到状态中的标题标识符列表中，所以在生成唯一标识符时不会考虑显式ID。可能会导致重复的标识符。这个简单的修复可以确保显式给定的标识符也被考虑在内。</p></li>
<li><p>toc <code>table-of-contents</code>使用目录，使<code>toc</code>成为布尔值（＃2872）。相应地更改了降价，rtf和基于HTML的模板。这使您可以在元数据中设置<code>toc: true</code> ;之前在某些输出格式中产生了奇怪的结果。为了向后兼容， <code>toc</code>仍然被设置为toc内容。但建议您更新模板使用<code>table-of-contents</code>为TOC内容和<code>toc</code>的布尔标志。</p></li>
<li><p>将二进制格式输出更改为stdout。以前，对于二进制格式，输出到标准输出被禁用，除非我们可以检测到输出是管道（而不是发送到终端）。不幸的是，这种检测在Windows上是不可能的，让windows用户无法管理二进制输出。所以我们用以下方式改变了行为：</p>
<ul>
<li>当可以确定输出正在管道（在非Windows平台上）时，允许输出到stdout。</li>
<li>如果没有使用<code>-o</code>选项，默认情况下二进制输出永远不会发送到标准输出。相反，会引发错误。</li>
<li>如果使用<code>-o -</code> ，二进制输出发送到标准输出，无论是否正在管道。这也适用于Windows。</li>
</ul></li>
<li><p>更好的错误行为： <code>error</code>使用已经被提高的<code>PandocError</code>所取代，它可以被调用程序捕获和处理。</p></li>
<li><p>从<code>markdown_github</code> （＃3594）中删除了<code>hard_line_breaks</code>扩展。GitHub有两种Markdown模式，一种用于像README这样的长文档，另一种用于发布短文件等。在问题评论中，换行符被视为强行换行符。在自述文件，维基等中，它被视为普通Markdown中的空间。由于pandoc更可能用于从GitHub Markdown转换长格式的文档， <code>-hard_line_breaks</code>是一个更好的默认设置。</p></li>
<li><p>包括<code>backtick_code_blocks</code>在扩展<code>mardkown_mmd</code> （＃3637）。</p></li>
<li><p>转义<code>MetaString</code>值（如添加了<code>-M/--metadata</code>标志）（＃3792）。以前，他们将被传送到模板没有任何逃脱。请注意<code>--M title='*foo*'</code>产生<code>--M title='*foo*'</code>不同的结果</p>
<pre><code>---标题：* foo * ---</code></pre>
<p>在后一种情况下，我们强调;在前一种情况下，只是一个带有星号字符串的字符串（它将以格式转义，如Markdown，需要它）。</p></li>
<li><p>在HTML，LaTeX（＃3450）中允许<code>em</code> ， <code>cm</code> ， <code>in</code>图像高度/宽度。</p></li>
<li><p>HTML编写器：插入<code>data-</code>在不支持的属性前面。因此，具有属性<code>foo</code>的跨度被写入到带有<code>data-foo</code> HTML5中，因此它是有效的HTML5。HTML4不受影响。这将允许我们在pandoc中使用自定义属性，而不会产生无效的HTML。 （在Wandmalfarbe的帮助下，＃3817。）</p></li>
<li><p>普通作家：改进的超/下标渲染。我们现在处理更多的非数字字符，其中有子/上标Unicode字符。当unicode子/上标字符不可用时，我们使用<code>_(..)</code>或<code>^(..)</code> （＃3518）。</p></li>
<li><p>Docbook，JATS，TEI编写者：省略内部标题时打印INFO消息（＃3750）。这仅适用于列表项内的部分标题，例如，其他部分被忽略。</p></li>
<li><p>在Markdown writer（＃3701）中更改为<code>--reference-links</code> 。使用<code>section</code>或<code>block</code> <code>--reference-location</code> ，pandoc现在将重复前面章节中使用过的引用。降价读者也进行了修改，使<em>原原本本地</em>重复引用不会产生警告，仅与同标号但不同的目标引用。这个想法是，在每个块之后都有引用，有时可能需要重复引用。</p></li>
<li><p>ODT / OpenDocument作家：</p>
<ul>
<li>支持<code>lang</code>属性（＃1667）。</li>
<li>增加了对<code>--toc</code> （＃2836）的支持。感谢<span class="citation" data-cites="anayrat">@anayrat</span> 。</li>
</ul></li>
<li><p>Docx作家：</p>
<ul>
<li><code>lang</code> meta，见＃1667（Mauro Bieg，＃3515）。</li>
<li>更改<code>FigureWithCaption</code>到<code>CaptionedFigure</code> （iandol，＃3658）。</li>
<li>表格式（＃3275）使用<code>Table</code>而不是<code>Table Normal</code> 。<code>Table Normal</code>是默认的表格样式，不能修改。</li>
<li><p>通过评论（＃2994）。我们假设评论被定义为由docx读者解析：</p>
<p>我想<span id="0" class="comment-start" data-author="Jesse Rosenthal" data-date="2016-05-09T16:13:00Z">我留下评论。</span>一些文字有评论<span id="0" class="comment-end"></span>在上面。</p>我们还假设id属性在评论开始和评论结束之间是唯一的并且适当匹配。</li>
<li>书签改进。书签开始/结束现在围绕内容而不是在它之前。为id生成Div的书签（jgm / pandoc-citeproc＃205）。</li>
<li><p>将<code>keywords</code>元数据添加到docx文档属性（Ian）。</p></li>
</ul></li>
<li><p>RST编写器：通过将其解析为具有<code>role</code>属性的<code>Span</code> （＃3407）来支持未知的解释文本角色。这样他们可以在AST中操纵。</p></li>
<li><p>HTML编写器：</p>
<ul>
<li>行块：使用类而不是样式属性（＃1623）。我们现在发行<code>&lt;div class="line-block"&gt;</code>并在默认模板中包含一个<code>line-block</code>的默认定义，而不是在div上硬编码一个<code>style</code> 。</li>
<li>添加课堂<code>footnoteBack</code>返回脚注后面的参考（Timm Albers）。这允许更容易的CSS样式。</li>
<li>将SmallCaps渲染为带有smallcaps类（＃1592）的跨度，而不是直接使用样式属性。这为用户在CSS中设计小型大写字母提供了更大的灵活性。</li>
<li>使用reveal.js，我们使用<code>data-src</code>而不是<code>src</code>来进行延迟加载。</li>
<li>在reveal.js（＃1291）中的图像的特例<code>.stretch</code>类。现在在reveal.js中，一个段落中类<code>stretch</code>的图像本身将伸展以填满整个屏幕，而没有标题或图形环境。</li>
</ul></li>
<li><p>给作者添加了非呈现块的警告。</p></li>
<li><p>作家现在提出了模板失败的错误。</p></li>
<li><p>通过LaTeX创建PDF时，如果字体缺少一些字符（＃3742），则发出警告。</p></li>
<li><p>删除PDF创建程序的初始检查（＃3819）。相反，只要尝试运行它，并提出异常，如果在这一点上没有找到。这改进了Windows上Cygwin用户的操作，除非添加了<code>.exe</code> ，否则可执行文件将不会被<code>findExecutable</code>找到。同样的例外情况与之前一样，但稍后会提出。</p></li>
<li><p>读者发出重复标题标识符的警告（＃1745）。自动生成的标题标识符被赋予后缀，以免与先前使用的标题标识符冲突。但是它们可能仍然与文档中稍后在头文件中给出的明确的标识符，或者在div，跨度，链接或图像上的标识符一致。我们现在在这种情况下发出警告，所以用户可以提供一个明确的标识符。</p></li>
<li><p>CommonMark阅读器现在支持<code>emoji</code> ， <code>hard_line_breaks</code> ， <code>smart</code>和<code>raw_html</code>扩展。</p></li>
<li><p>降价阅读器：</p>
<ul>
<li><p>不要允许反斜杠+换行符影响块结构（＃3730）。请注意，由于此更改，以下生成一个由换行符分隔的两行的标题，现在将生成一个标题，后跟一个段落：</p>
<p>嗨...<br>“好了，”</p>
<p>这可能会影响一些依赖于这种无证和无意的行为的现有文件。这个变化使得pandoc与其他Markdown实现和本身更加一致（因为ATX头文件中的换行符的两个空格版本不起作用，而且两个版本都不能在Setext头文件中工作）。</p></li>
</ul></li>
<li><p>Org阅读器（Albert Krewinkel，除非另有说明）：</p>
<ul>
<li>支持<code>table.el</code>表（＃3314）。</li>
<li>支持宏（＃3401）。</li>
<li>支持<code>#+INCLUDE:</code>文件包含机制（＃3510）。被认可的include类型是<code>example</code> ， <code>export</code> ， <code>src</code>和正常的org文件包含。线号和等级选择等高级功能尚未实现。</li>
<li>将更多的元值解释为内联。以下元变量的值现在使用org-markup解释，而不是将它们视为纯字符串： <code>keywords</code> （以逗号分隔的内联列表）， <code>subtitle</code> （内联值）， <code>nocite</code> （内联值，可重复）。</li>
<li>支持<code>\n</code>导出选项（＃3940）。这将把文本中的所有换行符变成强大的换行符。</li>
</ul></li>
<li><p>RST阅读器：</p>
<ul>
<li>改进的告诫支持（＃223）。我们不再添加一个<code>admonition</code>类，我们只是使用类的警告类型，例如<code>note</code> 。我们把与该标签相对应的单词放在课堂<code>admonition-title</code>开头的一个<code>Div</code>内的课堂<code>admonition-title</code> 。这与我们可以达到RST自己的产出的距离差不多。</li>
<li>初始支持<code>.. table</code>指令。这允许向表中添加字幕。</li>
<li>支持<code>.. line-block</code>指令。这已被弃用，但仍可能在较旧的文件。</li>
<li>支持图像的缩放和对齐属性（＃2662）。</li>
<li>实施隐式内部标题链接（＃3475）。</li>
<li>支持RST风格的引用（＃853）。引用出现在文档的末尾，作为一个定义列表在一个特殊的div与id <code>citations</code> 。引用链接到定义。</li>
<li>回到未知指令的机构（＃3432）。在大多数情况下，保存内容比释放内容更好。这不保证有好的结果;它会因未知的原始指令或逐字指令而失败。</li>
<li><p>处理链接的链接定义（＃262）。例如：</p>
<pre><code>_hello：_goodbye：example.com</code></pre>在这里， <code>hello</code>和<code>goodbye</code>都应该链接到<code>example.com</code> 。</li>
<li><p>支持锚点（＃262）。EG</p>
<pre><code>`你好`_hello：段落</code></pre>这是通过将“段落”放在ID为“ <code>hello</code> ”的<code>Div</code>来支持的。</li>
<li>支持<code>:widths:</code> table指令的<code>:widths:</code>属性。</li>
<li>实现csv-table指令（＃3533）。支持的大多数属性包括<code>:file:</code>和<code>:url:</code></li>
<li><p>通过将其解析为具有“角色”属性的跨度（＃3407）来支持未知的解释文本角色。这样他们可以在AST中操纵。</p></li>
</ul></li>
<li><p>HTML阅读：解析与类跨度<code>smallcaps</code>为<code>SmallCaps</code> 。</p></li>
<li><p>乳胶读者：</p>
<ul>
<li>已实施<code>\graphicspath</code> （＃736）。</li>
<li>正确处理列前缀/后缀。例如，在<code>\begin{tabular}{&gt;{$}l&lt;{$}&gt;{$}l&lt;{$} &gt;{$}l&lt;{$}}</code>每个单元格将被解释​​为具有<code>$</code> before它的内容和<code>$</code>后（数学模式）。</li>
<li>处理komascript <code>\dedication</code> （＃1845）。它现在为元数据增加了一个<code>dedication</code>领域。用户需要提供一个使用这个变量的模板。</li>
<li>支持所有<code>\textXX</code>命令，其中XX = <code>rm</code> ， <code>tt</code> ， <code>up</code> ， <code>md</code> ， <code>sf</code> ， <code>bf</code> （＃3488）。当没有什么比这更好的时候，使用班级跨度。</li>
<li>展开<code>\newenvironment</code>宏（＃987）。</li>
<li>添加对LaTeX子文件包的支持（Marc Schreiber，＃3530）。</li>
<li>更好的支持subfigure包（＃3577）。带有两个子图的数字变成了两个潘多克数字;除非没有subcaptions，否则使用subcaptions和主标题忽略。</li>
<li>添加对（Marc Schreiber，＃3607）的支持。</li>
<li>为连字符包添加基本支持（Marc Schreiber，＃3603）。</li>
<li>添加基本​​的<code>\textcolor</code>支持（Marc Schreiber）。</li>
<li>添加对<code>tabularx</code>环境的支持（Marc Schreiber，＃3632）。</li>
<li>更好地处理数学环境中的注释（＃3113）。这解决了一个eqnarray（除其他外）内的<code>\end{eqnarray}</code>注释的问题。</li>
<li>如果选择<code>raw_tex</code>扩展名（＃3692），则将tikzpicture作为原始逐字环境解析。否则跳过警告。这比试图把它解析为文本更好！</li>
<li>添加<code>\colorbox</code>支持（Marc Schreiber）。</li>
<li>在用于<code>\label</code>跨度上设置标识符。</li>
<li>有<code>\setmainlanguage</code>在元数据中设置<code>lang</code> 。</li>
<li>支持etoolbox的<code>\ifstrequal</code> 。</li>
<li>支持来自回忆录类的<code>plainbreak</code> ， <code>fancybreak</code>等（bucklereed，＃3833）。</li>
<li>支持<code>\let</code> 。另外，修正常规的宏，使它们在使用点扩展，而不是定义点。 <code>\let</code>相反， <code>\let</code>宏观在定义的点上得到扩展。向<code>Macro</code>添加了一个<code>ExpansionPoint</code>字段来跟踪这种差异。</li>
<li>支持简单的<code>\def</code>宏。请注意，我们仍然不支持带有特殊参数分隔符的宏，如<code>\def\foo#1..#2{...}</code></li>
<li>支持等（＃3559，＃3560废止）。</li>
<li>将<code>\ref</code> ， <code>\label</code> ， <code>\eqref</code>命令的内容放入带有属性的<code>Span</code> ，以便在过滤器中处理（Marc Schreiber，＃3639）</li>
<li>添加对<code>glossaries</code>和<code>acronym</code>包的支持（Marc Schreiber，＃3589）。读者不会解析首字母缩略词，但首字母缩略词和词汇表信息被放入Spans的属性中，以便在过滤器中处理它们。</li>
<li>为<code>\ref</code>使用<code>Link</code>而不是<code>Span</code> 。这使得语义上更有意义，并且在引用被解析时避免了不必要的<code>Span [Link]</code>嵌套。</li>
<li>对<code>\hyperlink</code>基本支持。</li>
<li>支持<code>\textquoteleft|right</code> ， <code>\textquotedblleft|right</code> （＃3849）。</li>
<li>支持<code>\lq</code> ， <code>\rq</code> 。</li>
<li>从etoolbox执行<code>\newtoggle</code> ， <code>\iftoggle</code> ， <code>\toggletrue|false</code> （＃3853）。</li>
<li>支持<code>\RN</code>和<code>\Rn</code> ，从biblatex（bucklereed，＃3854）。</li>
<li>改进了对<code>\hyperlink</code> ， <code>\hypertarget</code> （＃2549）的支持。</li>
<li>支持<code>\k</code> ogonek口音。</li>
<li>改善口音的处理。处理ogonek，并使用<code>\"{}</code>等形式正确回退。</li>
<li>更好的支持ogonek口音。</li>
<li>支持<code>\faCheck</code>和<code>\faClose</code> （Marc Schreiber，＃3727）。</li>
<li>支持<code>xspace</code> （Marc Schreiber，＃3797）。</li>
<li>Support <code>\setmainlanguage</code>或<code>\setdefaultlanguage</code> （polyglossia）和<code>\figurename</code> 。</li>
<li>更好地处理LaTeX中的<code>\part</code> （＃1905）。现在我们将章节解析为0级标题，将部分解析为1级标题。解析后，我们检查最低的标题级别，如果它小于1，我们将所有东西都颠倒过来，使得1是最低的标题级别。所以<code>\part</code>将始终产生一个标题;不需要命令行选项。</li>
<li>添加<code>\textcolor</code>块版本（Marc Schreiber）。</li>
<li><code>\textcolor</code>作为内联和块命令（Marc Schreiber）工作。</li>
<li><code>\textcolor</code>将被解析为段落开头的跨度（Marc Schreiber）。</li>
<li>阅读polyglossia / babel <code>\text(LANG){...}</code> （bucklereed）</li>
<li>改进了LaTeX阅读器中包含文件的处理（＃3971）。如果包含的文件包含在内，以前<code>\include</code>将不起作用，例如，开始时没有匹配的结束。</li>
<li>支持<code>\expandafter</code> （＃3983）。</li>
<li>处理<code>\DeclareRobustCommand</code> （＃3983）。目前它只是作为<code>\newcommand</code>的同义词。</li>
<li>手柄<code>\lettrine</code> （Mauro Bieg）。</li>
</ul></li>
<li><p>由于texmath中的更新，数学改进：</p>
<ul>
<li>改进了对重音和上/下分隔符的处理。</li>
<li>支持GNU eqn格式的输出（与* roff一起使用）。</li>
<li>允许<code>\boldsymbol</code> +一个没有花括号的标记，并且与其他样式命令类似。</li>
<li>改进<code>\mathop</code>解析以允许多字符运算符名称。</li>
<li>在数学运算符之后加上“用unicode伪装”的空间。</li>
</ul></li>
<li><p>在<code>ToJSONFilter</code>实例中，现在使用<code>walk</code>而不是<code>bottomUp</code>来<code>a -&gt; [a]</code> （pandoc-types）。请注意，行为会稍有不同，因为<code>bottomUp</code>对函数<code>[a] -&gt; [a]</code>是将其应用于列表的每个子列表，而walk仅将其应用于最大子列表。通常后者的行为是想要的，前者可以在需要的时候被模拟。但是可能有现有的过滤器需要根据新的行为重新编写。性能应该提高。</p></li>
<li><p>由于<code>skylighting</code>库中的修改，语法高亮有一些变化：</p>
<ul>
<li>已经添加了对<code>powershell</code>支持，许多语法定义已经更新。</li>
<li>背景颜色已被添加到<code>kate</code>风格。</li>
<li>突出显示的代码块以HTML格式化的方式已经发生了变化（David Baynard），可能需要更改硬编码的CSS来影响突出显示。（如果您的模板中没有包含硬编码突出显示的CSS，则不需要更改任何内容。）</li>
</ul></li>
</ul>
<h2 id="api-changes">API更改</h2>
<ul>
<li><p>新模块<code>Text.Pandoc。Class</code> （杰西·罗森塔尔，约翰·麦克法兰）。这包含了<code>PandocMonad</code>类型类， <code>PandocIO</code>和<code>PandocPure</code>单子的定义以及相关的功能。</p></li>
<li><p>改变了所有作家和读者的类型。</p>
<ul>
<li>我们现在在界面中使用<code>Text</code>而不是<code>String</code> （＃3731）。（我们还没有改变大多数读者使用<code>Text</code>的内部，但是现在在API中做这个改变开辟了一条路。</li>
<li>现在结果是形式为<code>ma</code> ，约束<code>PandocMonad m</code> 。读者和作者可以结合使用，形成<code>runIO</code>值，可以使用<code>runIO</code>或<code>runPure</code>运行。如果使用<code>runIO</code> ，则读写器都可以在需要时执行IO操作（例如包含文件）。如果使用<code>runPure</code> ，那么函数是纯粹的，不会碰到IO。</li>
<li>以前你使用过<code>writeRST def (readMarkdown def "[foo](url)")</code> ，现在你可以使用<code>runPure $ readMarkdown def (pack "[foo](url)") &gt;&gt;= writeRST def</code> 。</li>
</ul></li>
<li><p>新模块<code>Text.Pandoc。Readers</code> （Albert Krewinkel）这包含以前在顶级<code>Text.定义的阅读器帮助函数<code>Text.Pandoc</code>模块。</p>
<ul>
<li>改变了<code>StringReader</code> - &gt; <code>TextReader</code> 。</li>
<li><code>getReader</code>现在返回一对阅读器和<code>Extensions</code> ，而不是将扩展构建到阅读器中（＃3659）。调用代码必须使用返回的<code>Extensions</code>来明确地设置<code>readerExtensions</code> 。更改的要点是使调用代码可以确定正在使用什么扩展。</li>
</ul></li>
<li><p>新模块<code>Text.Pandoc。Writers</code> （Albert Krewinkel）这包含以前在顶级<code>Text.定义的编写器帮助函数<code>Text.Pandoc</code>模块。</p>
<ul>
<li>改变了<code>StringWriter</code> - &gt; <code>TextWriter</code> 。</li>
<li><code>getWriter</code>现在回退一对阅读器和<code>Extensions</code> ，而不是建立扩展到阅读器（＃3659）。调用代码必须使用返回的<code>Extensions</code>来明确地设置<code>readerExtensions</code> 。更改的要点是使调用代码可以确定正在使用什么扩展。</li>
</ul></li>
<li><p>新模块<code>Text.Pandoc。Lua</code>出口<code>runLuaFilter</code> （Albert Krewinkel，＃3514）。</p></li>
<li><p>新模块<code>Text.Pandoc。App</code>这可以提取命令行程序（ <code>convertWithOpts</code> ）的功能，因此可以在桌面或Web应用程序中进行复制。我们抛出错误（＃3548），而不是退出，而是在pandoc.hs中捕获（导致退出），但允许其他用户使用<code>Text.Pandoc。App</code>恢复。 <code>pandoc.hs</code>现在是一个2班轮。该模块还导出一些实用功能来解析选项和运行过滤器。</p></li>
<li><p>新模块<code>Text.Pandoc。Logging</code> （导出模块）（＃3392）。这里现在包含<code>Text.以前的<code>Verbosity</code>定义<code>Text.Pandoc。Options</code>以及最终将被用来代替原始字符串的新<code>LogMessage</code>数据类型用于警告。除此之外，这将使我们能够根据需要提供机器可读的警告。包括ToJSON实例和showLogMessage。这为我们提供了日志消息的机器可读和人类可读输出的可能性。</p></li>
<li><p>新模块<code>Text.Pandoc。BCP47</code> ，与<code>getLang</code> ， <code>Lang(..)</code> ， <code>parseBCP47</code> 。</p></li>
<li><p>新模块<code>Text.Pandoc。Translations</code> ，导出<code>Term</code> ， <code>Translations</code> ， <code>readTranslations</code> 。</p></li>
<li><p>新模块<code>Text.Pandoc。阅读器，LaTeX.Types', exporting</code>宏<code>,</code> Tok <code>,</code> TokType <code>,</code> Line <code>,</code> Column。</p></li>
<li><p><code>Text.Pandoc。Error</code> ：为<code>PandocError</code>添加了许多新的构造<code>PandocError</code> 。</p></li>
<li><p>公开一些以前的私人模块（＃3260）。这些通常有助于编写自己的读写器模块的人员：</p>
<ul>
<li><code>Text.Pandoc。编剧共享</code></li>
<li><code>Text.Pandoc。分析中</code></li>
<li><code>Text.Pandoc。Asciify</code></li>
<li><code>Text.Pandoc。绘文字</code></li>
<li><code>Text.Pandoc。图像大小</code></li>
<li><code>Text.Pandoc。高亮突出</li>
</ul></li>
<li><p>新模块<code>Text.Pandoc。Extensions</code> （Albert Krewinkel）：扩展解析和处理函数是在顶层<code>Text.中定义的<code>Text.Pandoc</code>模块。这些函数被移动到扩展子模块，以便在其他子模块中重用。</p></li>
<li><p>为<code>Extension</code>添加<code>Ext_raw_attribute</code>构造函数。</p></li>
<li><p>为“Extension”添加<code>Ext_fenced_divs</code>构造函数。</p></li>
<li><p>在<code>Extension</code>添加<code>Ext_four_space_rule</code>构造函数。</p></li>
<li><p>为<code>Extension</code>添加<code>Ext_gfm_auto_identifiers</code>构造函数。</p></li>
<li><p>为<code>Extensions</code>添加<code>Monoid</code>实例。</p></li>
<li><p>添加<code>Text.Pandoc。编剧Ms</code> ，出口<code>writeMs</code> 。</p></li>
<li><p>添加<code>Text.Pandoc。编剧JATS</code> ，出口<code>writeJATS</code> 。</p></li>
<li><p>添加<code>Text.Pandoc。编剧Muse</code> ，出口<code>writeMuse</code> 。</p></li>
<li><p>添加<code>Text.Pandoc。阅读器，Muse</code> ，导出<code>readMuse</code> 。</p></li>
<li><p>添加<code>Text.Pandoc。阅读器，TikiWiki</code> ，导出<code>readTikiWiki</code> 。</p></li>
<li><p>添加<code>Text.Pandoc。阅读器，Vimwiki</code> ，导出<code>readVimwiki</code> 。</p></li>
<li><p>添加<code>Text.Pandoc。阅读器，Creole</code> ，导出<code>readCreole</code> 。</p></li>
<li><p>从<code>Text.导出<code>setVerbosity</code> <code>Text.Pandoc</code> 。</p></li>
<li><p><code>Text.Pandoc。Pretty</code> ：为<code>Doc</code>添加<code>Eq</code>实例。</p></li>
<li><p><code>Text.Pandoc。XML</code> ： <code>toEntities</code> ：将类型更改为<code>Text -&gt; Text</code> 。</p></li>
<li><p><code>Text.Pandoc。65254, "UTF-7"</p>
<ul>
<li>从<code>fromText</code> ，从<code>fromTextLazy</code> ，到<code>toText</code> ，到<code>toTextLazy</code> 。根据它们定义<code>toString</code> ， <code>toStringLazy</code> 。</li>
<li>添加参数化的新功能<code>Newline</code> ： <code>writeFileWith</code> ， <code>putStrWith</code> ， <code>putStrLnWith</code> ， <code>hPutStrWith</code> ， <code>hPutStrLnWith</code> 。</li>
</ul></li>
<li><p><code>Text.Pandoc。MediaBag</code> ：删除<code>extractMediaBag</code> 。</p></li>
<li><p><code>Text.Pandoc。高亮突出</p>
<ul>
<li><code>highlighting</code>现在返回一个而不是也许。这使我们能够显示天窗库返回的错误信息。如果突出显示的库引发错误，则显示警告。</li>
<li>为<code>SyntaxMap</code>添加参数以<code>highlight</code> 。</li>
</ul></li>
<li><p><code>Text.Pandoc。编剧Math</p>
<ul>
<li>导出<code>defaultMathJaxURL</code> ， <code>defaultKaTeXURL</code> 。这将确保我们只需要在一个地方更新这些。</li>
</ul></li>
<li><p><code>Text.Pandoc。自完备的</p>
<ul>
<li>从<code>makeSelfContained</code>移除<code>WriterOptions</code>参数。</li>
<li>将<code>makeSelfContained</code>放在<code>makeSelfContained</code>中而不是IO中。这消除了传递MediaBag的需要，并改善了异常。这也打开了纯粹使用makeSelfContained的可能性。</li>
<li>导出<code>makeDataURI</code> 。</li>
</ul></li>
<li><p><code>Text.Pandoc。图像大小</p>
<ul>
<li>导出<code>lengthToDim</code> ，新的函数<code>scaleDimension</code> 。</li>
<li>从ImageSize导出<code>inEm</code> （＃3450）。</li>
<li>更改<code>showFl</code>并<code>show</code> <code>Dimension</code>实例，以省略额外的小数位数。</li>
<li>作为<code>Dimension</code>的构造函数添加<code>Em</code> 。</li>
<li>将<code>WriterOptions</code>参数添加到<code>imageSize</code>签名（Mauro Bieg）。</li>
</ul></li>
<li><p><code>Text.Pandoc。模板</p>
<ul>
<li>更改<code>renderTemplate'</code>类型<code>renderTemplate'</code> 。现在，它运行在<code>PandocMonad</code> ，如果出现问题，就会引发一个合适的<code>PandocTemplateError</code> ，而不是发生无法解析的<code>error</code> 。</li>
<li>更改<code>getDefaultTemplate</code>签名。现在它运行在<code>PandocMonad</code>任何实例中，并返回一个<code>String</code>而不是一个<code>Either</code>值。它不再需要一个<code>datadir</code>参数，因为这可以从<code>CommonState</code>检索。</li>
</ul></li>
<li><p><code>Text.Pandoc。选项）</p>
<ul>
<li><code>writerEpubSubdirectory</code>添加了<code>WriterOptions</code> （＃3720）。EPUB编写器现在从这个选项中获取EPUB子目录。</li>
<li>在<code>WriterOptions</code> ，将<code>writerLaTeXEngine</code>重命名为<code>writerPdfEngine</code>并将<code>writerLaTeXArgs</code>重命名为<code>writerPdfArgs</code> （Mauro Bieg，＃3909）。</li>
<li>将<code>writerSyntaxMap</code>添加到<code>WriterOptions</code> 。</li>
<li>删除<code>writerEpubStylesheet</code>从<code>WriterOptions</code> 。</li>
<li>删除<code>writerUserDataDir</code>从<code>WriterOptions</code> 。它现在在<code>PandocMonad</code>实例的<code>CommonState</code>中进行。（因此它也可以被读者使用。）</li>
<li>将<code>writerEpubMetadata</code>更改为<code>Maybe String</code> 。</li>
<li>删除<code>readerApplyMacros</code>从<code>ReaderOptions</code> 。现在我们只检查<code>latex_macros</code>阅读器扩展。</li>
<li>FromJSON /的toJSON实例为<code>ReaderOptions</code> 。</li>
<li>在<code>HTMLMathMethod</code> ， <code>KaTeX</code> contsructor现在只接受一个字符串（对于KaTeX基本URL），而不是两个。</li>
<li>删除<code>writerSourceURL</code>从<code>WriterOptions</code> 。我们现在使用<code>stSourceURL</code>在<code>CommonState</code> ，这是由设置<code>setInputFiles</code> 。</li>
</ul></li>
<li><p><code>Text.Pandoc。共享</p>
<ul>
<li><code>tabFilter</code>现在需要一个<code>Text</code> ，而不是<code>String</code> 。</li>
<li><code>openURL</code> ：从任一个改变类型。现在只会提出一个例外，以后被困住。</li>
<li>删除<code>normalizeSpaces</code> （＃1530）。</li>
<li>删除<code>warn</code> 。（使用来自<code>Text. <code>report</code> <code>Text.Pandoc。Class</code>而不是。）</li>
<li>导出一个新的函数<code>crFilter</code> 。</li>
<li>添加<code>eastAsianLineBreakFilter</code> （以前在Markdown阅读器中）。</li>
<li>提供拒绝未知方案的自定义<code>isURI</code> 。（Albert Krewinkel，＃2713）。我们也出口一套已知的<code>schemes</code> 。新功能将从<code>Network.替换相同名称的功能<code>Network.URI</code> ，因为后者没有检查一个方案是否是众所周知的。所有正式的IANA计划（截至2017-05-22）都包含在一套已知的计划中。保留四个非官方计划<code>doi</code> ， <code>isbn</code> ， <code>javascript</code>和<code>pmid</code> 。</li>
<li>删除<code>err</code> 。</li>
<li>删除<code>readDataFile</code> ， <code>readDefaultDataFile</code> ， <code>getReferenceDocx</code> ， <code>getReferenceODT</code> 。这些现在生活在<code>Text.Pandoc。Class</code> ，它们根据<code>PandocMonad</code>原语定义并具有不同的签名。</li>
<li>删除<code>openURL</code> 。从<code>Text.使用<code>openURL</code> <code>Text.Pandoc。Class</code>而不是。</li>
<li>添加<code>underlineSpan</code> 。</li>
</ul></li>
<li><p><code>Text.Pandoc。阅读器，HTML</code> ：导出新的<code>NamedTag</code>类。</p></li>
<li><p><code>Text.Pandoc。阅读器，Markdown</code> ：删除<code>readDocxWithWarnings</code> 。使用新的API可以在运行读取器之后简单地使用<code>getLog</code> 。</p></li>
<li><p><code>Text.Pandoc。阅读器，LaTeX</code> ：更改了<code>rawLaTeXInline</code>和<code>rawLaTeXBlock</code>类型。（现在都返回一个<code>String</code> ，并且它们是多态的。）</p></li>
</ul>
<h2 id="bug-fixes-and-under-the-hood-improvements">修复了一些错误并进行了一些改进</h2>
<ul>
<li><p>TEI编写器：在<code>&lt;div&gt;</code>元素上添加标识符。</p></li>
<li><p>DokuWiki阅读器：更好地处理列表项（＃3824）中的代码块。</p></li>
<li><p>定制作家：删除旧的预处理器条件（Albert Krewinkel）。</p></li>
<li><p>ZimWiki作者：从注释和表格单元格中删除了内部格式，因为ZimWiki不支持它（Alex Ivkin，＃3446）。</p></li>
<li><p>MediaWiki作家：</p>
<ul>
<li>语法高亮语言的更新列表（＃3461）。现在<code>r</code>得到你<code>&lt;source&gt;</code>而不是<code>&lt;code&gt;</code> （等等）。</li>
<li>在<code>&lt;math&gt;</code>标签上添加显示属性（＃3452）。这允许显示数学被正确渲染。</li>
<li>在<code>&lt;/ref&gt;</code> （＃2652）之前删除换行符。</li>
<li>不要在列表项目（＃3531）内使用软划线。</li>
</ul></li>
<li><p>组织作家：</p>
<ul>
<li>子弹后缩小到两个空间（＃3417，阿尔伯特Krewinkel）。</li>
<li>添加单元测试（Alexander Krotov）。</li>
<li>停止使用原始的HTML来包装div（Albert Krewinkel，＃3771）。</li>
<li>不要从组织链接（亚历山大Krotov）剥离<code>#</code> 。</li>
</ul></li>
<li><p>CommonMark作家：</p>
<ul>
<li>在输出结束时避免多余的空白行。</li>
<li>即使这意味着丢失了相对的列宽度信息（＃3734），管道表也会优先于HTML表格。</li>
<li>支持表，删除线扩展，启用时（与gfm一样）。请注意，我们绕过了cmark的commonmark writer，构建了自己的管道表，结果更好。</li>
<li>正确支持<code>--wrap=none</code> 。</li>
<li>为<code>SmallCaps</code>使用smallcaps类（＃1592）。</li>
<li>图像标题中省略“fig：”前缀。这用于内部指示内部数字。</li>
</ul></li>
<li><p>RST作家：</p>
<ul>
<li>正确处理表格标题。</li>
<li>不要用定义列表术语来包装行。包装是不允许的。</li>
<li>实现<code>+/-smart</code>和改进<code>+smart</code>转义。</li>
<li>在需要时添加空注释，以避免在前面的块的缩进内容中包含一个块引用（＃3675）。</li>
<li>改善网格表输出，修复空行错误（＃3516）。在Writer中使用新的<code>gridTable</code> 。共享，在这里进行了改进，以更好地处理0宽度的单元格。</li>
<li>删除RST代码段（＃3496）开始/结尾的空格。否则我们会得到无效的RST。似乎没有办法摆脱这个空间。</li>
<li>当标题具有非标准ID时，添加标题锚点（＃3937）。</li>
<li>正确处理包含反引号的内联代码，使用<code>:literal:</code> role（＃3974）。</li>
<li>不要反斜杠 - 逃避字内部的标点符号（＃3978）。</li>
</ul></li>
<li><p>减价作家：</p>
<ul>
<li>不要在元数据块中包含变量。以前在命令行中设置的变量包含在YAML元数据中，与文档和意图相反。</li>
<li>改进<code>+smart</code>转义。</li>
<li>修复了网格表中嵌入的网格表（＃2834）。</li>
<li>对SmallCaps使用类“smallcaps”的span，而不是像以前那样使用style属性（＃1592）。</li>
<li>如果启用了<code>pandoc_title_blocks</code>扩展名（＃3454），则<code>pandoc_title_blocks</code>段落中的初始<code>%</code> 。否则开头的文字在文档中<code>%</code>的第一行被错误地解释为一个标题。</li>
<li><p>修复了YAML元数据中错误的有序列表（＃3492，＃1685）。现在，我们正确地转义，否则将开始有序列表，如</p>
<pre><code>---标题：1.内嵌...</code></pre></li>
<li>更好地处理空列的表格（＃3337）。现在我们根据最长的一行（或者对齐的长度或者宽度）来计算列的数量。</li>
<li>在段落（＃3497）的开始处将无序列表标记转义，以避免将错误解释列为列表。</li>
<li>逃脱<code>|</code>适当。</li>
<li>确保列在最上层之前的空间（＃3487）。</li>
<li>例如，避免在表格和列表之后的文档末尾出现虚假的空白行。</li>
<li>修复了简单/多行列表输出中的错误（＃3384）。以前我们用<code>--wrap=none</code>得到了超长的列表。这是固定的。以前多行列表可能成为一个简单的列表（并将永远成为一个<code>--wrap=none</code> ）。</li>
<li>如果禁用了<code>simple_tables</code>则不要发出简单的表（＃3529）。</li>
<li>不区分大小写的参考链接（David A Roberts，＃3616）。确保我们不生成标签只有大小写不同的引用链接。当链接文本和标签完全相同时，还允许隐式引用链接。</li>
<li>在引用链接定义之前放置空格（Mauro Bieg，＃3630）。</li>
<li>更好的逃避链接（David A. Roberts，＃3619）。以前，Markdown作家有时会创建源代码中没有链接的链接。现在通过在可能创建链接的地方发生选择性地转义括号字符来避免这一点。</li>
<li>新增失踪<code>\n</code> （戴维·罗伯茨，3647＃）。</li>
<li>修复了带有<code>--reference-links</code>和<code>--reference-location=section</code> （＃3674）的重复引用链接。还要确保没有空的链接引用<code>[]</code> 。</li>
<li>避免使用内容为空的内联环绕标记（＃3715）。例如，我们不希望<code>&lt;strong&gt;&lt;/strong&gt;</code>变成<code>****</code> 。同样重点，超/下标，三振。</li>
<li>不要让标题中的软中断（＃3736）。</li>
<li>确保<code>plain</code> ， <code>markdown_github</code>等工作原始。以前只有<code>markdown</code>工作。注意：目前标记为<code>markdown_github</code>的原始块将以任何<code>markdown</code>格式打印。</li>
<li>确保<code>+</code>和<code>-</code>正确地转义，以避免造成虚假列表（＃3773）。以前他们只有成功了一个空间，而不是他们在行尾。</li>
<li>如果禁用了<code>raw_html</code>并启用了<code>pipe_tables</code> ，则使用管道表，即使该表具有相对宽度信息（＃3734）。</li>
<li>Markdown作家：不要在<code>Str ""</code>上崩溃。</li>
<li>制作<code>Span</code>为null属性透明。也就是说，当没有属性时，我们不使用括号或<code>&lt;span&gt;</code>标记来标记跨度;我们只是输出内容。</li>
<li>启用<code>pipe_tables</code>时<code>pipe_tables</code>管道字符（＃3887）。</li>
<li>更好的逃避<code>&lt;</code>和<code>&gt;</code> 。如果<code>all_symbols_escapable</code>被设置，我们反斜杠转义这些。否则我们像以前一样使用实体。</li>
<li>在写简单的时候，不要使用<code>&amp;nbsp;</code>分开列表和缩进代码。在这种情况下不需要它，因为这不是使用Markdown规则解释的。</li>
<li>保留JS混淆链接的类（Timm Albers，＃2989）。包含类的HTML链接最初保存在使用JavaScript电子邮件模糊处理。</li>
<li>在启用<code>native_spans</code>将<code>SmallCaps</code>渲染为本地范围。</li>
<li><p>总是写带有属性<code>bracketed_spans</code> （d-DORAZIO）。</p></li>
</ul></li>
<li><p>男人作家：</p>
<ul>
<li>修正嵌套字体命令的处理（＃3568）。以前，pandoc为粗体+斜体或粗体+代码发出不正确的标记。</li>
<li>避免定义列表出现错误（＃3832）。</li>
</ul></li>
<li><p>DocBook作者：</p>
<ul>
<li>修复与<code>writerIdentifierPrefix opt</code> （＃3397，Mauro Bieg）的内部链接。</li>
</ul></li>
<li><p>Docx作家：</p>
<ul>
<li>除非非空id（＃3476），否则不要在标题中包含书签。</li>
<li>支持9级标题（＃1642）。</li>
<li>允许9个列表级别（＃3519）。</li>
<li>不要从datadir（＃3322）获取<code>distArchive</code> 。当在用户的自定义<code>reference.docx</code>找不到它们时，docx编写器将从发行版的<code>reference.docx</code>获取组件。之前，我们允许将数据目录中的<code>reference.docx</code> （例如<code>~/.pandoc</code> ）用作分发的reference.docx。这导致了一个奇怪的情况，即使用<code>--template ~/.pandoc/ref.docx</code> ，pandoc会产生一个很好的docx，但是如果<code>ref.docx</code>被移动到<code>~/.pandoc/reference.docx</code> ，那么会产生一个损坏的docx 。</li>
<li>固定处理软连字符（0173）（＃3691）。</li>
<li>更好地处理关键字（＃3719）。</li>
<li>用于处理<code>Div</code>目录和样式属性的清洁代码。</li>
<li>使用<code>Set</code>动态样式来避免重复。</li>
<li>从data / docx / word / numbering.xml中删除多余的元素。我们需要的元素是在编译文档时生成的;这没有做任何事情。</li>
<li>从引用docx（＃3901，AugustínMartínBarbero）激活<code>evenAndOddHeaders</code> 。</li>
</ul></li>
<li><p>ODT / OpenDocument作家：</p>
<ul>
<li>计算百分比大小图像的纵横比（Mauro Bieg，＃3239）。</li>
<li>使用更广泛可用的项目符号（＃1400）。旧字符在某些字体集中不可用。这些似乎在LibreOffice的Windows和Linux版本上运行良好。</li>
<li>列表更广泛的标签（＃2421）。这可以避免使用<code>()</code>分隔符过度缩小有序列表的标签。然而，可以说它为子弹创造了过宽的标签。此外，列表现在开始与边距齐平，而不是缩进。</li>
<li>修正了某些有序列表中删除的元素（＃2434）。</li>
</ul></li>
<li><p>FB2作家：</p>
<ul>
<li>不要将<code>RawBlock</code>渲染为代码。</li>
<li>不要在内部标题上出现错误（例如在列表中）（＃3750）。相反，用INFO消息省略它们。</li>
<li>添加对“lang”元数据的支持（Alexander Krotov，＃3625）。</li>
<li>将<code>LineBlock</code>为诗（Alexander Krotov）。之前的作者用<code>&lt;empty-line/&gt;</code>元素生成了一个段落，根据FB2模式，这些元素在<code>&lt;p&gt;</code>是不允许的。</li>
<li>用<code>concatMap</code>替换<code>concatMap</code> （Alexander <code>cMap</code> ）。</li>
<li>在<code>&lt;p&gt;</code>写入没有嵌套块的FB2列表（Alexander Krotov，＃4004）</li>
</ul></li>
<li><p>HTML编写器：</p>
<ul>
<li>确保<code>html4</code> ， <code>html5</code>格式适用于原始块/内联。</li>
<li>在使用<code>--mathjax</code> （＃3816）时渲染原始内联环境。我们以前只用原始块做这个，假设数学环境永远是原始块。自从我们现在将它们解析为内联环境以来，这已经发生了变化。</li>
<li>确保我们没有获得宽度和高度的两个样式属性。</li>
<li>报告没有渲染原始内联/块。</li>
<li>如果未指定标题和使用模板，则发出警告（＃3473）。</li>
<li>如果<code>lang</code>未指定，则显示信息消息（＃3486）。</li>
<li>在<code>dimensionsToAttributeList</code>删除了未使用的参数。</li>
<li>添加<code>uri</code>类时避免两个类属性（＃3716）。</li>
<li>修复与<code>writerIdentifierPrefix opt</code> （＃3397，Mauro Bieg）的内部链接。</li>
<li>为mathjax使用revealjs的数学插件（＃3743）。这是一个关于mathjax的简单封装，它使得数学看起来更好。</li>
<li>Slidy：对所有幻灯片使用h1，即使它们原本是2级标题（＃3566）。否则，Slidy中的内置表格会中断。</li>
</ul></li>
<li><p>乳胶作家：</p>
<ul>
<li>不要渲染带有data：URI的LaTeX图像（＃3636）。请注意，当输入包含data：URI时，可以使用<code>--extract-media</code> 。</li>
<li>使突出显示的代码块在脚注中起作用（Timm Albers）。</li>
<li>不要使用图表单元格内的数字（＃3836）。</li>
<li>为列表枚举员使用正确的代码（＃3891）。这应该解决不使用阿拉伯数字的列表的问题。</li>
<li>当存在非空标识符时，总是添加超目标（＃2719）。以前只有当实际上有一个到那个标识符的链接时，才会添加这个hypertargets。</li>
<li>在代码块之前在高程度之后使用<code>%</code> 。</li>
<li>在段落（＃2704）的开始部分的<code>\leavevmode</code>之前添加<code>\leavevmode</code> ，修复了投影仪引用中的格式化问题。</li>
<li>（＃645）中不要使用<code>lstinline</code> 。如果这样做，项目的内容消失或错位。改用<code>\texttt</code> 。</li>
<li>解决在<code>lstinline</code>转义的问题（＃1629）。此前，LaTeX的作家创造无效的LaTeX时<code>--listings</code>指定和内部强调或其他结构发生码跨度。</li>
<li>修复空白内容后换行符错误（＃2874）。LaTeX在换行之前需要一些东西，所以我们插入一个<code>~</code>如果没有可打印的内容尚未发出。</li>
<li>使用BCP47解析器。</li>
<li>修复了其他语言的检测（＃3770）。我们没有递归到内联的上下文中。</li>
<li>使用<code>--listings</code>处理内嵌代码中的语言（＃3422）。</li>
<li>在LaTeX中直接写欧元符号（Andrew Dunning，＃3801）。textcomp包允许pdfLaTeX直接解析<code>€</code> ，使得<code>\euro</code>命令不需要。</li>
<li>修正了表格标题中的脚注（＃2378）。请注意，如果表格有第一个页面标题和一个连续页面标题，则这些注释将仅出现在标题的第一个出现处。</li>
<li>在<code>writeBeamer</code>输出中，允许超链接到帧（＃3220）。以前，你可以链接到一个标题上方或下方滑动的水平，但没有<em>滑动</em>的水平。这个提交改变了。超级部件被插入到帧标题中;从技术上讲，参考是在标题之后，但在正常使用中（幻灯片在幻灯片放映中全屏显示），这并不重要。</li>
<li>删除表格单元格开始处的<code>\strut</code> （＃3436）。这解决了表格单元格中的列表对齐问题。最后的“ <code>\strut</code> ”似乎足以避免在1573年推动增加撑杆的间距太近。</li>
<li>添加部分siunitx支持（Marc Schreiber，＃3588）。</li>
</ul></li>
<li><p>ConTeXt作家：</p>
<ul>
<li>重构使用BCP47模块。</li>
<li>删除不必要的<code>$</code> （亚历山大Krotov，＃3482）。</li>
<li>章节使用标题标识符（＃3968）。</li>
</ul></li>
<li><p>EPUB作家：</p>
<ul>
<li><code>title_page.xhtml</code>现在放在<code>text/</code> 。</li>
<li>不要去掉TOC中的格式化（＃1611）。</li>
</ul></li>
<li><p>纺织阅读器：</p>
<ul>
<li>修复表格单元格中某些链接的错误（＃3667）。</li>
<li>允许列表项目（＃3916）中的“预”代码。</li>
</ul></li>
<li><p>HTML阅读器：</p>
<ul>
<li>添加了被忽略材料的警告（＃3392）。</li>
<li>更好的理智检查，以避免在Markdown阅读器中将未预料的东西解析为原始HTML（＃3257）。</li>
<li>用<code>id</code>属性修改<code>li</code>处理（＃3596）。以前，我们总是在列表项前添加一个空的div，但是这造成了间距紧的问题。现在我们这样做：如果列表项内容以<code>Plain</code>块开始，我们通过在其内容上添加<code>Span</code>来修改<code>Plain</code>块。否则，我们会在列表项的内容上添加一个<code>Div</code> （而不是像之前那样在开始处添加一个空的<code>Div</code> ）。</li>
<li>将<code>details</code>标签添加到块标签列表（＃3694）。</li>
<li>从块标签列表中删除<code>button</code> （＃3717）。它已经在<code>eitherBlockOrInlineTag</code>列表中，并且应该是两个地方。</li>
<li>使用<code>Set</code> s而不是列表来查找块标记。</li>
<li>重写了整个<code>Text</code> 。对内存使用的影响不大（&lt;10％）。</li>
<li>使用lang值<code>&lt;html&gt;</code>设置lang元值（bucklereed，＃3765）。</li>
<li>确保段落在父块元素关闭时正确关闭，即使没有<code>&lt;/p&gt;</code> （＃3794）。</li>
<li>解析<code>&lt;figure&gt;</code>和<code>&lt;figcaption&gt;</code> （Mauro Bieg，＃3813）。</li>
<li>像<code>&lt;div role=main&gt;</code>解析<code>&lt;main&gt;</code> （bucklereed，＃3791）。 <code>&lt;main&gt;</code>关闭<code>&lt;p&gt;</code>并表现得像一个块元素</li>
<li>支持列对齐（＃1881）。这些可以在<code>width</code>属性中设置，也可以在<code>style</code>属性中设置为<code>text-width</code> 。</li>
<li>修改后的状态类型是<code>HasLogMessages</code>一个实例，所以<code>registerHeader</code>可以发出警告。</li>
<li><code>&lt;/td&gt;</code>或<code>&lt;/th&gt;</code>应关闭任何打开的块标记（＃3991）。</li>
<li><code>&lt;td&gt;</code>应关闭打开的<code>&lt;th&gt;</code>或<code>&lt;td&gt;</code> 。</li>
<li><code>htmlTag</code>改进（＃3989）。我们以前在属性包含<code>&gt;</code>字符的情况下失败了。这个补丁修复了这个bug，它特别影响了Markdown中的原始HTML。</li>
</ul></li>
<li><p>Txt2Tags阅读器：</p>
<ul>
<li>换行不是缩进（Alexander Krotov）。</li>
</ul></li>
<li><p>MediaWiki阅读器：</p>
<ul>
<li>在<code>|-</code>表格（＃2649）后面加上额外的连字符。</li>
<li>表开始后允许空行（＃2649）。</li>
<li>修正了更多的表格问题（＃2649）。</li>
<li>确保列表从左边开始（＃2606）。包括在表格或其他列表项目中。</li>
<li>使智能双引号取决于<code>smart</code>扩展（＃3585）。</li>
<li>不要做弯引号里面<code>&lt;tt&gt;</code>上下文（＃3585）。即使<code>+smart</code> 。</li>
<li>修改后的状态类型是<code>HasLogMessages</code>一个实例，所以<code>registerHeader</code>可以发出警告。</li>
</ul></li>
<li><p>TWiki阅读器（Alexander Krotov）：</p>
<ul>
<li>删除不必要的<code>$</code> （＃3597）。</li>
<li>简化<code>linkText</code> （＃3605）。</li>
</ul></li>
<li><p>EPUB阅读器：</p>
<ul>
<li>小的重构，避免显式MediaBag处理。这一切都在CommonState管道幕后工作。</li>
</ul></li>
<li><p>Docx阅读器：</p>
<ul>
<li>不要删除smartTag内容（＃2242）。</li>
<li>处理本地名称空间声明（＃3365）。以前我们不认识数学，例如，当xmlns声明发生在元素而不是根。</li>
<li>效率更高的trimSps（＃1530）。取代<code>trimLineBreaks</code> 。这也是<code>normalizeSpaces</code>的工作，所以我们在这里避免使用这个函数。</li>
<li>避免0级标题（杰西罗森塔尔，＃3830）。我们曾经用“HeadingN”来分析段落为“第n级标题”。但是，如果文档具有名为“Heading0”的自定义样式，则会生成0级标题，该标题不应该存在。如果N&gt; 0，我们只解析这个样式。否则，我们把它作为一个正常的样式名称，并按照它的依赖关系，如果有的话。</li>
<li>添加测试以避免零级标题（Jesse Rosenthal）。</li>
</ul></li>
<li><p>ODT阅读器：</p>
<ul>
<li>更换<code>collectRights</code>与权利<code>Data.无论是</li>
<li>删除死码（Albert Krewinkel）。</li>
</ul></li>
<li><p>Org阅读器（Albert Krewinkel，除非另有说明）。</p>
<ul>
<li>不要让列表内的表格（John MacFarlane，＃3499）。</li>
<li>不允许列表标记行上的表格（＃3499）。</li>
<li>在脚注开头转换标记（John MacFarlane，＃3576）。</li>
<li>允许强调的文字后跟<code>[</code> （＃3577））。</li>
<li>处理src块的行编号开关。可以赋予源块的行编号开关（ <code>-n</code> ，起始编号作为可选参数）将被解析并转换为突出显示和其他读者和编写者使用的类/键值组合。</li>
<li>停止向src params添加rundoc前缀。源块参数名称不再以<code>rundoc</code>作为前缀。这是为了简化与babel跑步者rundoc项目的合作。然而，rundoc项目是无人维护的，添加这些标记不是读者的工作。为源元素指定的原始语言现在保留为<code>data-org-language</code>属性，只有在与翻译语言不同时才会添加。</li>
<li>允许多字参数src块参数（＃3477）。即使参数参数包含多个单词，阅读器现在也能正确分析src块参数列表。</li>
<li>避免直接应用<code>setMeta</code>创建<code>nullMeta</code> （Alexander Krotov）。</li>
<li>替换<code>sequence . map</code>与<code>mapM</code> <code>sequence . map</code> 。</li>
<li>修复智能解析行为。可以通过<code>smart</code>语言扩展或<code>'</code>和<code>-</code>导出”选项启用对智能报价和特殊字符的解析。如果启用了扩展或导出选项，则智能分析处于活动状态。只有聪明的分析的特殊字符（如椭圆和EN和电子短划线）是默认启用，而智能报价被禁用。以前，除非启用了语言扩展，否则所有智能解析都是禁用的。</li>
<li>以全文doc树为标题转换（Albert Krewinkel，＃3695）。Emacs将文档解析为树结构，然后在导出期间进行后处理。读者改变做同样的事情，把文件变成一个从0级开始的标题树。</li>
<li>修复引用解析行为（Herwig Stuetz）。到目前为止， <code>org-ref</code>引用的键也包括特殊字符在最后。当引文发生在冒号前或句末时，这就引起了问题。通过此更改，引用键结尾处的所有非字母数字字符都将被忽略。这也增加<code>,</code>对特殊字符的引用键，以便更好地反映组织出口的行为是合法的列表中。</li>
<li>修正了haddock注释中的模块名称。复制粘贴导致黑洞模块描述包含错误的模块名称。</li>
<li>识别具有属性的巴贝尔结果块（＃3706）。Babel结果块可以具有像字幕和名字这样的块属性。具有属性的结果块没有被识别并被解析为没有属性的正常块。</li>
<li>在标题中加入标签。Emacs默认是在导出时在标题中包含标签。而不是只包含标签名称作为属性的空跨度，标签呈现为小帽，并包裹在这些跨度。不间断空格作为多个标签的分隔符。</li>
<li>尊重标签的导出选项（＃3713）。标签默认添加到标题，但当<code>tags</code>导出选项设置为零时将被省略。</li>
<li>使用<code>tag-name</code>属性而不是<code>data-tag-name</code> 。</li>
<li>使用<code>org-language</code>属性而不是<code>data-org-language</code> 。</li>
<li>修改后的状态类型是<code>HasLogMessages</code>一个实例，所以<code>registerHeader</code>可以发出警告。</li>
<li>在两个空白行后结尾脚注。脚注不仅可以通过新的脚注或标题开始，而且可以通过两个连续的空白行来结束。</li>
<li>更新重点边框字符（＃3933）。org阅读器已更新，以符合当前的组织模式行为：可以接受作为org重点中第一个或最后一个字符出现的字符集已被更改，现在允许在强调文本的内部边界处的所有非空白字符（请参阅<code>org-emphasis-regexp-components</code> ）。</li>
</ul></li>
<li><p>RST阅读器：</p>
<ul>
<li><p>修正了列表解析中的小错误（＃3432）。以前解析器没有正确处理这种情况：</p>
<pre><code>A          B         C        D</code></pre></li>
<li>处理简单表格中的多行单元格（＃1166）。</li>
<li>解析列表表指令（Keiichiro Shikano，＃3432）。</li>
<li>使用<code>anyLineNewline</code> （Alexander <code>anyLineNewline</code> ，＃3686）。</li>
<li>使用<code>anyLineNewline</code>中的<code>rawListItem</code> （Alexander <code>rawListItem</code> ，＃3702）。</li>
<li>重新组织块分析器约20％的解析速度。</li>
<li>固定的<code>..include::</code>指令（＃3880）。</li>
<li>正确处理空白行（Alexander Krotov，＃3881）。以前，pandoc有时会组合两个由空格分隔的行块，并忽略行块内的尾随空行。</li>
<li><p>修复间接超链接目标（＃512）。</p></li>
</ul></li>
<li><p>降价阅读器：</p>
<ul>
<li>允许引用链接中的属性在下一行开始（＃3674）。</li>
<li>在看到文档正文中定义脚注的上下文中解析YAML元数据（＃1279）。</li>
<li>当拆分管道表格单元格时，跳过tex数学（＃3481）。你可能有一个<code>|</code>数学里面的人物。（或者，对于这个问题，解析器可能会误认为原始的HTML。）</li>
<li>将班级小型<code>smallcaps</code>视为SmallCaps。这允许用户以这种方式在Markdown中指定小型大写字母： <code>[my text]{.smallcaps}</code> （＃1592）。</li>
<li>修正了内部标题链接（＃2397）。此修补程序还将<code>shortcut_reference_links</code>添加到mmd扩展名列表。</li>
<li>当某些环境出现时，将它们视为内联环境（＃3309，＃2171）。例如等式，数学。这避免了方程周围不正确的垂直空间。</li>
<li>优化的<code>nonindentSpaces</code> 。使基准从40到36毫秒。</li>
<li>允许胶乳宏定义缩进1-3个空格。以前他们只工作，如果不缩进。</li>
<li>改进了对缩进的原始HTML块的解析（＃1841）。以前我们无意中将HTML缩减为代码块。这是一个倒退。我们现在试图确定一个HTML块的内容的缩进级别，并且（可选地）跳过这个缩进。作为副作用，如果使用<code>markdown_in_html_blocks</code> ，则缩进可能会从原始HTML块中剥离。这比把事情解释成缩进的代码块要好。</li>
<li>修正了强调后的巧妙引号（＃2228）。例如在<code>*foo*'s 'foo'</code> 。</li>
<li>警告已定义但未使用的备注（＃1718）。</li>
<li>使用<code>anyLineNewline</code> （Alexander <code>anyLineNewline</code> ）。</li>
<li>在可能的情况下将YAML元数据解释为内联（＃3755）。如果元数据字段全部在一行上，我们尝试将它解释为内联，并且只有在失败时才尝试解析为块。如果它延伸到一行（包括可能用<code>|</code>或<code>&gt;</code>字符表示一个缩进的块），那么我们解析为块。这是由一些德国用户发现这个<code>date: '22.动机<code>date: '22.Juin 2017'</code>被解析为有序列表。</li>
<li>修复了引用为参考def的虚假解析（＃3840）。如果启用了<code>citations</code>扩展，我们现在不允许使用<code>@</code>开头的引用键。</li>
<li>解析<code>-@roe</code>作为压制作者引用（pandoc-citeproc＃237）。以前只有<code>[-@roe]</code> （括号）被认定为压制作者，而<code>-@roe</code>被视为与<code>@roe</code>相同。</li>
<li>修正了在没有插入空白行（＃3733）的情况下解析隔离后的代码。</li>
<li>允许以<code>\start</code>原始乳胶命令（＃3558）。以前这些是不允许的，因为它们被解释为启动ConTeXt环境，即使没有相应的<code>\stop</code> ...</li>
<li>添加内<code>inlines</code> ， <code>inlines1</code> <code>inlines</code> <code>inlines1</code> 。</li>
<li><code>implicit_figures</code>需要非空alt文本（＃2844）。具有空白标题的图形是没有意义的。</li>
<li>删除了texmath宏的材质;现在所有这些都是在LaTeX阅读器功能中处理的。</li>
<li>修正了原始LaTeX（＃3947）后面缩进代码的问题。</li>
</ul></li>
<li><p>乳胶读者：</p>
<ul>
<li>用适当的标记（＃1390，＃2118，＃3236，＃3779，＃934，＃982）重写了LaTeX阅读器。这个重写主要是为了使宏正常工作。一个好处是读者速度要快得多。我们现在标记输入文本，然后解析令牌流。宏修改令牌流，所以他们现在应该在任何情况下，包括数学有效。因此，我们不再需要笨重的texmath宏处理能力。</li>
<li>解析<code>\,</code>以<code>\8198</code> （六位表现空间）（Henri Werth）。</li>
<li>不带大括号的<code>\newcommand\foo{blah}</code> 。</li>
<li>支持<code>\lstinputlisting</code> （＃2116）。</li>
<li>跳过未知乳胶命令时发出警告（＃3392）。</li>
<li>包含<code>\parbox</code>内容。</li>
<li>允许<code>\hspace</code>和<code>\vspace</code>计为原始块或内联。以前我们会拒绝解析任何内嵌的内容，如果它在<code>blockCommands</code>列表中的话。现在我们允许异常，如果它们列在inlineCommands的ignoreInlines下。这应该更容易，例如在两个并排的原始LaTeX表之间包含<code>\hspace</code> 。</li>
<li>不要删除<code>\hypertarget</code>内容。</li>
<li>处理<code>\cite</code>参数前的空格。</li>
<li>在内联上下文中允许newpage，clearpage，pagebreak以及块上下文（＃3494）。</li>
<li>将<code>{{xxx}}</code>与<code>{xxx}</code> （＃2115）相同。</li>
<li>在宏中使用<code>pMacroDefinition</code> （用于更直接的解析）。请注意，这意味着<code>macro</code>将一次解析一个宏，而不是一起解析整个组。</li>
<li>修正了<code>+raw_tex</code> 。现在，这些命令被解析为原始的，如果<code>+raw_tex</code> ;否则，它们的参数被解析为括号内的字符串。</li>
<li>不要在空的<code>enumerate</code>环境中崩溃（＃3707）。</li>
<li>手柄逃脱<code>&amp;</code>在表格单元格内（＃3708）。</li>
<li>处理表格单元格内的块结构（＃3709）。 <code>minipage</code>不再需要。</li>
<li>处理表列上的一些宽度说明符（＃3709）。目前我们只处理<code>0.9\linewidth</code>的形式。其他任何东西都必须转换成一个百分比，使用一些关于线宽的任意假设。</li>
<li>确保<code>\write18</code>被解析为原始的LaTeX。这个改变是在LaTeX阅读器对原始命令的处理中，但是它也影响了Markdown阅读器。</li>
<li>使用带星号的环境名称固定回归（＃3803）。</li>
<li>处理raw <code>\titleformat</code>可选参数（＃3804）。</li>
<li>改进了原始块/内联的启发式。如果我们有一系列的块命令后跟一个换行符或一个<code>\startXXX</code>命令（可能会启动一个原始的ConTeXt环境），那么在该行开头的未知命令可以是块或内联。</li>
<li>即使设置了<code>Ext_latex_macros</code> ，也不要从输出中删除宏定义，以便应用宏。由于它们只适用于Markdown中的数学运算，因此删除宏可能会产生不良影响。即使是数学宏，保持它们应该是无害的。</li>
<li>删除了<code>macro</code> 。不再需要，因为<code>rawLaTeXBlock</code>解析器将解析宏定义。这也避免了在Markdown阅读器中需要单独的<code>latexMacro</code>解析器。</li>
<li>在标题中使用<code>label</code>代替<code>data-label</code> （＃3639）。</li>
<li>固定空间等。</li>
<li>解决对章节号的引用。</li>
<li>修复<code>\let\a=0</code>情况，使用单个字符标记。</li>
<li>在控制序列中允许<code>@</code>作为字母。 <code>@</code>通常在使用<code>\makeatletter</code>宏中使用。理想情况下，我们会让tokenizer对<code>\makeatletter</code>和<code>\makeatother</code> ，但在此之前这似乎是一个很好的改变。</li>
<li>跟踪标题号码并与标签相关联。</li>
<li>允许<code>]</code>选项括号内的组（＃3857）。</li>
<li>可以使用大括号（括号中不能使用动词）（Marc Schreiber，＃3535）。</li>
<li>修复keyval功能：pandoc没有正确解析大括号中的选项（Marc Schreiber，＃3642）。</li>
<li>解析原始LaTeX命令时，包含尾随空格（＃1773）。否则，像<code>\noindent foo</code>这样的事情就会变成<code>\noindentfoo</code> 。影响<code>-f latex+raw_tex</code>和<code>-f markdown</code> （以及其他允许<code>raw_tex</code>格式）。</li>
<li>不要把“...”当作引用（＃3958）。这导致在<code>\texttt</code>上下文中省略引号。</li>
<li>为现有的<code>\includegraphics</code>行为添加测试（Ben Firshman）。</li>
<li>在<code>=</code>括号选项之前允许空格（Ben Firshman）。</li>
<li>在解析命令选项时要更宽容。例如，这是需要的，以使一些选项工作。</li>
<li>删除<code>\include</code>文件名中的引号。</li>
</ul></li>
<li><p>新增<code>Text.Pandoc。CSV</code> ，简单（未导出）CSV解析器。</p></li>
<li><p><code>Text.Pandoc。PDF</p>
<ul>
<li>使用PDF输出获得<code>--resource-path</code> （＃852）。</li>
<li>通过上下文生成PDF时获取图像（＃3380）。为此，我们创建临时目录作为工作目录的子目录。由于上下文mk IV默认在父目录中查找图像，所以这是有效的。</li>
<li>使用<code>report</code>而不是<code>warn</code> ，使其对冗长设置很敏感。</li>
<li>使用<code>fillMediaBag</code>和<code>extractMedia</code>将媒体提取到临时目录。这减少了代码重复。</li>
<li><code>html2pdf</code> ：使用stdin而不是中间HTML文件</li>
<li>为<code>context2pdf</code>删除了无用的<code>TEXINPUTS</code>内容。 mkiv上下文不使用<code>TEXINPUTS</code> 。</li>
</ul></li>
<li><p><code>Text.Pandoc。漂亮？</p>
<ul>
<li><code>realLength</code>简化定义</li>
<li>不要错误的大小&lt;1的块。相反，调整到1（见＃1785）。</li>
</ul></li>
<li><p><code>Text.Pandoc。多用途互联网邮件扩展</p>
<ul>
<li>使用<code>application/javascript</code> （不是<code>application/x-javascript</code> ）。</li>
<li>将<code>emf</code>添加到类型为<code>application/x-msmetafile</code> mimeTypes（＃1713）。</li>
</ul></li>
<li><p><code>Text.Pandoc。图像大小</p>
<ul>
<li>改进SVG图像大小代码（Marc Schreiber，＃3580）。</li>
<li>使<code>imageSize</code>识别基本的SVG尺寸（Mauro Bieg，＃3462）。</li>
</ul></li>
<li><p>7.6  使用控制单子。州整个Strict</code> 。这使得大多数作者的内存使用率提高了20-30％。</p></li>
<li><p>使用<code>foldrWithKey</code>而不是弃用的<code>foldWithKey</code> 。</p></li>
<li><p><code>Text.Pandoc。自完备的</p>
<ul>
<li>修复了嵌入字体的问题（＃3629）。</li>
<li><code>getDataURI</code>中的<code>SelfContained</code>重构getData。</li>
<li>不要使用脚本或样式的数据URI（＃3423）。相反，只要使用带有内容的脚本或样式标签即可。具有数据URI的旧方法可防止pandoc以外的某些优化。例外：当脚本包含<code>&lt;/script&gt;</code>或包含<code>&lt;/</code>的样式时仍然使用数据URI。</li>
<li>SelfContained：处理从URL检索的材料中的URL（＃3629）。这可能发生，例如与谷歌网页字体的<span class="citation" data-cites="import">@import</span> 。（导入的是一些包含对字体本身的url引用的CSS。）另外，请允许在URL中使用非转义的管道（|）。</li>
<li>从<code>data-src</code>载入资源（需要在reveal.js幻灯片放映中进行延迟加载）。</li>
<li>处理（＃3979）部分的<code>data-background-image</code>属性。</li>
</ul></li>
<li><p><code>Text.Pandoc。分析中</p>
<ul>
<li>添加了<code>indentWith</code> （Alexander <code>indentWith</code> ，＃3687）。</li>
<li>添加<code>stateCitations</code> <code>ParserState</code> 。</li>
<li>从<code>ParserState</code>删除了<code>stateChapters</code> 。</li>
<li>在<code>ParserState</code> ，使<code>stateNotes'</code>一个Map，添加<code>stateNoteRefs</code> 。</li>
<li>增加了<code>gobbleSpaces</code>和<code>gobbleAtMostSpaces</code> 。</li>
<li>调整<code>insertIncludedFile</code>类型，以便它可以与令牌解析器一起使用。</li>
<li>从分析中取代旧texmath宏的东西。使用文本中的宏。Pandoc。阅读器，LaTeX.Types代替。</li>
<li>导出<code>insertIncludedFile</code> 。</li>
<li>增加了<code>HasLogMessages</code> ， <code>logMessage</code> ， <code>reportLogMessages</code> （＃3447）。</li>
<li>用全部功能替代部分（Albert Krewinkel）。</li>
<li>介绍<code>HasIncludeFiles</code>类（Albert Krewinkel）。<code>insertIncludeFile</code>函数被广义地用于所有类的实例的解析器状态。</li>
<li>添加<code>insertIncludedFilesF</code>返回的F块（阿尔伯特Krewinkel）。<code>insertIncludeFiles</code>函数被概括<code>insertIncludedFiles'</code>命名为<code>insertIncludedFiles'</code> ;专门的版本是基于这个。</li>
<li><code>many1Till</code> ：在解析之前检查最终的状态（Herwig Stuetz）。通过在第一次解析之前不检查结束条件，解析器应用过于频繁，消耗了太多的输入。这只影响<code>many1Till p end</code> ，其中<code>p</code>匹配前缀的<code>end</code> 。</li>
<li>提供<code>parseFromString</code> （＃3690）。这是<code>parseFromString</code>专用于ParserState的verison，它在最后重置<code>stateLastStrPos</code> 。这几乎总是我们想要的。这就修正了一个错误，在这里， <code>_hi_</code>不被视为重点，因为pandoc对最后一个单词的位置感到困惑： <code>- [o] _hi_</code> 。</li>
<li>增加了<code>takeP</code> ， <code>takeWhileP</code>来高效地解析<code>[Char]</code> 。</li>
<li>修复<code>blanklines</code>文档（亚历山大Krotov，＃3843）。</li>
<li>使用<code>parseWithString</code>减少误导性的行信息。以前的位置将被报告超过块的结尾。我们现在重置块内的源位置，并“在块中”报告位置。</li>
<li>添加<code>anyLineNewline</code> （亚历山大<code>anyLineNewline</code> ）。</li>
<li>为Markdown和Org读者提供共享的F monad功能（Albert Krewinkel）。用于延迟评估Markdown和Org阅读器中某些值的<code>F</code>单子是基于捕获两种<code>F</code>类型的常见模式的共享数据类型。</li>
<li>添加<code>returnF</code> （亚历山大<code>returnF</code> ）。</li>
<li>避免分析<code>Notes:**</code>作为裸露的URI（＃3570）。这样可以避免解析以scheme +冒号+ <code>*</code> ， <code>_</code>或者<code>]</code>开头的裸URI。</li>
<li>新增<code>readerAbbreviations</code>到<code>ParserState</code> 。Markdown阅读器现在咨询这个来确定什么是缩写。</li>
<li>结合网格表分析器（Albert Krewinkel，＃3638）。用于markdown和rst的网格表分析器被合并为一个单独的分析器<code>gridTable</code> ，稍微改变了两个分析器的分析行为：（1）markdown分析器现在以块单元格的方式压缩块内容：单元格中的纯文本块现在仅被视为段落该单元格包含多个段落，否则为纯块。以前，这只适用于单列表格。（2）第一个解析器现在接受标题单元格中的换行符和多个块。</li>
<li>泛化tableWith，gridTableWith（Albert Krewinkel）。解析函数<code>tableWith</code>和<code>gridTableWith</code>被推广到与更多解析器一起工作。解析器状态只需<code>HasOptions</code>类的一个实例，而不需要具体的类型。块解析器需要返回被包装成monad的块，因为这使得使用解析器返回在<code>Future</code>包装的结果成为可能。</li>
</ul></li>
<li><p><code>Text.Pandoc。共享</p>
<ul>
<li>使用警卫简化<code>toRomanNumeral</code> （Alexander Krotov，＃3445）</li>
<li><code>stringify</code> ：处理引用更好（＃3958）。以前我们在引用的元素中丢失了引号。</li>
</ul></li>
<li><p><code>Text.Pandoc。编剧共享</p>
<ul>
<li>导出<code>metaToJSON'</code> ， <code>addVariablesToJSON</code> （＃3439）。这允许我们在使用元数据之后添加变量来生成YAML头（在Markdown编写器中）。</li>
<li>添加不<code>unsmartify</code> （以前在RST作家）。撤消文字双卷曲报价。以前我们离开这些。</li>
<li>泛化<code>metaToJSON</code>类型，以便它可以采取一个文本。以前需要一个字符串作为参数;现在任何ToJSON实例都可以做到。</li>
<li>添加<code>gridTable</code> （以前在Markdown作家）。</li>
<li><code>gridTable</code> ：重构为在字符中使用宽度。</li>
<li><code>gridTable</code> ：删除单元格中不必要的额外空间。</li>
<li>修正了<code>addVariablesToJSON</code> 。以前不允许多个值成为列表。</li>
<li>管道表格：施加最小单元尺寸（参见＃3526）。</li>
</ul></li>
</ul>
<h2 id="default-template-changes">默认模板更改</h2>
<ul>
<li><p>HTML模板（包括EPUB和HTML幻灯片模板）：</p>
<ul>
<li>使默认的HTML5多标记标记符合（约翰·卢克本特利，＃3473）。多语言标记是HTML5，也是有效的XHTML。请参阅<a href="https://www.w3.org/TR/html-polyglot" class="uri">https://www.w3.org/TR/html-polyglot</a> 。有了这个变化，pandoc的html5编写器就创建了HTML，它既是有效的HTML5，也是有效的XHTML。</li>
<li>html / epub / html幻灯片模板中正则化的CSS（＃3485）。所有模板现在包括<code>code{white-space: pre-wrap}</code>和CSS <code>q</code>如果<code>--html-q-tags</code>使用。以前有些模板有<code>pre</code>和其他<code>pre-wrap</code> ; <code>q</code>风格有时只包括在内。</li>
<li><code>.smallcaps</code> CSS，（Mauro Bieg，＃1592）</li>
<li><code>default.revealjs</code> ：使<code>history</code>默认为true。</li>
<li><code>default.revealjs</code> ：使用延迟加载（＃2283）。</li>
<li><code>default.revealjs</code> ：添加<code>mathjax</code>变量和一些条件代码来使用MathJaX插件。</li>
<li><code>default.slidy</code>使用<code>https</code>而不是<code>http</code> （ickc，＃3848）。</li>
<li><code>default.dzslides</code> ：默认情况下使用HTTPS加载Google字体（Yoan Blanc）。</li>
</ul></li>
<li><p>DocBook5模板：使用<code>lang</code>和<code>subtitle</code>变量（Jens Getreu，＃3855）。</p></li>
<li><p>乳胶/ Beamer模板：</p>
<ul>
<li>结合LaTeX / Beamer模板（Andrew Dunning，＃3878）。 <code>default.beamer</code>已被删除; beamer现在使用<code>default.latex</code>模板。Beamer特定的部分是由作者设置的<code>beamer</code>变量的条件。请注意， <code>pandoc -D beamer</code>将返回这个（组合）模板。</li>
<li>使用<code>xcolor</code>作为<code>colorlinks</code>选项（Andrew Dunning，＃3877）。Beamer加载<code>xcolor</code>而不是<code>color</code> ，因此<code>dvipsnames</code>选项不会生效。这也使用<code>svgnames</code>选项提供了更广泛的颜色选择。</li>
<li>使用<code>xcolor</code>名称的星号（Andrew Dunning）。防止对使用<code>dvipsnames</code>列表定义的文档进行更改（例如， <code>Blue</code>给出了与svgnames启用不同的结果）。</li>
<li>加载<code>polyglossia</code>之后的<code>polyglossia</code> （＃3898）。它需要尽可能晚地加载。</li>
<li>使用<code>unicode-math</code> （Vaclav Haisman）。根据要求只用<code>mathspec</code>使用<code>mathspec</code> 。</li>
<li><code>unicode-math</code>之前不要加载<code>fontspec</code> （在那里）。<code>unicode-math</code>包加载<code>fontspec</code>所以在<code>unicode-math</code>之前不需要加载<code>fontspec</code> 。</li>
<li>在default.latex模板中默认使用<code>unicode-math</code> 。如果设置了<code>mathspec</code>变量，mathspec将在xelatex中使用;否则将使用unicode-math（VáclavHaisman）。</li>
<li>当<code>colorlinks</code>指定时使用<code>dvipsnames</code>选项（否则我们会得到<code>maroon</code>的错误）（Thomas Hodgson）。</li>
<li>添加了Beamer <code>titlegraphic</code>和<code>logo</code>变量（Thomas Hodgson）。</li>
<li>修复表格中错误的错误（＃2378，zeeMonkeez）。</li>
<li>修复<code>hyperref</code>选项冲突（安德鲁·邓宁，3847＃），避免了加载封装（例如，当一个选项交锋<code>tufte-latex</code>使用） <code>hyperref</code>从这些模板不同的设置。</li>
<li>添加<code>natbiboptions</code>变量（＃3768）。</li>
<li>修复LaTeX输出中字幕内的链接（VáclavHaisman，＃3651）。声明我们重新定义<code>\href</code>强劲。</li>
<li>加载<code>parskip</code>前<code>hyperref</code> （瓦茨拉夫·Haisman，＃3654）。</li>
<li>允许在使用LuaLaTeX时设置日文字体（VáclavHaisman，＃3873）。通过使用<code>luatexja-fontspec</code>和<code>luatexja-preset</code>软件包。使用现有的<code>CJKmainfont</code>和<code>CJKoptions</code>模板变量。为<code>luatexja-fontspec</code> <code>luatexjapresetoptions</code>添加<code>luatexjafontspecoptions</code> ，为<code>luatexja-preset</code>添加<code>luatexjafontspecoptions</code> 。</li>
<li>向投影模板添加了<code>aspectratio</code>变量（VáclavHaisman，＃3723）。</li>
<li>修改template.latex以修复与表（lwolfsonkin，＃3661）一起使用的XeLaTex。在<code>bidi</code>之前立即对<code>lang</code>变量进行重新排序。</li>
</ul></li>
<li><p>ConTeXt模板：改进的字体处理： <code>simplefonts</code>字体在ConTeXt（ <code>simplefonts</code> ）中已经过时。</p></li>
</ul>
<h2 id="documentation-improvements">文档改进</h2>
<ul>
<li><p>MANUAL.txt：</p>
<ul>
<li>为王子HTML&gt; PDF引擎添加URL（Ian，＃3919）。</li>
<li>在幻灯片中将文档中的幻灯片级别以上的内容省略。（参见9.3。）</li>
<li>解释<code>--webtex</code> SVG网址（Mauro Bieg，＃3471）</li>
<li>在YAML元数据部分澄清一点。</li>
<li>html4在技术上是XHTML 1.0的过渡文件。</li>
<li>删除refs突出显示kate（＃3672）。</li>
<li>文档ibooks特定的EPUB元数据。</li>
<li>澄清mathml用于ODT数学。</li>
<li>提到Literate Haskell支持的限制（＃3410，Joachim Breitner）。</li>
<li>添加网格表限制的文档（Stephen McDowell，＃3864）。</li>
<li>说明meta-json包含转换值（JakobVoß，＃3491）明确指出，模板变量<code>meta-json</code>不包含纯文本值或JSON输出格式，而是将字段值转换为选定的输出格式。</li>
</ul></li>
<li><p>版权</p>
<ul>
<li>明确模板是双重许可的。</li>
<li>澄清pandoc类型是BSD3许可的。</li>
<li>列出不是由jgm编写的新文件（Albert Krewinkel）。</li>
<li>版权声明更新日期（Albert Krewinkel）。这遵循FSF为GPL许可软件提供的建议。 <a href="https://www.gnu.org/prep/maintain/html_node/Copyright-Notices.html" class="uri">https://www.gnu.org/prep/maintain/html_node/Copyright-Notices.html</a></li>
</ul></li>
<li><p>INSTALL.md：</p>
<ul>
<li>改进了模式测试的说明。</li>
<li>把基于RPM的发行版放在不同的地方（Mauro Bieg，＃3449）</li>
</ul></li>
<li><p>CONTRIBUTING.md：</p>
<ul>
<li>修正拼写错误（Wandmalfarbe，＃3479）。</li>
<li>加上“请求pandoc讨论”（Mauro Bieg）。</li>
</ul></li>
<li><p>在<code>doc/lua-filters.md</code>添加lua过滤器文档。请注意，本文档的结尾是使用<code>make doc/lua-filters.md</code>从<code>data/pandoc.lua</code>自动生成的，该文档使用<code>tools/ldoc.ltp</code> （Albert Krewinkel）。</p></li>
<li><p>添加<code>doc/filters.md</code> 。这是来自网站的旧脚本教程。</p></li>
<li><p>添加<code>doc/using-the-pandoc-api.md</code> （＃3289）。这给出了使用pandoc作为Haskell库的介绍。</p></li>
</ul>
<h2 id="build-infrastructure-improvements">建立基础设施改进</h2>
<ul>
<li><p>删除了<code>data/templates</code>子模块。模板现在是<code>data/templates</code>一个子树。这消除了做<code>git submodule update</code>的需要。</p></li>
<li><p>重命名<code>tests</code> - &gt; <code>test</code> 。</p></li>
<li><p>删除<code>https</code>标志。始终使用HTTPS支持构建。</p></li>
<li><p>当设置了<code>embed_data_files</code>标志时，使用<code>file-embed</code>代替<code>hsb2hs</code>来嵌入数据文件。 <code>file-embed</code>给了我们更好的依赖性跟踪：如果数据文件发生变化，ghc / stack / cabal知道重新编译数据模块。这也将<code>hsb2hs</code>作为一个构建依赖。</p></li>
<li><p>将<code>custom-setup</code>节添加到pandoc，小写字段名称。</p></li>
<li><p>添加<code>static</code> Cabal标志。</p></li>
<li><p>名称更改OSX  - &gt; MacOS。将-MacOS后缀添加到mac软件包而不是-OSX。将本地名称从osx更改为macos。</p></li>
<li><p>make_macos_package.sh  - 使用strip来减小可执行文件的大小。</p></li>
<li><p>修改了二进制linux包。现在使用Docker和Alpine创建一个完全静态的可执行文件。我们创建一个deb和一个tarball。旧的<code>deb</code>目录已被替换为一个<code>linux</code>目录。在<code>linux</code>目录下运行<code>make</code>应该执行build，把二进制包放在<code>artifacts/</code> 。</p></li>
<li><p><code>linux/control.in</code> <code>Replaces:</code> ：，所以现有的pandoc-citeproc和pandoc-data软件包将被卸载;这个包提供了两个（＃3822）。添加乳胶包作为“建议”，更新说明。</p></li>
<li><p>删除cpphs构建需求 - 不再需要。</p></li>
<li><p>用<code>stack.pkg.yaml</code>替换<code>{deb,macos,windows}/stack.yaml</code> <code>stack.pkg.yaml</code> 。</p></li>
<li><p>名称更改OSX  - &gt; macOS（ickc，＃3869）。</p></li>
<li><p>修复Linux，UNIX和Windows（ickc）的外壳。</p></li>
<li><p><code>.travis.yml</code> ：创建一个源代码dist并在那里创建和测试。这样我们就可以捕获由于pandoc.cabal的数据部分丢失文件而导致的错误。</p></li>
<li><p>Makefile文件：</p>
<ul>
<li>分裂<code>make haddock</code>从<code>make full</code> 。</li>
<li>为winpkg添加BRANCH变量。</li>
<li>添加<code>lint</code>目标。</li>
<li>提高<code>make full</code> 。禁用优化。建立一切，公司。 trypandoc和基准。使用并行构建。</li>
<li>允许<code>make test</code>拿<code>TESTARGS</code> 。</li>
</ul></li>
<li><p>增加了新的命令测试（ <code>Tests.Command</code> ），使用<code>test/command/</code>小文本文件。此目录中添加的任何文件都将被视为shell测试（例如，请参阅smart.md）。这使得添加回归测试等非常容易</p></li>
<li><p>测试修复，以便我们可以找到数据文件。在旧的测试和命令测试中，我们现在设置环境变量<code>pandoc_datadir</code> 。在lua测试中，我们明确地设置了datadir。</p></li>
<li><p>在docx <code>compareOutput</code>测试中重构<code>compareOutput</code> 。</p></li>
<li><p>整合了<code>Tests.一些常用功能<code>Tests.Helper</code></p></li>
<li><p>对不平衡支架测试的小改动加快了测试套件的速度。</p></li>
<li><p>加快本地作家quickcheck测试。</p></li>
<li><p>使用美味的测试，而不是测试框架。</p></li>
<li><p>添加简单的Emacs模式来帮助您编辑Pandoc模板。（VáclavHaisman，＃3889）。 <code>tools/pandoc-template-mode.el</code></p></li>
</ul>
<h1 id="pandoc-1.19.2.4-10-sep-2017">pandoc 1.19.2.4（2017年9月10日）</h1>
<ul>
<li>将texmath和skylighting的依赖关系添加到可执行文件。这是依赖版本号可用的情况，需要使用Cabal&gt; 2。</li>
</ul>
<h1 id="pandoc-1.19.2.3-09-sep-2017">pandoc 1.19.2.3（2017年9月9日）</h1>
<ul>
<li>将CPP添加到Setup.hs中，使其适用于Cabal&gt; = 2和&lt;2。</li>
</ul>
<h1 id="pandoc-1.19.2.2-08-sep-2017">pandoc 1.19.2.2（2017年9月8日）</h1>
<ul>
<li>用GHC 8.2.1（＃3876，Peter Simons）修复版本。Setup.hs不能与Cabal 2.x编译，所以我们需要通过setup-depends的早期版本。以下软件包需要GHC 8.2.1的新版本，并且相应地放宽了它们的约束：可执行文件路径，进程，syb和时间。</li>
</ul>
<h1 id="pandoc-1.19.2.1-31-jan-2017">pandoc 1.19.2.1（2017年1月31日）</h1>
<ul>
<li>要求天窗&gt; = 0.1.1.4。</li>
<li>调整天窗版本的测试输出。</li>
<li>放宽blaze-html和blaze-markup的上限。</li>
</ul>
<h1 id="pandoc-1.19.2-29-jan-2017">pandoc 1.19.2（2017年1月29日）</h1>
<ul>
<li><p>使用天窗图库而不是突出显示的kate语法突出显示。天窗更快，更准确（＃3363）。稍后，我们将能够添加警告消息，xml语法定义的动态加载和动态加载主题等功能。</p></li>
<li><p>添加了一个新的高亮风格， <code>breezeDark</code> 。</p></li>
<li><p>Text.Pandoc。高亮：的更新列表<code>listings</code>语言（＃3374）。这使得使用<code>--listings</code>选项时可以使用更多的语言。</p></li>
<li><p>OpenDocument作家：</p>
<ul>
<li>小的重构。在paraStyle中删除了单独的“父”参数。</li>
<li>不要不必要地分析文本样式（＃3371）。这种改变使得作者只能创建绝对必要的临时文本样式。它也以相同的风格合并相邻的节点。</li>
</ul></li>
<li><p>Org读者（Albert Krewinkel）：</p>
<ul>
<li>允许简单的单行原料块（Albert Krewinkel，＃3366）。可以通过<code>#+FORMAT: raw line</code>给出单行的原始块，其中<code>FORMAT</code>必须是<code>latex</code> ， <code>beamer</code> ， <code>html</code>或<code>texinfo</code> 。</li>
<li>接受org-ref引用，然后加逗号（Albert Krewinkel）。修正了一个问题，无论何时引用立即紧跟一个逗号，都阻止了org-ref引用的正确解析。</li>
<li>确保重点标记可以嵌套。嵌套强调标记（例如<code>/*strong and emphasized*/</code> ）被错误地解释为内部标记未被识别。</li>
<li>删除黑道覆盖工具（Albert Krewinkel）的管道焦炭。</li>
</ul></li>
<li><p>Docx读者：空头应该是列表（Jesse Rosenthal）的列表。在过去，docx读者写了一个空头作为一个空列表。它应该有一个与行相同的宽度（并填充空单元格）。</p></li>
<li><p>MediaWiki阅读器：</p>
<ul>
<li>改进了显示数学的处理（＃3362）。有时显示数学是用多个冒号缩进的。以前，我们处理这些案件很糟糕，生成定义列表和错过了数学。</li>
<li>修复引号解析（＃3336，tgkokk）。当智能选项被解析以符合其他读者的行为时，更改MediaWiki阅读器的行为。</li>
</ul></li>
<li><p>降价阅读器：</p>
<ul>
<li>已修复<code>-f markdown_github-hard_line_breaks+escaped_line_breaks</code> （＃3341）。以前这没有适当地启用逃逸换行符。</li>
<li>禁止内联代码和属性之间的空格（＃3326，＃3323，Mauro Bieg）。</li>
</ul></li>
<li><p>DocBook5编写者：make id属性xml：id，修正＃3329（＃3330，Mauro Bieg）。</p></li>
<li><p>ODT阅读器增加了一些测试用例（＃3306，＃3308，Hubert Plociniczak）。</p></li>
<li><p>LaTeX作家：允许带空格的表格被视为“普通”。这解决了使用空单元格时表格太宽的问题。感谢Joost Kremers报告这个问题。</p></li>
<li><p>组织作家：将脚注号码加上<code>fn:</code> （Albert Krewinkel）。没有前缀的数字由较早的组织模式版本使用，但不再受支持。</p></li>
<li><p>HTML编写器：不要使用空的RawInline处理文件（＃1040，＃3327，Mauro Bieg）。</p></li>
<li><p><code>--webtex</code>作家：修复显示数学与 - <code>--webtex</code> （＃3298）。</p></li>
<li><p>修复sample.lua，以便正确处理原始块/内联（＃3358，bumper314）。</p></li>
<li><p>模板</p>
<ul>
<li>default.latex：在hyperref之后移动几何（VáclavHaisman）。否则在某些情况下PDF大小可能是错误的。</li>
<li>从default.latex复制一些更改为default.beamer（Wandmalfarbe）。</li>
<li>default.latex，default.beamer：更改<code>\VerbatimNotes</code>和<code>fancyvrb</code>位置。这修正了在注释中包含逐字记录的脚注中的超链接（＃3361）。（注意：投影仪模板已更新为与LaTeX模板相匹配，但在这一点上，笔记中的逐字逐句似乎不适用于投影仪。）</li>
<li>default.latex：允许将<code>microtypeoptions</code>选项传递给微型（VáclavHaisman）。</li>
<li>default.latex：向网址包添加连字符选项。</li>
<li>default.docbook5：修复命名空间声明（Mauro Bieg）。</li>
</ul></li>
<li><p>将<code>make_osx_package.sh</code>移至<code>osx/</code>目录。</p></li>
<li><p>特拉维斯持续整合：</p>
<ul>
<li>用dist build修正误报。</li>
<li>提高速度（Kolen Cheung，＃3304，＃3357）。</li>
</ul></li>
<li><p>MANUAL.txt：</p>
<ul>
<li>澄清脚注周围需要空格（＃3352）。</li>
<li>固定错字（＃3351，Alexey Rogechev）。</li>
<li>请注意，-- <code>--wrap=auto</code>在HTML输出中不起作用。</li>
<li>默认 - <code>--columns</code>宽度是72，而不是80。</li>
<li>修正断开连结（＃3316，Kolen Cheung）。</li>
<li>文档在nocite部分使用<code>@*</code> （＃3333，John Muccigrosso）。</li>
</ul></li>
<li><p>INSTALL.md：</p>
<ul>
<li>缩进代码，以便格式正确（＃3335，Bheesham Persaud）。</li>
<li>增加了从OSX，Windows软件包中提取二进制文件的说明。</li>
</ul></li>
<li><p>CONTRIBUTING.md：描述问题跟踪器（Albert Krewinkel）当前使用的标签。标签随着时间而改变，标签列表被更新以反映问题跟踪器中使用的当前标签组。</p></li>
<li><p>在README中重新排列和扩展徽章（Albert Krewinkel，＃3354）</p></li>
<li><p>颠簸版本的依赖关系。</p></li>
</ul>
<h1 id="pandoc-1.19.1-10-dec-2016">pandoc 1.19.1（2016年12月10日）</h1>
<ul>
<li><p>设置过滤器的<code>PANDOC_VERSION</code>环境变量（＃2640）。这允许过滤器检查产生他们正在接收的JSON的pandoc版本。</p></li>
<li><p>Docx阅读器：确保单行表没有标题（＃3285，Jesse Rosenthal）。MS Word中的表格默认设置为具有特殊的第一行格式，pandoc使用它来确定它们是否具有标题。这意味着一行表默认只有一个标题 - 我们想象的不是人们想要的。此更改可确保单行表不被理解为仅标题。请注意，这意味着即使它是合法的pandoc，也不可能从docx生成仅包含表头的表。但是我们认为，在几乎所有情况下，这将是一个偶然（不受欢迎的）结果</p></li>
<li><p>HTML阅读器：</p>
<ul>
<li>修复了HTML表格解析器（＃3280）中的一些不良回归。这种回归导致在某些情况下引入空行。</li>
<li>了解<code>style=width:</code>以及<code>col</code> <code>width</code> （＃3286）。</li>
</ul></li>
<li><p>RST阅读器：</p>
<ul>
<li><p>打印警告，当键，替代，笔记未找到。以前解析器失败，我们得到原始文本。现在我们得到一个空链接的链接，或者在注释或替换的情况下为空内联。</p></li>
<li><p>修复超链接别名（＃3283）。</p></li>
</ul></li>
<li><p>男人作家：确保在行首（＃3270）逃脱。</p></li>
<li><p>LaTeX作家：修复与<code>--top-level</code> （＃3272，Albert Krewinkel）一起使用的无编号标题。在发布LaTeX时，修正顶层<code>part</code>或<code>chapter</code>与无编号标题的交互。确保使用stared命令（如<code>\subsection*{}</code> ）编写头文件。</p></li>
<li><p>LaTeX模板：使用逗号而不是分号分隔<code>pdfkeywords</code>关键字。感谢Wandmalfarbe。</p></li>
<li><p>降价作家：修正不正确的文字换行（＃3277）。以前，由于这个bug，pandoc有时会过早地换行。</p></li>
<li><p>Text.Pandoc。漂亮：添加<code>afterBreak</code> [API更改]。这使得可以在行的开头插入需要转义的内容的转义码。</p></li>
<li><p>从2004年删除了旧的MathMLInHTML.js，现代浏览器不再需要MathML。</p></li>
<li><p>修复了动态链接的测试（＃2709）。</p></li>
<li><p>Makefile：使用堆栈而不是目标。这只是开发人员的方便。</p></li>
<li><p>用空格修复bash文件名的完成（＃2749）。</p></li>
<li><p>手册：关于如何创建自定义<code>reference.docx</code>改进文档。</p></li>
<li><p>修复手册中的拼写错误（＃3273，Anthony Geoghegan）</p></li>
</ul>
<h1 id="pandoc-1.19-01-dec-2016">pandoc 1.19（2016年12月1日）</h1>
<ul>
<li><p>更改了过滤器路径的分辨率。</p>
<ul>
<li>我们现在首先把 - <code>--filter</code>的论点<code>--filter</code>是一个完整的（绝对的或相对的）路径，在那里寻找一个程序。如果找到了，我们运行它。</li>
<li>如果不是，如果它是一个简单的程序名或相对路径，我们尝试解决它相对于<code>$DATADIR/filters</code> 。</li>
<li>如果失败了，那么我们把它当作程序名称，并查看用户的PATH。</li>
<li>删除了可能导致Windows路径问题的硬编码“/”。</li>
</ul>
<p>以前，如果你做了<code>--filter foo</code>并且你的路径中有<code>foo</code> ，并且你的工作目录中有一个可执行文件<code>foo</code> ，那么路径中的那个将被使用。现在使用工作目录中的一个。</p>
<p>另外，当你执行<code>--filter foo/bar.hs</code> ，pandoc现在会找到一个过滤器<code>$DATADIR/filters/foo/bar.hs</code> - 假设没有相对于工作目录的<code>foo/bar.hs</code></p></li>
<li><p>允许<code>file://</code> URI作为参数（＃3196）。还改进了默认阅读器格式检测。以前以.md或.markdown结尾的URI，pandoc将假定HTML输入。现在它把这些作为降价。</p></li>
<li><p>允许覆盖顶级分区类型启发式（＃3258，Albert Krewinkel）。Pandoc在启动LaTeX或Docbook标记时使用启发法来确定最合理的顶级分割类型。现在可以通过<code>top-level-division</code>命令行参数覆盖这个隐式设置的顶级分割。</p></li>
<li><p>Text.Pandoc。选项[API更改]：</p>
<ul>
<li>删除<code>writerStandalone</code>现场<code>WriterOptions</code> ，取得<code>writerTemplate</code>一个<code>Maybe</code>值。以前设置<code>writerStandalone = True</code>除非在writerTemplate中提供模板，否则不会执行任何操作。现在如果<code>writerTemplate</code>为<code>Nothing</code> ，则会生成一个片段;否则，将使用指定的模板并生成独立输出。</li>
<li><code>Division</code>已更名为<code>TopLevelDivision</code> （＃3197）。<code>Section</code> ， <code>Chapter</code>和<code>Part</code>构造函数分别重命名为<code>TopLevelSection</code> ， <code>TopLevelChapter</code>和<code>TopLevelPart</code> 。另外一个<code>TopLevelDefault</code>添加构造函数，也就是现在也是新缺省值<code>writerTopLevelDivision</code>现场<code>WriterOptions</code> 。</li>
</ul></li>
<li><p>如果把错误的参数提供给<code>--top-level-division</code> ， <code>--top-level-division</code>改善错误。</p></li>
<li><p>使用texmath中的新模块在Docx阅读器中查找MS字体代码点。删除未导出的模块文本。Pandoc。阅读器，DOCX。; Fonts它的代码现在住在texmath（0.9）中。</p></li>
<li><p>DocBook阅读器：修正外部参照查找（＃3243）。它以前只在qnames缺少docbook命名空间URI时才起作用。</p></li>
<li><p>HTML阅读器：</p>
<ul>
<li>改进了表格解析（＃3027）。我们现在明确地检查非1 rowspan或colspan属性，并在遇到它们时失败。以前我们检查过每一行都有相同数量的单元格，但即使使用rowspans / colspans也是如此。有些情况下，我们可以很好地处理表格，例如tr元素为空时。所以现在我们只需要填充空单元格的行。</li>
<li>将<code>&lt;math&gt;</code>视为默认MathML，除非在xmlns中明确指定了其他内容。当然，只要它解析为MathML。还修复了如果没有使用显示属性，应该内联数学的默认值。</li>
<li>只有具有href（＃3226）的链接才会将“a”元素视为链接。否则视为跨度。</li>
</ul></li>
<li><p>Docx读者（Jesse Rosenthal）：</p>
<ul>
<li>为CHART添加一个占位符值。我们将<code>[CHART]</code>包装在<code>&lt;span class="chart"&gt;</code> 。请注意，它映射到内联，因为在docx中，绘图标记中的任何内容都可以成为较大段落的一部分。</li>
<li>在解析图像时更具体我们不仅需要<code>w:drawing</code> ，因为它也可以包含图表。现在我们指定<code>w:drawing/pic:pic</code> 。这不应该改变行为，但它也是允许其他类型的绘图数据的第一步。</li>
<li>抽象出避免代码重复的功能。</li>
<li>更新img title和alt的测试（＃3204）。</li>
<li>处理图像中的Alt文本和标题。我们使用“描述”字段作为替代文本和“标题”字段作为标题。这些可以通过Word中的“格式图片”对话框进行访问。</li>
<li>Docx reader utils：处理<code>elemName</code>空名称空间。以前，如果给定一个空的名称空间<code>(elemName ns "" "foo")</code> <code>elemName</code>将输出一个带有<code>Just ""</code>名称空间的QName。这绝不是我们想要的。现在我们输出一个<code>Nothing</code> 。如果有人在命名空间<em>中</em>需要一个<code>Just ""</code> ，他们可以显式输入QName值。</li>
</ul></li>
<li><p>ODT读写器：</p>
<ul>
<li>当文本具有特殊风格时，内联代码（Hubert Plociniczak）。当一段文本有一个文本<code>Source_Text</code>我们假设这是代表需要内联的代码的一段文档。改编作者也反映了这种变化。以前，它只是使用不可区分的字体风格编写“预格式化”文本。代码块仍然不被ODT阅读器识别。这是一个单独的问题。</li>
<li><p>从段落（＃3224，Hubert Plociniczak）推断表格的标题。ODT的阅读器总是为解析的表格添加空字幕。这个提交</p>
<ol type="1">
<li>检查表格定义后面的段落</li>
<li>特别处理一个名为“表”的款式</li>
<li>对组合后紧跟字幕的段落进行一些后处理</li>
</ol>
<p>ODT <code>TableCaption</code>为标题段落使用了<code>TableCaption</code>样式。该提交遵循OpenOffice方法，该方法允许将字幕附加到表格，但使用名为<code>Table</code>而不是<code>TableCaption</code>的内置样式。自定义<code>reference.odt</code>用户应该将样式的名称从<code>TableCaption</code>为<code>Table</code> 。</p></li>
</ul></li>
<li><p>ODT阅读器：从行中推断表头的道具（＃3199，Hubert Plociniczak）。ODT阅读器只是提供了一个空头列表，这意味着整个表的内容，即使不是空的，也被忽略。虽然我们仍然不推断标题，但我们至少必须提供列的默认属性。</p></li>
<li><p>降价阅读器：</p>
<ul>
<li><p>如果禁用了<code>citations</code>扩展名（＃3209），则允许以<code>@...</code>开头的引用链接标签。例如：in</p>
<pre><code>\ [link text \] \ [@ a \]</code></pre>
<code>link text</code>没有超链接，因为<code>[@a]</code>被解析为引用。以前，无论是否启用了<code>citations</code>扩展，都会发生这种情况。现在只有启用了<code>citations</code>扩展才会发生这种情况。</li>
<li><p>允许在Markdown网格表中指定对齐。例如：</p>
<pre><code>+ ------- + --------------- + -------------------- + |对| |离开|居中| + =========：+：================= +：=============：+ |香蕉| $ 1.34 |内置的包装| + ------- + -------- + -------------------- +</code></pre></li>
<li><p>允许使用方括号跨度创建Small Caps元素（因为他们已经可以使用HTML语法跨度）（＃3191，Kolen Cheung）。</p></li>
</ul></li>
<li><p>乳胶读者：</p>
<ul>
<li>不要将<code>\vspace</code>和<code>\hspace</code>作为块命令（＃3256）。修正了一个错误，例如，在标题内的<code>\vspace</code> 。（标题预计内联。）</li>
<li>改进的表格处理。现在我们可以在我们的测试中解析由pandoc发出的所有表。我们唯一没有得到的是比较复杂表格中的对齐和列宽。（参见9.3。）</li>
<li>有限支持小容量。</li>
<li>允许LaTeX内部的可选参数<code>[]</code> 。修复如下情况：</li>
<li>从fancyvrb处理BVerbatim（＃3203）。</li>
<li>处理hungarumlaut（＃3201）。</li>
<li>在原始LaTeX中（也可以在Markdown中）允许投影式样的<code>&lt;...&gt;</code>选项（＃3184）。这允许在Markdown中使用像<code>\only&lt;2,3&gt;{my content}</code>这样的东西，它将被转换为Beamer。</li>
</ul></li>
<li><p>在dzslides模板（Nicolas Porcel）中使用pre-wrap代码。否则过长的代码将出现在每张幻灯片上。</p></li>
<li><p>Org读者（Albert Krewinkel）：</p>
<ul>
<li>尊重列宽设置（＃3246）。表列属性可以选择指定列在缓冲区中的显示宽度。一些出口商，特别是org-mode v9.0中的ODT出口商，使用这些值来计算相对列宽。org阅读器现在实现相同的行为。请注意，Emacs中的组织模式LaTeX和HTML导出器不支持此功能，使用列宽度参数的用户应牢记在心。</li>
<li><p>允许非图形图像上的HTML属性（＃3222）。即使图片没有标题，图片也是一个段落中唯一的元素，但它仍然可以被赋予HTML属性，因此不是一个数字。以下将添加将图像的<code>width</code>属性设置为<code>50%</code> ：</p>
<pre><code>+ ATTR \ _HTML：：宽度50％======================= \ [\ [file：image.jpg \] \]</code></pre></li>
<li>支持特殊块的<code>ATTR_HTML</code> （＃3182）。特殊块（即具有无法识别的名称的块）可以用<code>ATTR_HTML</code>块属性作为前缀。在该元指令中定义的属性被添加到用于表示特殊块的<code>Div</code>中。</li>
<li>支持<code>todo</code>导出选项。<code>todo</code>导出选项允许切换在输出中包含TODO关键字。将其设置<code>nil</code>会导致TODO关键字从标题中删除。默认是包含关键字。</li>
<li><p>添加对待办事项标记的支持。标题可以有可选的待办事项标记，可以通过<code>#+TODO</code> ， <code>#+SEQ_TODO</code>或<code>#+TYP_TODO</code> meta指令进行控制。可以给出多个这样的指令，每个指令添加一组新的识别待办事项标记。如果没有定义自定义待办事项标记，则使用默认的<code>TODO</code>和<code>DONE</code>标记。待办事项标记在概念上与标题文本分开，因此在自动生成标题ID时被排除。标记呈现为跨度并用两个类标记：一个类是标记名，另一个类表示标记的待定状态（ <code>todo</code>或<code>done</code> ）。</p></li>
</ul></li>
<li><p>乳胶作家：</p>
<ul>
<li>当使用“suppress-author”引用时，使用<code>\autocites*</code> 。</li>
<li>确保简单的表格有简单的单元格（＃2666）。如果单元格包含多个Plain或Para，那么我们需要设置非零宽度并将内容放入小片段中。</li>
<li>删除无效内联（＃3218，Hubert Plociniczak）。</li>
</ul></li>
<li><p>减价作家：</p>
<ul>
<li>修正对齐多行表的列宽（＃1911，BjörnPeemöller）。这也可以修复表中过多的CPU和内存使用情况，当<code>--columns</code>被设置为使得单元格必须非常<code>--columns</code> 。现在，单元格保证足够大，以便单个单词不需要换行，即使这会将行宽推到列宽以上。</li>
<li>使用括号形式本地跨度时<code>bracketed_spans</code>启用（＃3229）。</li>
<li>修复了不一致的间距问题（＃3232）。之前，一个紧密的子弹目录被渲染成一个空行，而一个紧凑的子目录没有。现在我们在这两种情况下都没有空白。</li>
<li>修正超/下标（＃3225）中的空格。以前插入了两个反斜杠，这反斜杠。</li>
<li>调整Markdown网格表中的宽度，使它们在往返时相匹配。</li>
</ul></li>
<li><p>Docx作家：</p>
<ul>
<li>当有转换tex数学错误时，请详细说明。</li>
<li>处理图像中的标题文本（Jesse Rosenthal）。我们已经处理了替代文字。这只是把图像“标题”放入docx“标题”attr。</li>
<li>修复了空单元格的XML标记（＃3238）。以前的紧凑型风格没有被正确应用于空单元格。</li>
</ul></li>
<li><p>HTML编写器：</p>
<ul>
<li>从blaze-html更新了<code>renderHtml</code>导入。</li>
</ul></li>
<li><p>Text.Pandoc。漂亮？</p>
<ul>
<li>修复了导致表格中出现空行的一些错误（＃3251）。当我们有了像<code>blankline $$ blankline</code>类的东西的时候，这些bug在网格表中造成了虚假的空白行。</li>
<li>添加导出的函数<code>minOffet</code> [API更改]（BjörnPeemöller）。</li>
<li>增加了非法呼叫<code>block</code>错误信息（BjörnPeemöller）。</li>
</ul></li>
<li><p>Text.Pandoc。共享</p>
<ul>
<li>在MonadIO中<code>warn</code> 。</li>
<li><code>fetchItem</code> ：更好地处理协议相关的URL（＃2635）。如果URL以<code>//</code>开头，并且没有“基本URL”（如果在命令行中使用了URL），则默认为http :.</li>
</ul></li>
<li><p>导出文本。Pandoc.getDefaultExtensions [API更改]（＃3178）。</p></li>
<li><p>在<code>getAppUserDataDirectory</code> （＃3241）中出现-version，陷阱错误。这修复了在没有真正用户的异常系统上（比如SQL Server 2016）的<code>pandoc --version</code>的崩溃。</p></li>
<li><p>为内存使用诊断添加了weight-pandoc（＃3169）。</p></li>
<li><p>为woff和woff2使用正确的mime类型（＃3228）。</p></li>
<li><p>删除make_travis_yml.hs（＃3235，Kolen Cheung）。</p></li>
<li><p>更新日志：将在1.17.2部分中放置错误的项目移至其所属的1.18部分。</p></li>
<li><p>CONTRIBUTING.md：措辞和标点符号的细微变化（＃3252，Kolen Cheung）。</p></li>
<li><p>对<code>--version</code>进一步的修改（＃3244）。</p></li>
</ul>
<h1 id="pandoc-1.18-26-oct-2016">pandoc 1.18（26十月2016）</h1>
<ul>
<li><p>新增<code>--list-input-formats</code> ，-- <code>--list-output-formats</code> ，-- <code>--list-extensions</code> ，-- <code>--list-highlight-languages</code>和<code>--list-highlight-styles</code> （＃3173）。从<code>--version</code>输出中删除突出显示的语言列表。从默认的输入和输出格式列表中删除<code>--help</code>输出。</p></li>
<li><p>新增了<code>--reference-location=block|section|document</code>选项（Jesse Rosenthal）。这决定了Markdown链接引用和脚注是否放置在文档的末尾，节的末尾或顶级块的末尾。</p></li>
<li><p>新增<code>--top-level-division=section|chapter|part</code> （Albert Krewinkel）。这决定了LaTeX，ConTeXt，DocBook和TEI输出中一级标题对应的内容。默认是<code>section</code> 。<code>--chapters</code>选项已被弃用，有利于<code>--top-level-division=chapter</code> 。</p></li>
<li><p>为<code>Block</code> （Albert Krewinkel）添加<code>LineBlock</code>构造函数。现在用于解析RST和Markdown行块，DocBook <code>linegroup</code> / <code>line</code>组合和Org模式的<code>VERSE</code>块。以前使用强烈换行符的<code>Para</code>块被使用。<code>LineBlock</code> s的在下面的输出中的格式特殊处理：AsciiDoc（如<code>[verse]</code>的块），上下文（ <code>\startlines</code> / <code>\endlines</code> ），HTML（ <code>div</code>与风格），降价（行块如果<code>line_blocks</code>使能），ORG-模式（ <code>VERSE</code>块），RST（行块）。在其他输出格式中，会出现带有强行换行的段落。</p></li>
<li><p>允许二进制格式写入标准输出（但不是tty）（＃2677）。因为我们使用unix库来检查输出是否为tty，所以只能在posix上运行。在Windows上，pandoc像以前一样工作，并且始终需要二进制格式的输出文件参数。</p></li>
<li><p>更改了JSON输出格式（Jesse Rosenthal）。以前我们使用的是一般生成的JSON，但是这取决于编译的aeson pandoc的版本。为了确保稳定性，我们切换到使用手动编写的ToJSON和FromJSON实例，并编码API版本。<strong>注意：</strong>需要对pandoc过滤器库进行修改以处理格式更改。以下是关键变化的总结：</p>
<ul>
<li>顶层JSON格式现在是<code>{"pandoc-api-version" : [MAJ, MIN, REV], "meta" : META, "blocks": BLOCKS}</code>而不是<code>[{"unMeta": META}, [BLOCKS]]</code> 。如果主版本号和次版本号不匹配，解码将失败。</li>
<li>叶节点的“c”值不再有一个空的数组。因此，例如，像以前一样， <code>Space</code>被编码为<code>{"t":"Space"}</code>而不是<code>{"t":"Space","c":[]}</code> 。</li>
</ul></li>
<li><p>删除了<code>tests/Tests/Arbitrary.hs</code>并添加了一个<code>Text.Pandoc。Arbitrary</code>模块为pandoc类型（Jesse Rosenthal）。这使得使用QuickCheck与pandoc本身之外的pandoc类型更容易。</p></li>
<li><p>添加<code>bracketed_spans</code>降价扩展，默认情况下启用pandoc <code>markdown</code> 。这允许您使用以下语法创建本地范围： <code>[Here is my span]{#id .class key="val"}</code> 。</p></li>
<li><p>添加了<code>angle_brackets_escapable</code> Markdown扩展（＃2846）。这是必要的，因为Github风格的Markdown与原来的Markdown有一些稍微不同的可变符号;它包括尖括号。</p></li>
<li><p>导出<code>Text.Pandoc。<code>Text. Error</code> <code>Text.Pandoc</code> [API变更]。</p></li>
<li><p>在<code>--version</code>打印突出显示的kate版本。</p></li>
<li><p><code>Text.Pandoc。选项）</p>
<ul>
<li><code>Extension</code>具有新的构造函数<code>Ext_brackted_spans</code>和<code>Ext_angle_brackets_escapable</code> [API更改]。</li>
<li>添加了<code>ReferenceLocation</code>类型[API更改]（Jesse Rosenthal）。</li>
<li><code>WriterOptions</code> （Jesse Rosenthal）添加了<code>writerReferenceLocation</code>字段。</li>
</ul></li>
<li><p><code>--filter</code> ：我们现在检查<code>$DATADIR/filters</code> ，然后查看路径（＃3127，Jesse Rosenthal，感谢JakobVoß的想法）。放在这个目录中的过滤器不需要是可执行的;如果扩展名是<code>.hs</code> ， <code>.php</code> ， <code>.pl</code> ， <code>.js</code>或<code>.rb</code> ，则pandoc将运行正确的解释器。</p></li>
<li><p>对于<code>--webtex</code> ，将<code>--webtex</code>不推荐使用的Google Chart API替换为默认值（Kolen Cheung）。</p></li>
<li><p>从<code>markdown_mmd</code>默认值（Kolen Cheung）中删除了<code>raw_tex</code>扩展名。</p></li>
<li><p>用节点（JakobVoß）执行.js过滤器。</p></li>
<li><p>纺织阅读器：</p>
<ul>
<li>支持<code>bc..</code>扩展代码块（＃3037）。另外，删除代码块中的尾随换行符（与Markdown reader一致）。</li>
<li>改善表格解析。我们现在处理单元格和行属性，主要是跳过它们。但是，路线现在正确处理。由于在pandoc对齐是每列，而不是每个单元格，我们尝试从单元格对齐中确定列对齐。表格标题现在也被解析了，并且thead和tfoot的纺织指标不再导致解析失败。（然而，指定为tfoot的行将只是在pandoc中的一个常规行。）</li>
<li>改进定义列表解析。我们现在允许多个术语（我们与linebreaks连接）。指数解析错误（＃3020）也是固定的。</li>
<li>禁止在显式链接中使用空的URL（＃3036）。</li>
</ul></li>
<li><p>RST阅读器：</p>
<ul>
<li>使用Div来代替BlockQuote（＃3031）。该部门有类别<code>admonition</code>和（如果相关）以下之一： <code>attention</code> ， <code>caution</code> ， <code>danger</code> ， <code>error</code> ， <code>hint</code> ， <code>important</code> ， <code>note</code> ， <code>tip</code> ， <code>warning</code> 。<strong>注意：</strong>这将改变一些RST文件的渲染！单词（“警告”，“注意”等）不再被添加;必须使用CSS或过滤器来完成。</li>
<li>Div现在也用于<code>sidebar</code> 。</li>
<li>在注释之前跳过空白（Jesse Rosenthal，＃3163）。RST在脚注标记之前需要一个空格。我们放弃这些空间，以便脚注与其之前的文本相邻。这与rst2latex所做的一致。</li>
<li>解析行块时允许空行（Albert Krewinkel）。</li>
</ul></li>
<li><p>降价阅读器：</p>
<ul>
<li>解析行块时允许空行（Albert Krewinkel）。</li>
<li>允许自动链接上的属性（＃3183，Daniele D'Orazio）。</li>
</ul></li>
<li><p>乳胶读者：</p>
<ul>
<li>更强大的未知环境解析（＃3026）。我们不再失败的事情一样<code>^</code>为tikz内选择。</li>
<li>更为宽容的非标准字符，例如<code>^</code>数学之外。一些自定义的环境给了这些意义，所以我们应该尽量不要在遇到它们时摔倒。</li>
<li>在bibtexKeyChars（Albert Krewinkel）中删除重复<code>*</code></li>
</ul></li>
<li><p>MediaWiki阅读器：</p>
<ul>
<li>修复mediawiki表中未加引号的属性值（＃3053）。以前，表格行中未加引号的属性值可能会导致解析问题。</li>
<li>改进逐字记录建筑的处理（＃3055）。以前，这些产生了交替的代码和空间元素的字符串;我们现在将这些空格纳入代码。这些内容仍然可以强调。</li>
<li>正确解释预编译环境中的XML标记（＃3042）。他们的意思是被解释为文字文本。</li>
</ul></li>
<li><p>EPUB阅读器：不要将根路径添加到数据：URI（＃3150）。感谢<span class="citation" data-cites="lep">@lep</span>的错误报告和补丁。</p></li>
<li><p>Org读者（Albert Krewinkel）：</p>
<ul>
<li>保留诗句的缩进（＃3064）。领先的诗句空格被转换为非空格，所以缩进被保留下来。</li>
<li>确保图像源是正确的链接。图片来源与普通图片​​，图片链接或图片一样，必须是正确的URI或相关文件路径才能被识别为图片。现在对所有图像源都执行此限制。这也修复了读者对未清晰图像源的使用，导致<code>file:</code>前缀不被从图像中删除。感谢<span class="citation" data-cites="bsag">@bsag</span>注意到这个错误。</li>
<li>修正诗句线（阿尔伯特Krewinkel）。</li>
<li>将元分析代码提取到模块。元数据的解析与其他块解析任务很好地分离。进入新的模块，以获得小文件和清晰的代码。</li>
<li>仅为特殊元键读取标记。大多数元键应该被看作普通的字符串值，只有少数被解释为标记的文本。</li>
<li>允许使用逗号分隔的多个作者。多个作者可以在<code>#+AUTHOR</code>元行中指定，如果它们是以逗号分隔的列表的形式给出的。</li>
<li>优先于以后的meta行。任何给定类型的最后一条元线是重要的线。以前，第一行的值保持不变，即使有更多的相同类型的行被遇到。</li>
<li>将LaTeX_header读为header-includes。LaTeX特定的头文件命令可以在<code>#+LaTeX_header</code>行中定义。他们被解析为格式特定的内联，以确保他们只会出现在LaTeX输出。</li>
<li>从LaTeX_class中设置documentclass元。</li>
<li>从LaTeX_class_options设置classoption元。</li>
<li>将HTML_head读取为header-includes。可以在<code>#+HTML_head</code>行中定义HTML特定的头部内容。它们被解析为格式特定的内联，以确保它们只会在HTML输出中显示。</li>
<li>尊重<code>author</code>导出选项。<code>author</code>选项控制<code>author</code>是否应包含在最终的标记中。设置<code>#+OPTIONS: author:nil</code>将从最终的元数据输出中删除作者。</li>
<li>尊重<code>email</code>导出选项。<code>email</code>选项控制电子邮件元字段是否应包含在最终标记中。设置<code>#+OPTIONS: email:nil</code>将从最终的元数据输出中删除电子邮件字段。</li>
<li>尊重<code>creator</code>导出选项。<code>creator</code>选项控制创建者元字段是否应包含在最终标记中。设置<code>#+OPTIONS: creator:nil</code>将从最终的元数据输出中删除创建者字段。组织模式可以识别该字段的特殊值<code>comment</code> ，从而使创建者被包含在注释中。这很难转化为Pandoc内部结构，因此被解释为与其他真实价值一样（即如果存在，则保留元场）。</li>
<li>尊重未编号的标题属性（＃3095）。正如其名称所暗示的， <code>unnumbered</code>属性的部分应该被排除在某些输出格式所提供的节的自动编号之外。这个Pandoc约定是为标题添加一个“无编号”的类。读者将属性视为默认情况下的键值对，因此会添加一个特殊情况将上述属性转换为类。</li>
<li>允许带空标题的图（Albert Krewinkel，＃3161）。图像之前的<code>#+CAPTION</code>属性足以将图像转换为图形。情况并非如此，因为处理标题值的<code>parseFromString</code>函数将在空值上失败。向标题值添加换行符可以修复此问题。</li>
</ul></li>
<li><p>Docx阅读器：</p>
<ul>
<li>使用XML便利函数（Jesse Rosenthal）。函数<code>isElem</code>和<code>elemName</code> （在Docx / Util.hs中定义）使得代码比原来的XML.Light函数更加干净，但是它们的使用并不一致。这将它们放在适用的地方。</li>
<li>处理与标题内容的锚点跨度。以前，如果锚点跨度为空，我们只能找出到docx头部的内部链接。我们改变它来读取标题中第一个锚点跨度的内联。</li>
<li>让标题使用现有的ID。以前我们总是生成一个标头的ID（因为他们不会从Docx中带一个）。现在，如果可能，我们让它使用现有的。这应该允许我们通过锚点跨度重复。</li>
<li>使用标题ID的所有锚点跨度。以前我们只使用第一个锚点跨度来影响标题ID。这使我们可以在标题中使用所有的锚点跨度，无论它们是否嵌套（＃3088）。</li>
<li>测试标题中的嵌套锚点跨度。这可以确保锚点与内容（或其他内部锚点跨度）的标头跨度将解析为正确链接到标题ID。</li>
</ul></li>
<li><p>ODT阅读器（Hubert Plociniczak）</p>
<ul>
<li>包含列表的起始值。以前，列表项目的起始值已被硬编码为1。实际上，ODT的列表样式定义可以为其一个属性提供一个新的起始值。</li>
<li>从图片后面的文字推断标题。框架可以包含与文本框的其他框架。</li>
<li>添加<code>fig:</code>标题为图片与标题（如pandoc的作家预期）。</li>
<li>对ODT文档中图像的基本支持。</li>
<li>不要复制锚文本（＃3143）。在创建锚点元素时，我们添加了其表示以及原始内容，导致文本重复。</li>
</ul></li>
<li><p>DocBook作者：</p>
<ul>
<li>当div或span具有id时，请包含一个锚点元素（＃3102）。请注意，DocBook没有类属性，但至少为内部链接提供了一个锚点。</li>
</ul></li>
<li><p>乳胶作家：</p>
<ul>
<li>不要把*用作无编号的段落，分段。已加星号的变体不存在。这有助于部分＃3058 ...它摆脱了虚假<code>*</code> s。但是，我们在第4层和第5层的标题上仍然有数字。</li>
<li>正确地逃避反驳（＃3121，杰西·罗森塔尔）。否则，他们可能会导致意外的连字<code>?`</code> 。</li>
<li>把NARRAOW NO-BREAK SPACE（LaTeX）（Vaclav Zeman）作为<code>\,</code></li>
<li>不要在数字中包含<code>[htbp]</code>位置（＃3103，VáclavHaisman）。这允许用户在模板中更改数字放置默认值。</li>
</ul></li>
<li><p>TEI作家：删除启发式检测书模板（Albert Krewinkel）。TEI没有<code>&lt;book&gt;</code>元素，只有通用的<code>&lt;divN&gt;</code>分割元素。检查模板的尾部<code>&lt;/book&gt;</code>是无意义的。</p></li>
<li><p>MediaWiki的作者：转换文件名与图像中的下划线（＃3052）。 <code>foo bar.jpg</code>变成<code>foo_bar.jpg</code> 。这已经完成了内部链接，但它也需要发生的图像。</p></li>
<li><p>ICML编写器：替换部分函数（!!）在表处理（＃3175，Mauro Bieg）。</p></li>
<li><p>男子作家：允许不是一个数字的部分号码（＃3089）。</p></li>
<li><p>AsciiDoc作家：避免不必要地使用“无约束”的重点（＃3068）。在AsciiDoc中，必须使用一种特殊的强调形式（双重<code>__</code> ）来强调内部词。Pandoc以前使用这个是不必要的。</p></li>
<li><p>EPUB作家：使用stringify而不是普通的作家元数据（＃3066）。这意味着下划线不会用于强调，或者CAPS用于粗体。元数据字段将只有未经修改的文本。</p></li>
<li><p>Docx作家：</p>
<ul>
<li>实现用户定义的样式（Jesse Rosenthal）。使用属性中的<code>custom-style</code>键的Div和Spans会将相应的键应用于包含的块或内联。</li>
<li>将ReaderT env添加到docx作者（Jesse Rosenthal）。</li>
<li>清理和简化RTL行为（Jesse Rosenthal，＃3140）。您可以在YAML元数据中设置<code>dir: rtl</code> ，或者在命令行中使用<code>-M dir=rtl</code> 。为了更细粒度的控制，您可以在Div或Span元素中设置<code>dir</code>属性。</li>
</ul></li>
<li><p>组织作家（Albert Krewinkel）：</p>
<ul>
<li>数字标题后删除空行。组织模式仅将图像作为图形对待，如果它直接在标题之前。</li>
<li>确保图中的空行。组织模式图应该被空行包围。无论如何，这个数字都是可以被识别的，但是下面一行中的图像也会被无意识地视为数字。</li>
<li>确保链接目标是路径或URL。组织模式将链接视为文档内部搜索，除非链接目标看起来像URL或文件路径（相对或绝对）。这种变化确保了这一点。</li>
<li>翻译语言标识符。Pandoc和组织模式使用不同的编程语言标识符。添加这些标识符之间的附加转换以避免意外的行为。这解决了语言特定源代码有时会作为示例代码输出的问题。</li>
<li>在脚注标记之前放下空间（Albert Krewinkel，＃3162）。作者不再在脚注标记前添加额外的空格。</li>
</ul></li>
<li><p>减价作家：</p>
<ul>
<li>除非设置了<code>raw_html</code>扩展名（＃3154），否则不要发送表格的HTML。如果没有启用合适的表格格式并且原始HTML被禁用，则发送<code>[TABLE]</code> 。</li>
<li>在发出原始HTML块之前检查<code>raw_html</code>扩展。</li>
<li>摘要out / note函数（Jesse Rosenthal）。</li>
<li>为环境变量添加ReaderT monad（Jesse Rosenthal）。</li>
</ul></li>
<li><p>HTML，EPUB，slidingy，revealjs模板：使用<code>&lt;p&gt;</code>代替<code>&lt;h1&gt;</code>作为字幕，作者，日期（＃3119）。请注意，由于此更改，作者可能需要更新CSS。</p></li>
<li><p>revealjs模板：添加<code>notes-server</code>选项（jgm / pandoc-templates＃212，Yoan Blanc）。</p></li>
<li><p>Beamer模板：</p>
<ul>
<li>恢复段落之间的空白。这是上一版本的回归（jgm / pandoc-templates＃207）。</li>
<li>增加了<code>themeoptions</code>变量（Carsten Gips）。</li>
<li>添加了<code>beamerarticle</code>变量。这导致<code>beamerarticle</code>包被装载在投影仪中，从beamer幻灯片生产一个文章。（Carsten Gips）</li>
<li>增加了对<code>fontfamilies</code>结构化变量（Artem Klevtsov）的支持。</li>
<li>增加了hypersetup选项（Jake Zimmerman）。</li>
</ul></li>
<li><p>乳胶模板：</p>
<ul>
<li>为<code>\institute</code>添加了虚拟定义。这不是一个标准的命令，我们想避免崩溃时， <code>institute</code>与默认模板使用。</li>
<li>定义默认的数字放置（VáclavHaisman），因为pandoc不再包含数字<code>[htbp]</code> 。用户自定义模板将要添加这个。（参见9.3。）</li>
<li>使用脚注包来修复表格中的注释（jgm / pandoc-templates＃208，VáclavHaisman）。</li>
</ul></li>
<li><p>将模板编译/渲染代码移至单独的库。 <code>doctemplates</code> 。这允许独立使用pandoc模板系统。</p></li>
<li><p>Text.Pandoc。错误：修正了<code>handleError</code> （Matthew Pickering）中的索引错误。解决办法是不要试图显示确切的行，当它将导致包括文件的结果出界的错误。</p></li>
<li><p>Text.Pandoc。共享：添加<code>linesToBlock</code>函数（Albert Krewinkel）。</p></li>
<li><p>Text.Pandoc。Parsing.emailAddress：收紧电子邮件地址的解析。技术上<code>**@user</code>是一个有效的电子邮件地址，但是如果我们允许这样的事情，我们会在自动链接原始电子邮件地址（见＃2940）的降价风格中得到不好的结果。所以我们排除一些有效的电子邮件地址，以避免这些更常见的不良情况。</p></li>
<li><p>Text.Pandoc。PDF：不要崩溃与不存在的图像（＃3100）。相反，发出替代文字，强调。这符合ODT作者目前的工作。用户仍然会收到关于不存在的图像的警告。</p></li>
<li><p>修复API文档中的示例（＃3176，ThomasWeißschuh）。</p></li>
<li><p>告诉INSTALL（＃3062）中哪里可以得到tarball。</p></li>
<li><p>将README重命名为MANUAL.txt并添加GitHub友好的README.md（Albert Krewinkel，Kolen Cheung）。</p></li>
<li><p>使用GNU（Kolen Cheung）的Markdown版本COPYING.md替换COPYING。</p></li>
<li><p>MANUAL.txt：</p>
<ul>
<li>在单独的段落（＃2148，Albert Krewinkel）中记录结构化变量。使结构化的作者变量需要一个自定义模板更清楚</li>
<li>请注意 - <code>--katex</code>最适合<code>html5</code> （＃3077）。</li>
<li>修复手册中的LaTeX和EPUB链接（Morton Fox）。</li>
<li>文献<code>biblio-title</code>变量。</li>
</ul></li>
<li><p>提高在脚注间距<code>--help</code>输出（Waldir Pimenta的）。</p></li>
<li><p>更新KaTeX至v0.6.0（Kolen Cheung）。</p></li>
<li><p>允许最新的依赖关系。</p></li>
<li><p>使用texmath 0.8.6.6（＃3040）。</p></li>
<li><p>允许http-client 0.4.30，这是堆栈文件的版本。以前我们要求0.5。删除早期版本的CPP条件。</p></li>
<li><p>取消对GHC &lt;7.8（Jesse Rosenthal）的支持。</p>
<ul>
<li>删除Compat。独异。</li>
<li>删除一个内联monad兼容性宏。</li>
<li>删除文本。Pandoc。{0}{1}compat{/1}{/0} :除外</li>
<li>删除目录compat。</li>
<li>更改mtl的限制。</li>
<li>删除UTF8中不必要的CPP条件。</li>
<li>冲击基数下限为4.7。</li>
<li>从.travis.yaml中删除7.6 build。</li>
<li>凹凸在CONTRIBUTING.md中支持ghc版本。</li>
<li>将关于GHC版本支持的注释添加到INSTALL。</li>
<li>从测试版本列表中删除GHC 7.6（Albert Krewinkel）。</li>
<li>删除TagSoup compat。</li>
<li>添加EOL注释到时间compat模块。因为时间1.4是GHC 7.8的引导库，只要我们支持7.8，我们将支持兼容性模块。但是我们应该清楚什么时候我们不再需要它了。</li>
<li>删除blaze-html CPP条件。</li>
<li>删除自定义Prelude中不必要的CPP。</li>
</ul></li>
</ul>
<h1 id="pandoc-1.17.2-17-jul-2016">pandoc 1.17.2（2016年7月17日）</h1>
<ul>
<li><p>增加了Zim维基作家，模板和测试。 <code>zimwiki</code>现在是一个有效的输出格式。（Alex Ivkin）</p></li>
<li>将电子邮件模糊处理默认更改为不模糊处理（＃2988）。
<ul>
<li><code>writerEmailObfuscation</code>在<code>defaultWriterOptions</code>现在<code>NoObfuscation</code> 。</li>
<li>命令行默认的<code>--email-obfuscation</code>选项现在是<code>none</code> 。</li>
</ul></li>
<li><p>Docbook writer：在Docbook5输出中声明xlink命名空间（Ivo Clarysse）。</p></li>
<li><p>组织作家：</p>
<ul>
<li>支持任意原始内联（Albert Krewinkel）。组织模式允许以<code>@@format:raw foreign format text@@</code>包含任意原始内联（Emacs术语中的“导出片段”） <code>@@format:raw foreign format text@@</code> 。</li>
<li>改善分部处理（Albert Krewinkel）。Div块处理改变，使输出看起来更像习惯组织模式：<ul>
<li>如果div的属性为null属性，则Div-wrapped内容按原样输出。</li>
<li>包含id但不包括类或键值对的div容器都将被解包，并将该id作为锚点添加。</li>
<li>具有更大块元素的类的div包装在<code>#+BEGIN</code> ... <code>#+END</code>块中。</li>
<li>保留具有更复杂属性的Div的旧行为。</li>
</ul></li>
</ul></li>
<li><p>HTML编写器：更好地支持原始LaTeX环境（＃2758）。以前，当MathJax用于HTML数学时，我们只是通过了所有原始的TeX。这通过了太多。有了这个补丁，只有MathJax可以处理的原始LaTeX环境才能通过。这个补丁也会导致原始的LaTeX环境在MathML和WebTeX输出的情况下被视为数学。</p></li>
<li><p>Markdown编写器：使用原始HTML作为简单的带换行符的管道表（＃2993）。Markdown换行符包含一个换行符，简单的管道表不能包含换行符。</p></li>
<li><p>使-webtex与Markdown作家（＃1177）一起工作。对于使用Markdown风格不提供数学的网站的用户来说，这是一个方便的选择。</p></li>
<li><p>Docx作家：</p>
<ul>
<li>显示数学后将段落设置为FirstPara（Jesse Rosenthal）。我们将显示数学视为块引号，并将FirstParagraph样式应用于跟随它们的段落。这些可以根据用户的意愿进行设计。（但是，当用户使用缩进时，这允许在没有缩进的情况下在显示数学之后继续段落。）</li>
<li>使用实际创建时间作为doc prop（Jesse Rosenthal）。以前，我们使用用户提供的日期（如果可用）来创建Word的文档元数据。这可能会导致奇怪的结果，因为在用户后期日期文档（所以修改可能在创建之前）。这里我们使用实际的计算机时间来设置文档的创建。</li>
</ul></li>
<li><p>乳胶作家：</p>
<ul>
<li>不要使用URI转义图像源（＃2825）。通常这是一个本地文件，用<code>%20</code>替换空格就会毁掉东西。</li>
<li>允许“出色”作为投影机框架选项（＃3007）。<code>## Slide title {.standout}</code> 。</li>
</ul></li>
<li><p>RST阅读器：固定链接，没有明确的链接文字。链接<code>`&lt;foo&gt;`_</code>应该有<code>foo</code>作为链接文本和它的URL。请参阅RST规范<a href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#embedded-uris-and-aliases" class="uri">http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#embedded-uris-and-aliases</a>关闭Debian＃828167  - 由Christian Heller报告。</p></li>
<li><p>纺织阅读器：</p>
<ul>
<li>固定属性（＃2984）。属性不能跟一个空格。所以， <code>_(class)emph_</code>但是<code>_(noclass) emph_</code> 。</li>
<li>修正指数解析错误（＃3020）。</li>
<li>修正过分激进的解释为图像（＃2998）。纺织品中的图片网址不允许使用空格。</li>
</ul></li>
<li><p>乳胶读者：</p>
<ul>
<li>修复<code>\cite</code>所以这是一个NormalCitation不是AuthorInText。</li>
<li>如果存在的话，去掉图像源的双引号（＃2825）。避免将这些解释为字面文件名的一部分。</li>
</ul></li>
<li><p>组织读者：</p>
<ul>
<li>将分号添加到特殊字符列表（Albert Krewinkel）分号在引用语法中用作特殊字符。这确保了对Pandoc风格引用的正确解析： <code>[prefix; @key; suffix]</code> 。以前，解析将失败，除非有空格或其他特殊字符作为最后一个<prefix>字符。</prefix></li>
<li>增加对“伯克利风格”引用的支持（Albert Krewinkel，＃1978）。理查德·劳伦斯（Richard Lawrence）起草了Org模式引用正式语法的规范，并在orgmode邮件列表上的其他人的帮助下得到了增强。基本支持这种引用风格被添加到读者。</li>
<li>支持任意原始内联（Albert Krewinkel）。组织模式允许以<code>@@format:raw foreign format text@@</code>包含任意原始内联（Emacs术语中的“导出片段”） <code>@@format:raw foreign format text@@</code> 。</li>
<li>删除部分功能（Albert Krewinkel，＃2991）。像<code>head</code>部分功能导致可避免的错误，应该避免。它们被全部功能取代。</li>
<li>支持人物标签（Albert Krewinkel，＃2496，＃2999）。图标以<code>#+LABEL: thelabel</code>标签给出<code>#+LABEL: thelabel</code>被用作相应图像的ID。这允许例如LaTeX添加适当的<code>\label</code>标记。</li>
<li>改善标签和属性类型安全（Albert Krewinkel）。使用特定的新类型定义替换标签和属性的字符串类型。类型安全性提高，可读性提高。</li>
<li>解析为标题，转换为块（Albert Krewinkel）。Emacs组织模式是基于大纲模式，它将文档视为标题为节点的树。读者重构解析成一个类似的树形结构。这简化了对文档（子）树的转换。</li>
<li>重构评论树处理（Albert Krewinkel）。注释树在解析后被处理，因为列表上的模式匹配比序列上的匹配更容易。将文档作为树读取的新方法允许更清晰的删除子树。</li>
<li>支持存档的树木导出选项（Albert Krewinkel）。可以使用<code>arch</code>选项修改归档树的处理。当<code>arch</code>选项分别为nil，non-nil或<code>headline</code> ，归档的树会被删除，完全导出或折叠以包含<code>headline</code> 。</li>
<li>将导出设置解析器放入模块（Albert Krewinkel）。导出选项解析与一般的块解析是非常不同的，以便将其放入单独的模块中。</li>
<li>支持标题级出口设置（Albert Krewinkel）。标题的深度可以使用<code>H</code>选项进行修改。更深的标题将被转换为列表。</li>
<li>用视图模式替换难看的代码（Albert Krewinkel）。一些不太智能的代码需要重叠模式警告的编译指示，以便无缝编译。使用视图模式使代码更容易阅读，也不需要重叠模式检查被禁用。</li>
<li>修复逐字内联的解析（Albert Krewinkel，＃3016）。标记字符之前或之后的允许字符的组织规则不会被逐字逐句地检查。如果逐字文本包含空格（例如空格包含的标记字符作为文本的一部分）（ <code>=is_substr = True=</code> ），则会导致错误的解析结果。强制解析器更新允许/禁止的标记边框字符的位置可以修复此问题。</li>
</ul></li>
<li><p>LaTeX模板：修复晦涩的hyperref / xelatex问题。这是一个最小的情况：</p>
<pre><code>\ documentclass [] {article} \ usepackage {hyperref} \ begin {document} \ section {\％á} \ end {document}</code></pre>
<p>如果没有这种更改，则会在第二次调用xelatex时失败。这会影响像<code># %á</code>这样的输入，通过xelatex输出pdf。</p></li>
<li><p>trypandoc：调用结果'html'而不是'result'。这是为了更好地兼容babelmark2。</p></li>
<li><p>将MultiMarkdown作为输入/输出格式（Albert Krewinkel，＃2973）。MultiMarkdown仅作为受支持的Markdown方言提及，但不是可能的输入或输出格式。在其他地方添加了一个简短的提及支持的降价方言。</p></li>
<li><p>文档组织模式为包含原始HTML（Albert Krewinkel）格式的原始HTML在输出格式为Emacs组织模式时保留。</p></li>
<li><p>在示例lua自定义作家（＃2985）中实现<code>RawInline</code>和<code>RawBlock</code> 。</p></li>
<li><p>Text.Pandoc。共享</p>
<ul>
<li>引入blocksToInlines函数（Jesse Rosenthal）。这是转换<code>[Block] -&gt; [Inline]</code>的有损函数。它目前主要用于docx注释，它可以包含任意块（脚注除外），但将被转换为跨度。目前，除了基本的<code>Para</code>和<code>Plain</code>评论之外，这一切都毫无用处。它可以被改进，但是如果注释包含更多，docx读者可能会发出警告。</li>
<li>将BlockQuote添加到blocksToInlines（Jesse Rosenthal）。</li>
<li>为<code>normalizeDate</code> （Jesse Rosenthal）添加更多格式。我们希望避免非法日期 - 尤其是四位数以上的年份。我们试图首先解析一系列数字，分别是<code>%Y%m%d</code> ，然后是<code>%Y%m</code> ，最后是<code>%Y</code> 。</li>
<li><code>normalizeDate</code>应该拒绝非法年（Jesse Rosenthal）。我们只允许1601年和9999年之间，包括在内。实际上，ISO 8601认为，应该从1583年开始，但MS Word只允许1601-9999。如果日期超出该范围，或者被错误解析，这应该会停止损坏的文件。</li>
<li>在正常化日期（Jesse Rosenthal）改善年度健康检查。以前我们解析了一个日期列表，拿到了第一个日期，然后测试了它的年份范围。那意味着如果第一个失败了，我们什么都不会返回，不管别人做了什么。现在我们在运行<code>msum</code>到Maybe值列表之前测试它的完整性。任何不通过测试的将是Nothing，所以不会成为候选人。</li>
</ul></li>
<li><p>Docx阅读器：</p>
<ul>
<li>添加简单的评论功能。（杰西·罗森塔尔）。这添加了简单的轨道更改注释解析到docx阅读器。它是用<code>--track-changes=all</code>打开的。所有评论都转换为内联，可以列出一些信息。在未来，将会添加一个警告，用于格式化的评论，看起来会过度变性。请注意，评论可以扩展到块。出于这个原因，有两个跨度： <code>comment-start</code>和<code>comment-end</code> 。 <code>comment-start</code>将包含评论。 <code>comment-end</code>将永远是空的。这两个将通过数字ID相关联。</li>
<li>在顶级阅读器中启用警告（Jesse Rosenthal）。以前，我们只允许解析器中的警告。现在我们也允许他们在<code>Docx.hs</code>中。警告只是简单的连接。</li>
<li>为高级评论格式添加警告。（杰西·罗森塔尔）。我们不能保证我们会正确地转换所有评论，尽管我们会尽我们所能。如果评论包含除Para或Plain之外的其他内容，则会发出警告。</li>
<li>添加警告的测试。（杰西·罗森塔尔）。</li>
<li>为评论添加测试（Jesse Rosenthal）。我们测试评论，使用所有跟踪更改选项。请注意，如果<code>--track-changes=all</code> ，我们只应该输出注释。如果格式复杂，我们也会测试发出警告。</li>
</ul></li>
<li><p>自述文件：更新以包含音轨更改评论。（杰西·罗森塔尔）</p></li>
<li><p>改进的Windows安装程序 - 不要忽略在命令行中设置的属性。（参见9.3。）需要测试，看看这是否解决了这个问题。感谢<span class="citation" data-cites="nkalvi">@nkalvi</span> 。</p></li>
<li><p>在L-&gt; R命令（＃2995）中在命令行中处理markdown扩展。以前他们被处理，非常不直观，在R-&gt; L顺序，所以<code>markdown-tex_math_dollars+tex_math_dollars</code> <code>tex_math_dollars</code>禁用<code>tex_math_dollars</code> 。</p></li>
<li><p>添加了<code>secnumdepth</code>变量到LaTeX模板（＃2920）。</p></li>
<li><p>在Windows包中的README.html中包含目录。</p></li>
<li><p>作家：把SoftBreak当作剥离空间（Jesse Rosenthal）的作家。共享，我们去除显示数学的前导和尾随空间。由于SoftBreak的被视为空间，我们也应该去掉它们。</p></li>
<li><p>投影仪，乳胶模板：直接在包装中传递biblatexoptions。这允许使用运行时optinos。修复了jgm / pandoc-citeproc＃201</p></li>
<li><p>CPP解决方法，用于弃用http-client中的<code>parseUrl</code> 。</p></li>
<li><p>删除了一些冗余类的约束。</p></li>
<li><p>make_oxs_package.sh  - 使用OSX env变量。</p></li>
<li><p>添加<code>winpkg</code>目标到Makefile。这将从appveyor下载windows包并使用密钥对其进行签名。</p></li>
<li><p>文档组织模式作为包含原始TeX（Albert Krewinkel）的格式。当输出格式为Emacs组织模式时，原始TeX保持逐字。</p></li>
<li><p>用haddock-library&gt; = 1.4支持数学。</p></li>
<li><p>从库节删除了<code>-rtsopts</code> 。它没有效果，Hackage不接受这个包。</p></li>
<li><p>更新库依赖版本。</p></li>
</ul>
<h1 id="pandoc-1.17.1-4-jun-2016">pandoc 1.17.1（2016年6月4日）</h1>
<ul>
<li><p>新的输出格式： <code>docbook5</code> （Ivo Clarysse）。</p></li>
<li><p><code>Text.Pandoc。Options</code> ：将<code>writerDocBook5</code>添加到<code>WriterOptions</code> （API更改）。</p></li>
<li><p>组织作家：</p>
<ul>
<li>添加：属性：抽屉支持（Albert Krewinkel，＃1962）。这允许将标题属性以以下形式添加到组织文档<code>:PROPERTIES:</code>抽屉。所有可用的属性都存储为键/值对。这反映了组织读者处理的方式<code>:PROPERTIES:</code> blocks。</li>
<li>增加抽屉功能（Carlos Sosa）。为了实现Org Writer中的Drawer元素，我们使用了一个具有属性的通用块容器。<code>drawer</code>类的存在定义了<code>Div</code>构造函数是一个抽屉。第一个类定义要使用的抽屉名称。属性中的键值列表定义了要在抽屉内添加的键。最后，块元素列表包含要在抽屉内添加的其他块元素。</li>
<li>在属性中使用<code>CUSTOM_ID</code> （Albert Krewinkel）。<code>ID</code>属性保留供组织内部使用，不应使用。将使用<code>CUSTOM_ID</code>属性来替代，它将转换为某个导出格式的<code>ID</code>属性。</li>
</ul></li>
<li><p>乳胶作家：</p>
<ul>
<li>忽略 - <code>--incremental</code>除非输出格式是投影仪（＃2843）。</li>
<li>修复polyglossia巴贝尔env映射（莫罗比格，＃2728）。允许方括号中的可选参数。</li>
<li>认识<code>la-x-classic</code>为古典拉丁语（Andrew Dunning）。这允许人们访问CTAN的hyph-utf8中的连字符模式。</li>
<li>从hyph-utf8添加缺少的语言（Andrew Dunning）。</li>
<li>在桌子内部使用<code>\minipage</code>改善<code>\strut</code>使用（Jose Luis Duran）。这改善了多行表格中的间距。</li>
<li>围绕包含特殊字符的选项（＃2892）使用<code>{}</code> 。</li>
<li>避免懒惰的<code>foldl</code> 。</li>
<li>不要在标签下划线（＃2921）。以前，他们被作为<code>ux5f</code>逃脱。</li>
<li>巴西 - &gt;巴西polyglossia（＃2953）。</li>
</ul></li>
<li><p>HTML编写器：确保在脚注（＃2881）中出现数学时，添加mathjax链接。以前，如果一个文件只有脚注数学，MathJax链接将不会被添加。</p></li>
<li><p>EPUB编辑器：在导航页面上设置<code>navpage</code>变量。这允许模板以不同的方式对待它。</p></li>
<li><p>DocBook作者：</p>
<ul>
<li>如果<code>writerDocbook5</code>被设置，则使用docbook5（Ivo Clarysse）。</li>
<li>正确处理<code>ulink</code> / <code>link</code> （Ivo Clarysse）。</li>
</ul></li>
<li><p>EPUB阅读器：</p>
<ul>
<li>背景中的Unescape URIs（＃2924）。</li>
<li>EPUB阅读器：标准化链接ID（Mauro Bieg）。</li>
</ul></li>
<li><p>Docx阅读器：</p>
<ul>
<li>解析<code>moveTo</code>和<code>moveFrom</code> （Jesse Rosenthal）。 <code>moveTo</code>和<code>moveFrom</code>是在文档中移动文本块时使用的跟踪更改标签。我们现在认识到这些标签，分别把它们当作<code>insert</code>和<code>delete</code> 。所以，-- <code>--track-changes=accept</code>会显示移动版本，而<code>--track-changes=reject</code>会显示原始版本。</li>
<li>测试移动轨迹（杰西罗森塔尔）。</li>
</ul></li>
<li><p>ODT，EPUB，Docx读者：在解压缩失败时抛出<code>PandocError</code> （Jesse Rosenthal）以前，如果zip归档失败， <code>readDocx</code> ， <code>readEPUB</code>和<code>readOdt</code>将会出错。我们将存档提取步骤从<code>toArchive</code>为<code>toArchiveOrFail</code> ，它将返回一个Either值。</p></li>
<li><p>降价，HTML读者：更宽容有关转义<code>&amp;</code>在HTML（＃2410）。我们现在更宽容有关解析无效HTML与转义<code>&amp;</code>作为原始的HTML。 （以前任何非转义<code>&amp;</code>会导致pandoc不识别该字符串为原始的HTML。）</p></li>
<li><p>降价阅读器：</p>
<ul>
<li>修正以2个空格结尾的pandoc标题块（＃2799）。</li>
<li>加<code>-s</code>来降价，读者更多的测试。</li>
</ul></li>
<li><p>HTML阅读器：修正了<code>pClose</code>错误。这导致documnets中的指数解析行为在<code>dl</code> ， <code>dd</code> ， <code>dt</code>中具有未被关闭的标签。</p></li>
<li><p>MediaWiki阅读器：在之前允许空格<code>!</code> 在MediaWiki表头（roblabla）中。</p></li>
<li><p>RST阅读器：支持<code>:class:</code> RST阅读器（Sidharth Kapur）中的代码块选项。</p></li>
<li><p>Org读者（所有的Albert Krewinkel，除非另有说明）：</p>
<ul>
<li>停止填充短表行。Emacs组织模式不会为表格行添加任何填充。第一行（标题或第一个正文行）用于确定列数，不执行其他魔术。</li>
<li>重构行到表的转换。这将代码转换成列表表格行重新组织表ADT。旧的代码被简化了，现在稍微不那么难看了。</li>
<li>修复处理空表格单元格（Albert Krewinkel，＃2616）。这解决了一些关于空单元格和行的角落案例的组织模式解析。空单元格未正确解析，例如<code>|||</code>应该是两个空单元格，但将被解析为包含管道字符的单个单元格。将空行解析为对齐行并从输出中删除。</li>
<li>修复LaTeX样式符号之后的间距。该组织阅读器被滴速空间转义乳胶风格的符号命令后： <code>\ForAll \Auml</code>导致<code>∀Ä</code>但应该给<code>∀ Ä</code>代替。这似乎是因为LaTeX阅读器将命令终止空间视为命令的一部分。从符号命令中删除尾部空格修复了这个问题。</li>
<li>打印空表行。空表行不应该从输出中删除，因此行高总是至少设置为1。</li>
<li>将解析器状态移到单独的模块中。org阅读器代码变得庞大而混乱。将较小的部件提取到子模块应该有助于清理。</li>
<li>添加对子/上标导出选项的支持。组织模式允许通过<code>#+OPTIONS</code>行指定导出设置。禁用简单的子和上标是这些导出选项之一，现在支持这个选项。</li>
<li>支持特殊的字符串导出选项可以使用<code>-</code>选项来切换特殊字符串的解析（比如<code>...</code>如省略号或<code>--</code>如短划线）。</li>
<li>支持强调文本导出选项。强调文本的解析可以使用<code>*</code>选项进行切换。这会影响标记为强调，强壮，删除和下划线的文本的解析。内联数学，代码和逐字文本的解析不受此选项的影响。</li>
<li>支持智能报价导出选项。聪明的报价阅读可以切换使用<code>'</code>选项。</li>
<li>解析但忽略导出选项。所有已知的导出选项都被解析，但被忽略。</li>
<li>重构块属性处理。解析器状态属性用于跟踪元行中定义的块属性。全局状态是不可取的，所以块属性不再保存为解析器状态的一部分。旧功能和解析器状态的相应部分被删除。</li>
<li>使用自定义<code>anyLine</code> 。在分析换行符后需要进行其他状态更改，否则标记可能无法正确识别。这修复了某些块类型之后的标记无法识别的问题。</li>
<li>添加对<code>ATTR_HTML</code>属性的支持（＃1906）。可以在块之前使用<code>#+ATTR_HTML</code>行将任意键值对添加到某些块类型。Emacs组织模式仅在导出为HTML时包含这些内容，但由于我们无法在此区分，因此总是添加属性。数字现在支持该功能。</li>
<li>添加<code>:PROPERTIES:</code>抽屉支持（＃1877）。标题可以有可选项<code>:PROPERTIES:</code>与其相关的抽屉。这些抽屉包含键/值对，如标题的<code>id</code> 。读者将所有列出的对添加到标题的属性中; <code>id</code>和<code>class</code>属性被专门处理以匹配<code>Attr</code>被定义的方式。这也改变了如何处理未知类型的抽屉的行为。不包括所有未知的抽屉，而是不读取/导出，从而匹配当前的Emacs行为。</li>
<li>在属性中使用<code>CUSTOM_ID</code> 。有关组织编辑器更改，请参阅上文。</li>
<li>尊重抽屉出口设置。<code>d</code>导出选项可以用来控制哪些抽屉被导出，哪些被丢弃。此处添加对此选项的基本支持。</li>
<li>忽略组织代码块中的领先空间（Emanuel Evans，＃2862）。还要修正代码块中的空白符的标签处理。</li>
<li>支持导出块的新语法。组织模式版本9使用导出块的新语法。而不是<code>#+BEGIN_&lt;FORMAT&gt;</code> ，其中<code>&lt;FORMAT&gt;</code>是块内容的格式，而新格式使用<code>#+BEGIN_export &lt;FORMAT&gt;</code> 。这两种类型都支持。</li>
<li>重构<code>BEGIN...END</code>块解析。</li>
<li>修正块中空白的处理，允许内容缩进块头。</li>
<li>支持org-ref风格的引用。<em>org-ref</em>包是一种组织模式扩展，通常用于管理组织文档中的引用。<code>cite:citeKey</code>基本支持<code>cite:citeKey</code>和<code>[[cite:citeKey][prefix text::suffix text]]</code>语法。</li>
<li>将代码拆分成单独的模块，使代码更清晰，解耦更好。</li>
</ul></li>
<li><p>添加<code>docbook5</code>模板。</p></li>
<li><p><code>--mathjax</code>改进：</p>
<ul>
<li>为MathJax使用新的CommonHTML输出（更新的默认MathJax URL，＃2858）。</li>
<li>将默认的mathjax设置更改为使用<code>TeX-AMS_CHTML</code>配置。这是专为输入总是TeX和最大符合TeX的情况而设计的。它似乎比我们以前使用的更小，负载更快。（参见9.3。）</li>
<li>加载完整的MathJax配置以最大化加载速度（KolenCheung）。</li>
</ul></li>
<li><p>撞上了版本的界限，以允许使用最新的软件包和ghc 8编译。</p></li>
<li><p>需要texmath 0.8.6.2。关闭几个texmath相关的错误（＃2775，＃2310，＃2310，＃2824）。这修复了根的行为，例如<code>\sqrt[3]{x}</code> ，以及docx中的子/上标定位和矩阵列对齐的问题。</p></li>
<li><p>{0}{/0}
						请看这里
					</p>
<ul>
<li>阐明了<code>implicit_header_references</code>文档（＃2904）。</li>
<li>改进了<code>--columns</code>选项的文档。</li>
</ul></li>
<li><p>增加appveyor设置，与文物（Jan Schulz）。</p></li>
<li><p>stack.yaml版本：使用用于texmath的正确标志，pandoc-citeproc。</p></li>
<li><p>LaTeX模板：支持自定义字体系列（vladipus）。西里尔字体需要正确的polyglossia操作，也许可以找到一些其他的用法。YAML元数据中的示例用法：</p>
<pre><code>fontfamilies： - 名称：\ cyrillicfont字体：Liberation Serif  - 名称：\ cyrillicfonttt选项：Scale = MatchLowercase字体：Liberation</code></pre></li>
<li><p>在appveyor构建中创建未签名的msi作为构建工件。</p></li>
<li><p>在travis上，用ghc 8.0.1进行测试;为ghc下降测试7.4.1。</p></li>
</ul>
<h1 id="pandoc-1.17.0.3-24-mar-2016">pandoc 1.17.0.3（2016年3月24日）</h1>
<ul>
<li>乳胶作家：固定标签的位置（＃2813）。以前，标签不在正确的位置， <code>\ref</code>将无法正常工作。</li>
<li>将.tei测试文件添加到pandoc.cabal，以便将它们包含在tarball（＃2811）中。</li>
<li>更新版权日期。</li>
</ul>
<h1 id="pandoc-1.17.0.2-23-mar-2016">pandoc 1.17.0.2（2016年3月23日）</h1>
<ul>
<li>在<code>htmlInBalanced</code>修正了严重的回归，导致Markdown（＃2804）中的某些原始HTML块中省略了换行符。</li>
</ul>
<h1 id="pandoc-1.17.0.1-21-mar-2016">pandoc 1.17.0.1（2016年3月21日）</h1>
<ul>
<li>当没有输入文件（即输入来自stdin）时，文件范围不再使用。以前的文件范围是在指定了<code>json</code>阅读器并且输入来自<code>stdin</code>时候触发的，而这不会导致产生输出。（由于Jesse Rosenthal的解决，谢谢Fedor Sheremetyev提醒我们注意这个bug。）</li>
<li>改进了模板文档（＃2797）。</li>
</ul>
<h1 id="pandoc-1.17-20-mar-2016">pandoc 1.17（2016年3月20日）</h1>
<ul>
<li><p>增加了<code>--file-scope</code>选项（Jesse Rosenthal）。默认情况下，pandoc首先将多个文件连接在一起（围绕多余的换行符），然后处理连接的文件。所以它只能解析文档范围内的多文档文档。这有一个好处，脚注和链接可以在不同的文件中，但出于某种目的，首先解析单个文件，然后合并它们的输出（例如，当文件使用脚注或带有相同标签的链接时）是有用的。<code>--file-scope</code>选项使pandoc首先解析文件，然后合并解析的输出，而不是在解析之前合并。 <code>--file-scope</code>二进制输入文件（无法连接）和pandoc json自动选择文件<code>--file-scope</code> 。</p></li>
<li><p>添加TEI Writer（Chris Forster）和<code>tei</code>输出格式。</p></li>
<li><p>添加了一个带有警告的通用<code>ByteStringReader</code> ，由docx阅读器使用（API更改，Jesse Rosenthal）。</p></li>
<li><p>添加<code>readDocxWithWarnings</code> （API更改，Jesse Rosenthal）。</p></li>
<li><p>将<code>Shared.uniqueIdent</code>参数的类型从<code>[String]</code>更改为<code>Set String</code> 。这避免了许多名称相同的文档中的性能问题（API更改，＃2671）。</p></li>
<li><p>从<code>markdown_github</code>选项中删除了<code>tex_math_single_backslash</code> （＃2707）。</p></li>
<li><p>使语言扩展以及完整的语言名称触发语法高亮。例如， <code>py</code>现在可以像<code>python</code>一样工作（jgm / highlighting-kate＃83）。</p></li>
<li><p>增加了<code>institute</code>变量乳胶，投影模板（Fraser Tweedale，Josef Svenningsson）。</p></li>
<li><p>Docx读者（Jesse Rosenthal）：</p>
<ul>
<li>处理备用内容。一些文字功能（特别是图形）给内容提供了各种选择，所以可以有向后兼容性。</li>
<li>不要把编号的标题变成列表。</li>
<li>Docx Reader：为解析器添加状态，用于警告</li>
<li>更新源代码中的功能清单。</li>
<li>摆脱<code>Modifiable</code>类型类。</li>
<li>为相邻的超链接添加测试。</li>
<li>将“链接”修改器添加到“ <code>Reducible</code> 。我们希望确保链接已经被删除，并且适当的一起冲洗（＃2689）。</li>
</ul></li>
<li><p>HTML阅读器：</p>
<ul>
<li>修正了基本标签的行为（＃2777）。如果基路径不以斜杠结尾，则最后一个组件将被替换。例如，base = <code>http://example.com/foo</code>与<code>bar.html</code>结合，以提供<code>http://example.com/bar.html</code> 。如果href以斜线开始，则替换基部的整个路径。例如，base = <code>http://example.com/foo/</code>与<code>/bar.html</code>结合以提供<code>http://example.com/bar.html</code> 。</li>
<li><code>htmlInBalanced</code> 。该版本避免了<code>&lt;script&gt;</code>标签的指数性能问题，并且通常应该更快（＃2730）。</li>
<li>正确处理一个简单表格中的空单元格（＃2718）。</li>
<li>处理多个具有相同名称的<code>&lt;meta&gt;</code>标记。把它们放在元数据列表中，这样它们全部被保留下来，而不是像以前那样扔掉所有的东西。</li>
</ul></li>
<li><p>降价阅读器：</p>
<ul>
<li>改进了管道表格解析（＃2765）。</li>
<li>允许管道表格单元格中的<code>+</code>分隔符。我们已经允许他们在头，但不是在身体行，出于某种原因。这提供了与组织模式表的兼容性。</li>
<li>不要跨越行边界解析管道表行。以前，Emph元素可以在管道表行的末尾换行。</li>
<li>使用<code>htmlInBalanced</code> for <code>rawVerbatimBlock</code> ，获得更好的性能（＃2730）。</li>
<li>修正了tex数学周围的智能引用的错误。</li>
</ul></li>
<li><p>乳胶读者：</p>
<ul>
<li>数学处理内部<code>$</code>字符（＃2743）。例如， <code>$$\hbox{$i$}$$</code> 。</li>
<li>在任何命令（＃2687）之后， <code>inlineCommand</code>现在会<code>inlineCommand</code>一个空的<code>{}</code> 。当人们在Markdown中编写<code>\TeX{}</code>时，这会给出更好的结果。</li>
<li>正确处理LaTeX“数学”环境，如内联数学（＃2171）。</li>
</ul></li>
<li><p>织物阅读器：支持<code>&gt;</code> ， <code>&lt;</code> ， <code>=</code> ， <code>&lt;&gt;</code>文本对齐属性。关闭%s</p></li>
<li><p>Org读者（Albert Krewinkel）：</p>
<ul>
<li>甚至在“fig：”（＃2643）前面加上空格。对于数字使用pandoc的约定是由前缀来命名，以纪念他们<code>fig:</code> 。如果一个人物没有名字，org读者就不能这样做。</li>
<li>重构链接目标处理（＃2684）。</li>
</ul></li>
<li><p>ConTeXt编写器：修正在行块（＃2744）开始的行的空格。感谢<span class="citation" data-cites="c-foster">@ c-foster</span> 。</p></li>
<li><p>HTML编写器：不要为默认表列包含对齐属性。以前这些被给予“左”对齐。最好不要放弃对齐属性（＃2694）。</p></li>
<li><p>Markdown writer：为YAML元数据块底线使用连字符，以便与其他Markdown风格（Henrik Tramberend）更好地兼容。</p></li>
<li><p>乳胶作家：</p>
<ul>
<li>使用图像标识符为数字创建标签和过滤器（Mauro Bieg）。</li>
<li>避免在无标题表中带有标题（＃2742）的双顶级表格。</li>
<li>清理选项解析器（Jesse Rosenthal）。</li>
<li>将<code>article</code>选项作为文章对待<code>memoir</code>模板，而不是将所有的<code>memoir</code>模板视为书籍。</li>
<li>允许更灵活的表格对齐（Henrik Tramberend，＃2665）。新的默认不包括<code>[c]</code>选项（如果没有指定定位，这是默认的）。现在，LaTeX模板可以通过设置长度可变长度变量<code>LTleft</code>和<code>LTright</code>来控制文档中的整个表格对齐。例如， <code>\setlength\LTleft\parindent\setlength\LTright\fill</code>将会创建左对齐的表格来关注段落缩进。</li>
</ul></li>
<li><p>Docx作家：处理图像替代文本（＃2754，Mauro Bieg）。</p></li>
<li><p>组织作家 - 通过RawInline格式“org”。</p></li>
<li><p>DokuWiki作家：显示数学使用<code>$$</code> 。</p></li>
<li><p>自定义作家：将属性参数传递给CaptionedImage（＃2697）。</p></li>
<li><p>使协议相关的URI再次工作（＃2737）。</p></li>
<li><p>make_osx_package.sh：对开发人员id证书使用env变量。</p></li>
<li><p>将<code>tagsoup</code>下限提高到0.13.7以解决与实体相关的问题（＃2734）。</p></li>
<li><p>允许<code>zip-archive</code> 0.3。</p></li>
<li><p>允许<code>aeson</code> 0.11。</p></li>
</ul>
<h1 id="pandoc-1.16.0.2">pandoc（1.16.0.2）</h1>
<ul>
<li><p>取决于深度而不是深度泛型（fpco / stackage＃1096）。</p></li>
<li><p>修正乳胶智能报价解析中的回归（＃2645）。在没有找到匹配的报价的情况下，从公开报价到段落结尾的所有内容都将被丢弃。</p></li>
</ul>
<h1 id="pandoc-1.16.0.2-12-jan-2016">pandoc 1.16.0.2（2016年1月12日）</h1>
<ul>
<li><p>取决于深度而不是深度泛型（fpco / stackage＃1096）。</p></li>
<li><p>修正乳胶智能报价解析中的回归（＃2645）。在没有找到匹配的报价的情况下，从公开报价到段落结尾的所有内容都将被丢弃。</p></li>
</ul>
<h1 id="pandoc-1.16.0.1-10-jan-2016">pandoc 1.16.0.1（2016年1月10日）</h1>
<ul>
<li><p>使用<code>--latex-engine</code>固定回归（＃2618）。如果给出了完整的路径，在1.16 <code>--latex-engine</code>会引发一个错误。</p></li>
<li><p>组织读者：修正功能删除子树标签<code>:noexport</code> （阿尔伯特Krewinkel，＃2628）：</p></li>
<li><p>Markdown阅读器：如果表格列宽度超过100％，则重新规格化（＃2626）。</p></li>
<li><p>纺织品阅读器：不允许在内联上下文中阻止HTML标签。读者以前确实允许这个，愉快地解析的红布</p>
<pre><code>Html块也可以是&lt;div&gt;内联&lt;/ div&gt;。</code></pre>
<p>如</p>
<pre><code>HTML块也可以是&lt;div&gt;内联&lt;/ div&gt;。&lt;/ p&gt;</code></pre>
<p>这是无效的HTML。上面的示例现在生成;</p>
<pre><code>Html模块也可以内嵌&lt;/ p&gt; &lt;/ div&gt; &lt;p&gt;。&lt;/ p&gt;</code></pre></li>
<li><p>改进了自定义lua脚本的默认模板查找（＃2625）。以前，如果您尝试执行<code>pandoc -s -t /path/to/lua/script.lua</code> ，则pandoc将在<code>~/.pandoc/templates/default./path/to/lua/script.lua</code> 。有了这个改变，它会看起来更合理<code>~/.pandoc/templates/default.script.lua</code> 。这使得为​​自定义编写者存储默认模板成为可能。</p></li>
<li><p>RST，Markdown作者：修复了带有空行的网格表格的渲染（＃2615）。</p></li>
<li><p>乳胶作家：恢复跨度的旧治疗（＃2624）。一个跨度现在用周围的<code>{}</code>呈现，就像在1.16之前一样。</p></li>
<li><p>实体处理修复：改进了像<code>&amp;lang;</code>这样的实体的处理<code>&amp;lang;</code>这需要一个尾随分号。允许数字十六进制字符引用中的大写字母<code>x</code> ，解决tagsoup错误。</p></li>
<li><p><code>stack.yaml</code> - 使用<code>stack.yaml</code> -4.0，但与较旧的<code>stack.yaml</code> ，以避免编译过多的内存使用。随着aeson 0.10我们得到了一个2GB的Ubuntu 64位虚拟机内存不足错误。</p></li>
<li><p>改进的deb包创建脚本。使<code>DPKGVER</code>工作。将<code>COMMIT</code>重命名为<code>TREE</code> 。你现在应该可以做<code>TREE=1.16.0.1 DPKGVER=2 make deb</code> 。</p></li>
</ul>
<h1 id="pandoc-1.16-02-jan-2016">pandoc 1.16（2016年1月2日）</h1>
<ul>
<li><p>将<code>Link</code>和<code>Image</code>添加到<code>Attr</code>字段（Mauro Bieg，＃261，API更改）。</p>
<ul>
<li>链接和图像属性添加到pandoc的Markdown的语法。</li>
<li>更新的读者和作者适当时使用链接和图像属性。</li>
<li>支持Docx，Textile，RST阅读器中的图像属性。</li>
</ul></li>
<li><p>重命名的链接属性扩展。旧的<code>link_attributes</code>现在是<code>mmd_link_attributes</code> ， <code>link_attributes</code>现在启用新的pandoc样式链接和图像属性（API更改）。注意：这个改变可能会破坏一些现有的工作流程。</p></li>
<li><p>实现了<code>SoftBreak</code>和新的 - <code>--wrap</code>选项（＃1701，API更改）。增加了三折包装选项。</p>
<ul>
<li>命令行选项：不推荐使用<code>--no-wrap</code> ，添加<code>--wrap=[auto|none|preserve]</code></li>
<li>添加了从<code>Text.导出的<code>WrapOption</code> <code>Text.Pandoc。选项</code></li>
<li>将<code>writerWrapText</code>中的<code>WriterOptions</code>类型从<code>Bool</code>更改为<code>WrapOption</code> 。</li>
<li>修改<code>Text.Pandoc。Shared</code>功能，以允许<code>SoftBreak</code> 。</li>
<li>支持读者和作者的<code>SoftBreak</code> 。</li>
</ul></li>
<li><p>Text.Pandoc。选项：添加<code>writerDpi</code>到<code>WriterOptions</code> （API更改，Mauro Bieg）。</p></li>
<li><p>增加了<code>--dpi</code>命令行选项（Mauro Bieg）。</p></li>
<li><p>合理的行为<code>--no-tex-ligatures</code>和 - <code>--smart</code> （＃2541）。这一改变使得<code>--no-tex-ligatures</code>影响了LaTeX阅读器以及LaTeX和ConTeXt作者。如果使用，LaTeX阅读器将解析字符<code>`</code> ， <code>'</code>和<code>-</code>字面，而不是解析用于引号和破折号的连字。而LaTeX编写器将从字面上打印unicode引号和破折号字符，而不是将它们转换为标准的ASCII连字符。请注意 - <code>--smart</code>对LaTeX阅读器没有影响。 <code>--smart</code>当LaTeX或ConTeXt是输出格式时， <code>--smart</code>仍然是所有输入格式的默认值， <em>除非使用</em> <code>--no-tex-ligatures</code> 。</p>
<p>举例说明逻辑：</p>
<pre><code>％回声“嗨”“| pandoc -t latex`嗨'％echo''嗨'“| pandoc -t latex --no-tex-ligatures'hi'％echo“'hi'”| | pandoc -t latex --no-tex-ligatures --smart'hi'％echo“'hi'”| | pandoc -f latex --no-tex-ligatures &lt;p&gt;'hi'&lt;/ p&gt;％echo“'hi'”| pandoc -f latex &lt;p&gt;'hi'&lt;/ p&gt;</code></pre></li>
<li><p>删除了不推荐使用的选项<code>--offline</code>和<code>--html5</code> 。</p></li>
<li><p>修正了捷克语（ <code>cs</code> not <code>cz</code> ）的语言代码（＃2597）。</p></li>
<li><p>实施<code>east_asian_line_breaks</code>扩展（＃2586）。在<code>Text.Pandoc。Options</code> ，将<code>Ext_east_asian_line_breaks</code>构造函数添加到<code>Extension</code> （API更改）。这个扩展就像<code>ignore_line_breaks</code> ，但是更聪明 - 它只忽略了两个东亚宽字符之间的换行符。这使得它更适合用东亚和非东亚文字混合写作。</p></li>
<li><p>通过<code>wkhtmltopdf</code>添加了对PDF创建的支持。要使用这个： <code>pandoc -t html5 -o result.pdf</code> （如果你有数学，加上<code>--mathjax</code> ）可以使用变量<code>margin-top</code> ， <code>margin-bottom</code> ， <code>margin-left</code> ， <code>margin-right</code>来设置边距。其他样式可以通过CSS完成。</p></li>
<li><p>修正了引用键解析回归（jgm / pandoc-citeproc＃201）。我们正在捕捉最后的冒号，如<code>[@foo: bar]</code> ;引用ID被解析为<code>@foo:</code></p></li>
<li><p>ICML作家：</p>
<ul>
<li>修复了本地文件的图像语法（＃2589）。</li>
<li><code>writeICML</code> （Mauro Bieg）的改变类型。API更改：现在是<code>WriterOptions -&gt; Pandoc -&gt; IO String</code> 。还处理新的图像属性。</li>
<li>Intersperse换行而不是将它们附加到每个<code>ParagraphStyleRange</code> （Mauro Bieg，＃2501）。</li>
<li><code>Cite</code>引文（Mauro Bieg）。</li>
<li>增加了图形处理（＃2590，Mauro Bieg）。</li>
<li>更好地处理数学。我们现在试着用unicode字符来伪造它，而不是仅仅打印原始的tex。</li>
</ul></li>
<li><p>HTML编写器：包含<code>example</code>列表的<code>example</code>类（＃2524）。</p></li>
<li><p>ODT / OpenDocument作者：改进的图像属性（Mauro Bieg）。</p>
<ul>
<li>支持百分比宽度/高度</li>
<li>使用<code>Attr</code>而不是标题来从ODT walker获取维度以<code>writeOpenDocument</code> 。</li>
</ul></li>
<li><p>AsciiDoc作家：</p>
<ul>
<li>使用id元素支持跨度和div的锚（jgm / pandoc-citeproc＃143）。</li>
<li>固定代码块（＃1861）。</li>
</ul></li>
<li><p>鳕鱼作家：省略链接内部的格式，这是不支持的哈多克（＃2515）。</p></li>
<li><p>MediaWiki writer：固定表格单元格中的间距问题。</p>
<ul>
<li>除非它是一个Para或Plain（＃2606），否则在新行上启动单元格。</li>
<li>对于单个Para或Plain，在<code>|</code>之后插入一个空格当文本以像（ <code>-</code> ）＃2604这样的字符开始时，避免出现问题。</li>
</ul></li>
<li><p>Beamer作者：当它包含逐字（＃1613）标记框架是脆弱的。</p></li>
<li><p>乳胶作家：</p>
<ul>
<li>使用列表添加对GAP突出显示的支持（Raniere Silva）。</li>
<li>在确定是否使用csquotes时，请考虑<code>header-includes</code>内容以及模板（AndreasLööw）。</li>
<li>创建使用几何默认<code>margin-left</code>等，如果<code>geometry</code>没有价值，但<code>margin-left</code> ， <code>margin-right</code> ， <code>margin-top</code> ，和/或<code>-margin-bottom</code>中给出的默认值<code>geometry</code>从这些创建。请注意，这些变量已经通过<code>wkhtmltopdf</code>通过HTML5影响PDF生成。</li>
</ul></li>
<li><p>ConTeXt编写器：根据<code>margin-left</code>等设置默认布局。如果没有给出布局，则根据变量<code>margin-left</code> ， <code>margin-right</code> ， <code>margin-bottom</code>和<code>margin-top</code>设置<code>\setuplayout</code> 。</p></li>
<li><p>Docx作家：更好地处理PDF图像。以前，我们试图从图像中获取图像大小，即使指定了明确的大小。由于我们仍然无法获得PDF的图像大小，因此无法在docx中使用PDF图像。现在我们不试图在已经明确指定大小的情况下获取图像大小。</p></li>
<li><p>Markdown <code>link_attributes</code>当<code>link_attributes</code>扩展<code>raw_html</code>设置并且<code>raw_html</code>被设置（＃2554）时，使用原始HTML作为链接/图像属性。</p></li>
<li><p>MediaWiki reader：解释<code>&lt;tt&gt;</code> ， <code>&lt;code&gt;</code> （＃2607）中的标记。</p></li>
<li><p>乳胶读者：</p>
<ul>
<li>改进的智能报价解析（＃2555）。这修复了无匹配的引号的重写。</li>
<li>使用不匹配的卷积引号（＃2555）。</li>
<li>允许在命令的加载参数之间留出空格（＃2592）。</li>
</ul></li>
<li><p>降价阅读器：</p>
<ul>
<li>改进的管道表相对宽度。以前的管道表列有相对宽度（基于头部下划线），当其中一个行的源宽度大于列宽度。在某些情况下，行的大部分宽度都是由非印刷材料（例如链接网址）造成的，因此效果不佳。现在，pandoc仅查看可打印的宽度（源的纯字符串版本的宽度），这应该会给出更好的结果。感谢John Muccigrosso提出这个问题。</li>
<li>修复了宏的解析错误。以前，缩进代码块中的宏定义被解析为宏定义，而不是代码。</li>
</ul></li>
<li><p>织物阅读器：跳过图像源中的属性（＃2515）。我们还没有图像样式或尺寸的位置，但我们可以跳过这些属性，而不是错误地将它们作为文件名的一部分。</p></li>
<li><p>Docx读者：处理虚拟列表项（Jesse Rosenthal）。当人们创建一个列表项目，然后删除项目符号时，就会出现这些问题。它不涉及任何真正的列表项目，我们曾经忽略它。</p></li>
<li><p>CommonMark读写器重写为使用最新的<code>cmark</code> 。</p></li>
<li><p>修复了Emoji字符定义（＃2523）。定义中有很多错误。</p></li>
<li><p><code>Text.Pandoc。CSS3</p>
<ul>
<li>增加了<code>pickStylesToKVs</code>函数来一次提取多个属性（API更改，Mauro Bieg）。</li>
<li>解析不包含可选分号（Mauro Bieg）的CSS。</li>
</ul></li>
<li><p><code>trypandoc</code> ：排序下拉列表。</p></li>
<li><p>Beamer模板：</p>
<ul>
<li>由于角色的存在而产生<code>\euro</code> 。为xelatex和lualatex，因为它是pdflatex（安德鲁·邓宁）。</li>
<li>在标题设置（Thomas Hodgson）之前移动<code>header-includes</code> ，以匹配LaTeX模板（jgm / pandoc-templates＃168）。</li>
<li>添加<code>section-titles</code>变量（默认为true），以启用/抑制投影机幻灯片（Thomas Hodgson）中的节标题页面。</li>
<li>在字体之后移动投影机主题，以便主题可以更改字体。（以前，字体设置被lmodern.sty破坏了。）（托马斯·霍奇森）。</li>
</ul></li>
<li>Beamer / LaTeX模板变化（Thomas Hodgson）：<ul>
<li>添加了<code>thanks</code>变量</li>
<li>使用<code>parskip.sty</code>当<code>indent</code>未设置（回落到使用<code>setlength</code>像以前一样，如果<code>parskip.sty</code>不可用）。</li>
<li>与biblatex使用<code>biblio-style</code> 。</li>
<li>增加了<code>biblatexoptions</code>变量。</li>
</ul></li>
<li><p>乳胶模板更改：</p>
<ul>
<li>在latex模板中的<code>$papersize$</code>变量之后添加<code>paper</code> 。因此，你可以说<code>papersize: a4</code>和乳胶将包含<code>a4paper</code> 。这种改变可能会破坏一些现有的工作流程如果你现在指定<code>a4paper</code> ，你会得到<code>a4paperpaper</code>没有意义的<code>a4paperpaper</code> 。然而，这个改变似乎是值得的，因为它将使<code>papersize</code>变量在ConTeXt，LaTeX和html-&gt; pdf之间通过wkhtmltopdf一致地工作。</li>
<li>如果设置了<code>colorlinks</code>只传递选项给颜色包（Andrew Dunning）。</li>
<li>在xelatex / lualatex中定义<code>\euro</code>有条件，因为它已经是pdflatex（Andrew Dunning）。</li>
<li>删除了PDF元数据中<code>subject</code>设置。这曾经被设置为副标题，但实际上副标题不需要给主题。此外， <code>subtitle</code>可以包含格式，所以我们至少需要一个纯文本版本。</li>
<li>在<code>\title</code> ， <code>\author</code>等设置之前移动<code>header-includes</code> 。这允许这些宏被重新定义。</li>
<li>使用<code>\subtitle</code>命令作为<code>subtitle</code> ，而不是像之前一样将它粘贴到标题上。如果没有定义，我们给出一个无操作回退定义。这个改变应该在支持<code>\subtitle</code>类中产生更好的结果。使用缺省文章类（不定义<code>\subtitle</code> ，除非用户定义<code>\subtitle</code>并重新定义<code>\maketitle</code>否则不会再打印<code>\subtitle</code> 。</li>
<li>将<code>\paragraph</code>和<code>\subparagraph</code> subparagraph的重新定义移动到header-includes之前。</li>
</ul></li>
<li><p>上下文模板：</p>
<ul>
<li>使用<code>simplefonts</code>字体进行字体加载（ <code>simplefonts</code> ）。从TeXLive 2015开始对ConTeXt稳定工作是非常必要的。</li>
<li>在标题<code>\setuphead</code>使用<code>\setuphead</code> （Andrew Dunning，Rik Kabel）。</li>
</ul></li>
<li><p>更新LaTeX / ConTeXt链接颜色使用（Andrew Dunning）。</p></li>
<li><p>固定的人模板，所以禁用连字符实际上工作。该命令需要后来。t/h</p></li>
<li><p>添加“导航”变量beamer模板（＃2543）。有效值为<code>empty</code> （默认值）， <code>horizontal</code> ， <code>vertical</code>和<code>frame</code> 。请注意，这将默认行为从<code>horizontal</code>更改为<code>empty</code> 。关闭%s</p></li>
<li><p>添加了<code>toc</code>以HTML格式的幻灯片模板（安德鲁·邓宁），使<code>--toc</code>创建内容滑动。</p></li>
<li><p>增加了<code>stack.full.yaml</code>来构建<code>pandoc-citeproc</code> 。</p></li>
<li><p>允许不包含主体行的管道表（＃2556）。以前这提出了一个运行时错误。</p></li>
<li><p>共享：改进<code>fetchItem</code>使<code>C:/Blah/Blah.jpg</code>不被视为URL。 Haskell URI解析例程将接受“C：”作为方案，所以我们手工排除。这有助于<code>--self-contained</code>和绝对的Windows路径。</p></li>
<li><p>为所有作者定义一个<code>meta-json</code>变量（＃2019）。这包含所有元数据的JSON版本，采用为作者选择的格式。所以，举个例子，为了得到YAML元数据，你可以用下面的自定义模板运行pandoc： <code>$meta-json$</code> 。目的是使静态站点生成器和其他工具更容易获取元数据。</p></li>
<li><p>自我包含的文档限制（＃2553）。</p></li>
<li><p>改进了自述文件（＃2551）的引文部分。添加了有关<code>link-citations</code>和pandoc-citeproc手册页链接的信息。</p></li>
<li><p><code>ImageSize</code> ：使用<code>safeRead</code>而不是<code>readMaybe</code> ，它不在&lt;4.6的范围内。</p></li>
<li><p>允许AsciiDoc（Andrew Dunning）的.adoc文件扩展名。</p></li>
<li><p>改进的隐式pandoc-citeproc包含。当过滤器pandoc-citeproc自动使用<code>--bibliography</code>除非在命令行上被指定时， <code>--natbib</code>或<code>--biblatex</code>被使用。然而，以前这只有在 - <code>--bibliography</code>完整拼写的情况下才有效，而不是如果使用了<code>--biblio</code> 。</p></li>
<li><p>reveal.js：正确解释所有标头的暂停（＃2530）。以前，当在幻灯片级别下使用标题时，暂停将被解释为暂停。在我看来，意想不到的行为只是有意识地看着代码。</p></li>
<li><p>移除reveal.js（Andrew Dunning）的冗余<code>center</code>变量。</p></li>
<li><p>解析：添加<code>extractIdClass</code> ，修改类型的<code>KeyTable</code> （Mauro Bieg，API更改）。</p></li>
<li><p>ImageSize：添加了用于在图像尺寸之间转换的功能（Mauro Bieg）。</p></li>
<li><p>在stack.yaml中使用lts-3.18。这可以避免与HTTP库的Windows生成问题。</p></li>
<li><p>凹凸版本依赖关系。</p></li>
</ul>
<h1 id="pandoc-1.15.2.1-16-nov-2015">pandoc 1.15.2.1（2015年11月16日）</h1>
<ul>
<li><p>将两个缺少的测试文件<code>stack.yaml</code>添加到<code>extra-source-files</code>以便将它们包含在源代码压缩包中。</p></li>
<li><p>reveal.js模板：修复了parallaxBackground选项。 <code>parallaxBackgroundHorizontal</code>和<code>parallaxBackgroundVertical</code>需要整数值，而不是字符串。（Vaughn Iverson）</p></li>
</ul>
<h1 id="pandoc-1.15.2-15-nov-2015">pandoc 1.15.2（2015年11月15日）</h1>
<ul>
<li><p><code>pandoc my.md -t context -o my.pdf</code>现在将使用ConTeXt而不是LaTeX（＃2463）创建一个PDF。</p></li>
<li><p>修正了CSS data-uri中被省略的<code>url(...)</code>和<code>--self-contained</code> （＃2489）。</p></li>
<li><p>添加了<code>emoji</code> Markdown扩展，默认在<code>markdown_github</code>启用（＃2523）。在<code>Text.添加<code>Ext_emoji</code> <code>Extension</code> <code>Text.Pandoc。Options</code> （API更改）。</p></li>
<li><p><code>Text.Pandoc。阅读器，HTML.parseTags</code> ：修复了过度渴望的原始HTML内联分析（＃2469）。收紧内联的HTML解析器，使其不允许TagWarnings。</p></li>
<li><p>为<code>Text.的类型派生<code>Generic</code>实例<code>Text.Pandoc。选项）</p></li>
<li><p>组织读者：</p>
<ul>
<li>修复段落/列表的交互（Albert Krewinkel，＃2464）。即使两个块之间没有空白行，段落也可以跟着列表。但是，如果段落不在列表中，则应该只有这样，如果前面的块应该被解析为纯文本而不是段落（以允许紧凑列表）。感谢<span class="citation" data-cites="rgaiacs">@rgaiacs</span>提出这个问题。</li>
<li>允许切换标题参数（Albert Krewinkel，＃2269）。组织模式允许跳过代码块头参数的参数，如果它正在切换一个值。现在可以识别无参数的头文件，避免了奇怪的解析错误。</li>
<li>修正标题中的标记解析（Albert Krewinkel，＃2504）。标记作为标题中的第一项不被识别。这是由不正确的解析器状态引起的：内联标记可以开始的位置需要通过改变解析器状态来显式标记。这不是为标题完成的。现在在头解析器的开头调用了更新状态的正确函数，解决了这个问题。</li>
<li>修正智能解析的重点规则（Albert Krewinkel，＃2513）。智能引号，省略号和破折号的行为应该像普通引号，单破折号和点对文本标记解析。</li>
<li>定义列表标记周围需要空格（＃2518）。这个规则之前没有被检查，导致有脚注和一些链接类型的错误。</li>
</ul></li>
<li><p>降价阅读器：</p>
<ul>
<li>长线管道表现在获得相对单元格宽度（＃2471）。如果管道表包含比列宽度更长的行（由<code>--columns</code>或默认值80设置），则根据分隔线相对于列宽的宽度计算相对宽度。这应该解决LaTeX / PDF输出中的长管道表存在的持久性问题，并且为确定其他格式的相关列宽也提供了更大的灵活性。对于较窄的管道表，使用0的列宽，告诉pandoc不要在输出格式中明确指定宽度。</li>
<li>改进了<code>mmd_title_block</code>解析器。我们现在允许空白元数据字段。这些在之前被明确禁止。</li>
<li>引用键现在可以包含<code>://</code> ，所以URL和DOI可以用作引用键（jgm / pandoc-citeproc＃166）。</li>
</ul></li>
<li><p>Beamer模板：用natbib修复部分幻灯片的不兼容性。Natbib（可能是biblatex）书目命令创建自己的部分。由于这些是在框架环境中，所以我们与<code>\AtBeginSection</code>宏不兼容，它会在发生新节时创建一个特殊的框架。（我们不能在另一个框架内有一个框架。）此更改将禁用参考书目幻灯片中的<code>\AtBeginSection</code> 。谢谢谢先生提出这个问题。这取代＃145。在这里看到讨论。</p></li>
<li><p>纺织品阅读器：除非明确询问（＃2480），否则不要做巧妙的标点符号。请注意，尽管智能标点是纺织品规格的一部分，但从纺织品转换到Markdown时并不总是要求。所以这个选项似乎更好。</p></li>
<li><p>LaTeX阅读器：处理<code>comment</code>环境（Arata Mizuki）。<code>comment</code>环境的处理方式与<code>verbatim</code>环境类似，不同之处在于其内容被丢弃。</p></li>
<li><p>Docx阅读器：正确地关注脚/尾注（＃2258，Jesse Rosenthal）。这解决了笔记中的链接问题。</p></li>
<li><p>LaTeX和ConTeXt作家：支持div和跨度的<code>lang</code>属性（mb21）。对于LaTeX，还可以在跨度和div上收集<code>lang</code>和<code>dir</code>属性，以便设置<code>lang</code> ， <code>otherlangs</code>和<code>dir</code>变量（如果尚未设置）。（参见9.3。）</p></li>
<li><p>乳胶作家：</p>
<ul>
<li>使用适当的命令<code>\textarabic</code> （mb21）。</li>
<li>添加<code>de-CH-1901</code> ，固定<code>el-polyton</code>在<code>toPloyglossia</code> （Nick Bart）。</li>
<li>使用<code>\hypertarget</code>和<code>\hyperlink</code>作为链接。这适用于链接到Div或Span元素。我们现在不打扰定义Div或Span元素的<code>\label</code> 。关闭jgm / pandoc-citeproc＃174。</li>
<li>在图表列表中避免脚注（＃1506）。</li>
<li>正确处理字幕中的脚注（＃1506）。</li>
<li>添加<code>\protect</code>到<code>\hyperlink</code> （＃2490）。感谢Hadrien Mary。</li>
<li>设置<code>colorlinks</code>如果<code>linkcolor</code> ， <code>urlcolor</code> ， <code>citecolor</code> ，或<code>toccolor</code>设定（＃2508）。</li>
</ul></li>
<li><p>纺织作家：支持有序列表中的起始编号（＃2465）。</p></li>
<li><p>OpenDocument作家：允许定制opendocument自动样式。自动样式现在可以插入到模板中，该模板现在提供封闭的<code>&lt;office:automatic-styles&gt;</code>标签（＃2520）。</p></li>
<li><p>Docx writer：在脚注引用和注释（＃2527）之间插入空格。这匹配Word的默认行为。</p></li>
<li><p>EPUB编辑器：当<code>data-external</code>属性设置（＃2473）时，不要下载链接的媒体。默认情况下，pandoc会下载所有链接的媒体并将其包含在EPUB容器中。这可以通过在链接到不应下载的媒体的标签上设置<code>data-external</code>来禁用。示例：</p>
<pre><code>&lt;audio controls =“1”&gt; &lt;source src =“http://www.sixbarsjail.it/tmp/bach_toccata.mp3”type =“audio / mpeg”&gt; &lt;/ source&gt; &lt;/ audio&gt;</code></pre></li>
<li><p>HTML编写器：如果列宽等于&lt;100％，则在整个表上使用宽度。否则，某些浏览器将显示分隔很远的列表。</p></li>
<li><p>AsciiDoc模板：修复<code>author</code>和<code>date</code> ;添加<code>keywords</code> ， <code>abstract</code> （Andrew Dunning）。</p></li>
<li><p>基于HTML的模板（Andrew Dunning）：</p>
<ul>
<li>在标题前缀和标题之间使用连字符而不是连字符。</li>
<li>添加<code>keywords</code>到元数据。</li>
<li>添加<code>lang</code> ， <code>dir</code> ， <code>quotes</code>失踪。</li>
<li>始终使作者和日期显示条件。</li>
<li>从源更新dzslides模板。</li>
</ul></li>
<li><p>Man模板：使“由...生成”注释有条件。</p></li>
<li><p>LaTeX，Beamer模板：</p>
<ul>
<li>添加语言divs / <code>babel-otherlangs</code> ; <code>babel-newcommands</code> ，由使babel理解polyglossia式语言指令（mb21，＃137）的命令填充。</li>
<li>改进了条件的格式;总是提供<code>$for$</code> ）来允许多个选项（Andrew Dunning，＃141）。</li>
<li>使用<code>Ligatures=TeX</code>而不是<code>Mapping=tex-text</code>与<code>fontspec</code>来改进对LuaTeX的支持（Andrew Dunning，＃135）。</li>
<li>修改<code>hyperref</code>使用（Andrew Dunning，＃139，＃141）：<ul>
<li>所有LaTeX引擎使用相同的选项;</li>
<li>为PDF元数据添加<code>subtitle</code>和<code>keywords</code> ;</li>
<li>不重写<code>hyperref</code>链路着色而无需用户输入，有效地使<code>hidelinks</code>选项的默认（作为一个单独的可变移除）;</li>
<li>可以使用新的<code>colorlinks</code>变量启用链接颜色（使用旧的默认的稍暗的版本），当指定自定义颜色时，由LaTeX书写器自动使用;</li>
<li><code>pdfborder={0 0 0}</code>被自动设置由<code>hyperref</code>与<code>colorlinks</code> ，并且如果仅应用于<code>colorlinks</code>被禁用。</li>
</ul></li>
</ul></li>
<li><p>ConTeXt模板（Andrew Dunning）：</p>
<ul>
<li>控制样式的新变量： <code>linkstyle</code> ， <code>linkcolor</code> ， <code>linkcontrastcolor</code> ， <code>layout</code> ， <code>pagenumbering</code> ， <code>whitespace</code> ， <code>indenting</code> ， <code>interlinespace</code> ， <code>headertext</code> ， <code>footertext</code> ， <code>mainfont</code> ， <code>sansfont</code> ， <code>monofont</code> ， <code>mathfont</code> ， <code>fontsize</code> 。</li>
<li>默认模板不再支持MkII。</li>
<li>改进标题栏的写入（抑制首页的编号）。</li>
<li>将<code>title</code> <code>subtitle</code> ， <code>author</code> ， <code>date</code> ， <code>keywords</code>到PDF元数据中。</li>
<li>支持<code>subtitle</code> ， <code>abstract</code> 。</li>
<li>支持数字列表（ <code>lof</code> ），列表（ <code>lot</code> ）。</li>
<li>禁用链接样式默认情况下。</li>
<li>为所有节类型定义样式。</li>
<li>启用微型。</li>
<li>改进了条件的格式。</li>
</ul></li>
<li><p>Beamer模板：添加代码以防止段落内滑动（＃2422，感谢Nick Bart）。实际上，只有在使用<code>allowframebreaks</code>时， <code>allowframebreaks</code>是重要的。这对书目幻灯片特别有用。</p></li>
<li><p>OpenDocument模板：在自动样式周围添加<code>&lt;office:automatic-styles&gt;</code>标签。作者现在提供了更长的时间（见＃2520）。</p></li>
<li><p>恢复的文本。Pandoc。{0}{1}compat{/1}{/0} :独异。</p></li>
<li><p>不要从自定义Prelude中导出（&lt;&gt;）。Prelude现在匹配基础4.8 Prelude的API。</p></li>
<li><p>不要使用ghc 7.10的自定义前奏。只使用早期版本的自定义前奏。这个变化使<code>stack ghci</code>和<code>cabal repl</code>工作（＃2503），至少用ghc 7.10。</p></li>
<li><p>在Odt中将运算符中的§更改为％。ArrowsUtils.这可以防止用“C”语言环境构建haddocks的问题。</p></li>
<li><p>将旧区域标志的默认值更改为False。</p></li>
<li><p>在deb，osx和Windows包生成器中使用堆栈。</p></li>
<li><p>在vm中添加了vagrantfile来构建deb。这应该有助于自动化二进制包的创建。 “打包”会打包。 'make package COMMIT = blah'将使得程序包无法提交。</p></li>
<li><p>{0}{/0}
						请看这里
					</p>
<ul>
<li>为pandoc和Markdown保持一致的大写。</li>
<li>固定<code>auto_identifiers</code>例子（贝努瓦Schweblin）。</li>
<li>改进了模板变量的文档（Andrew Dunning）。</li>
</ul></li>
</ul>
<h1 id="pandoc-1.15.1-15-oct-2015">pandoc 1.15.1（2015年10月15日）</h1>
<ul>
<li><p>现在在<code>Text.定义了<code>pandocVersion</code> <code>Text.Pandoc。从<code>Text. Shared</code>和重新导出<code>Text.Pandoc</code> （Alex Vong）这允许作家访问它。（Alex Vong）（API变更）</p></li>
<li><p>对于<code>markdown_mmd</code> ，添加： <code>implicit_figures</code> ， <code>superscripts</code> ， <code>subscripts</code> （＃2401）。</p></li>
<li><p>增加了<code>odt</code>作为输入格式（MarLinn）。增加了新的模块<code>Text.Pandoc。阅读器ODT</code> （API更改）。完全实现的功能：段落，标题，基本样式，无序列表，有序列表，外部链接，内部链接，脚注，尾注，块引用。部分实施的功能：引文，表格。</p></li>
<li><p>降价阅读器：</p>
<ul>
<li>为每个标题样式添加基本测试（Ophir Lifshitz）。</li>
<li>为包含空格的标题添加隐式标题引用测试（Ophir Lifshitz）。</li>
<li>跳过标题中的空格（Ophir Lifshitz）。</li>
<li>在解析键/值属性时处理“id”和“class”（＃2396）。<code># Header {id="myid" class="foo bar"}</code>现在等同于<code># Header {#myid .foo .bar}</code> 。</li>
<li>在markdown + lhs中为atx风格的标头使用'='而不是'＃'。（克里斯托夫巴斯蒂安森）</li>
<li>管道表格：允许缩进列。以前，左侧列不能以4个或更多空格缩进开始。这对于右对齐的左列是不方便的。请注意，第一个（标题列）仍然必须有3个或更少的空格缩进，否则该表将被视为缩进的代码块。</li>
<li>修复回归：允许包含<code>--</code> HTML注释。从技术上讲，这是不允许的HTML注释，但我们一直允许它，其他大多数实现也是如此。如果你想把命令行参数放在HTML注释中，这很方便。</li>
</ul></li>
<li><p>乳胶读者：</p>
<ul>
<li>不要在只有可选参数的宏之后使用多余的空格（＃2446）。</li>
<li>支持longtable（＃2411）。</li>
<li>实施<code>\Cite</code> （＃2335）。</li>
<li>支持抽象的环境。摘要填充<code>abstract</code>元数据字段。</li>
<li>妥善处理书签线。行不是pandoc表模型的一部分，所以我们忽略它们（＃2307）。</li>
</ul></li>
<li><p>HTML阅读器：</p>
<ul>
<li>处理ol的类型属性，例如<code>&lt;ol type="i"&gt;</code> （＃2313）。</li>
<li>更新了新的自动标题属性。</li>
<li>如果标题中不存在，则添加自动标识符。这使TOC链接正常工作。</li>
<li>用<code>pickStyleAttrProps</code> （Ophir Lifshitz）检测<code>font-variant</code> 。</li>
<li>测试<code>&lt;ol&gt;</code> type，class和inline list-style（-type）CSS（Ophir Lifshitz）。</li>
<li>更好地处理“节”元素（＃2438）。之前的<code>&lt;section&gt;</code>标签刚刚被解析为原始HTML块。通过这个改变，section元素被解析为div元素，类为“section”。</li>
</ul></li>
<li><p>MediaWiki reader：处理未加引号的表格属性（＃2355）。</p></li>
<li><p>DocBook阅读器：</p>
<ul>
<li>增加了对DocBook <code>xref</code>元素（Frerich Raabe）的适当支持。添加<code>dbContent</code>字段到阅读器状态，所以我们可以查找交叉引用。</li>
<li>处理信息<code>informalexample</code> （＃2319）。</li>
</ul></li>
<li><p>Docx阅读器：</p>
<ul>
<li>创建特殊的标点符号测试（Ophir Lifshitz）。</li>
<li>解析柔和的，不断折断的元素（Ophir Lifshitz）。</li>
<li>更新头文件测试（Ophir Lifshitz）。替换<code>styles.xml</code>在<code>headers.docx</code>与pandoc目前<code>styles.xml</code> ，其中包含通过6标题1样式。将标题4到7添加到测试文档中。请注意标题7不被解析为一个标题，因为没有标题7样式。</li>
</ul></li>
<li><p>RST阅读器：更好地处理间接角色。以前解析器在这种情况下失败</p>
<pre><code>.. role :: indirect（code）.. role :: py（间接）：language：python：py：`hi`</code></pre>
<p>现在它正确地认识到<code>:py:</code>作为一个代码角色。</p></li>
<li><p>组织读者：</p>
<ul>
<li>添加自动标识符，如果没有出现在标题（＃2354，朱利叶斯Gonera）。</li>
<li>允许诗句块包含空行（＃2402，阿尔伯特Krewinkel）。</li>
</ul></li>
<li><p>EPUB阅读器：停止修改外部网址（＃2284）。</p></li>
<li><p>RST作家：</p>
<ul>
<li>不要在匹配对中复杂表达式时插入<code>\</code>例如<code>[:sup:`3`]</code>可以;你不需要<code>[:sup:`3`\ ]</code> 。</li>
<li>确保在以“complex”元素（jgm / pandoc-citeproc＃157）开头的Cite和Span元素之前插入<code>\</code> 。</li>
<li>只在“独立”模式（＃2394）中标准化标题。</li>
</ul></li>
<li><p>鳕鱼作家：逃脱<code>*</code>和<code>^</code> （G.巴塔耶）。</p></li>
<li><p>减价作家：</p>
<ul>
<li>在目录中，添加链接到标题（＃829）。</li>
<li>在普通输出中使用unicode super / subscripts（当<code>superscripts</code>和<code>subscripts</code>扩展未启用时）。</li>
</ul></li>
<li><p>Docx作家：</p>
<ul>
<li>将无效字符剥离移至<code>formattedString</code> 。这避免了无效的通用遍历（＃2356）。</li>
<li>使用用户数据目录作为<code>reference.docx</code>存档。这允许测试套件在不安装pandoc的情况下工作。它也使docx作家符合odt作家。</li>
<li>测试：docx <code>../data</code>测试现在使用<code>../data</code>作为数据目录。这使得测试可以在不安装的情况下运行。</li>
<li>测试：使用真正的JPG（非空）为docx测试，以避免警告。</li>
</ul></li>
<li><p>乳胶作家：</p>
<ul>
<li>修正了从模板中检测“章节”的问题。如果文档类没有在元数据中指定，但是模板具有硬连线的bookish文档类，就像使用了<code>--chapters</code> 。这是早期版本的默认设置，但已经被打破了一段时间。</li>
<li>正确识别元​​数据中的书籍文档类（＃2395）。</li>
<li>根据<code>lang</code>字段的值自动设置与语言相关的变量，该字段现在始终假定为BCP47格式（mb21，＃1614，＃2437）。</li>
<li><code>\hyperdef</code>联上下文中添加<code>\protect</code>到<code>\hyperdef</code> 。这样，当这个参数被用作可移动参数时，我们不会收到错误（＃2136）。</li>
<li>支持Beamer中的所有框架属性。</li>
<li>对URL中的更多特殊字符进行百分比编码（＃1640，＃2377）。特殊字符是''，'&gt;'，'|'，'''，'{'，'}'，'['，']'，'^'，'`'。</li>
</ul></li>
<li><p>HTML编写器：</p>
<ul>
<li>更新KaTeX JS和CSS版本（Emily Eisenberg）。</li>
<li>对于dzslides，为演讲者备注添加<code>role="note"</code> （＃1693）。</li>
<li>对URL中的更多特殊字符进行百分比编码（＃1640，＃2377）。特殊字符是''，'&gt;'，'|'，'''，'{'，'}'，'['，']'，'^'，'`'。</li>
<li>用HTML5中的<code>&lt;section&gt;</code> class <code>section</code>渲染出来。</li>
</ul></li>
<li><p>EPUB作家：</p>
<ul>
<li>在TOC，代替文字<code>&lt;br/&gt;</code>与空间（＃2105）。</li>
<li>使用<code>--webtex</code> ，包含图像文件而不是<code>data:</code> URI（＃2363）。</li>
</ul></li>
<li><p>本地作家：正确格式Div，块分离。</p></li>
<li><p>支持XeLaTeX，ConTeXt和HTML（＃2191，mb21）的双向文本输出。</p></li>
<li><p>参考Docx：</p>
<ul>
<li>添加缺少的标题6样式（钢蓝色）（Ophir Lifshitz）。</li>
<li>为Header样式更正<code>outlineLvl</code> （Ophir Lifshitz）。</li>
</ul></li>
<li><p>模板</p>
<ul>
<li>Beamer：添加<code>innertheme</code> ， <code>outertheme</code>变量（Guilhem Bonnefille，＃121）。图标题冒号后加空格。集成来自LaTeX模板的最新字体和语言更新;允许使用<code>mainfont</code>变量来更改XeTeX和LuaTeX中的幻灯片文本（Andrew Dunning，＃131）。</li>
<li>LaTeX：添加<code>mainfontoptions</code> ， <code>sansfontoptions</code> ， <code>monofontoptions</code> ， <code>mathfontoptions</code> ， <code>fontfamilyoptions</code> （Andrew Dunning，＃122）。支持处理双向文本（mb21，＃120）。提高XeTeX下标/下标的可靠性，并通过删除<code>realscripts</code>包（通过<code>xltxtra</code> ）来防止字母和数字出现在不同的基线上。要在XeTeX或LuaTeX下为这些特性恢复使用OpenType字符，请将<code>\usepackage{realscripts}</code>添加到<code>header-includes</code> （Andrew Dunning，＃130）。删除多余的引用<code>xunicode</code> （Andrew Dunning，＃130）。添加<code>fontenc</code> ， <code>indent</code> ，子<code>subparagraph</code>变量（Andrew Dunning）。允许使用的<code>hidelinks</code>可变<code>hyperref</code>包（雨果罗伊，＃113）。防止包装与<code>tufte-latex</code>和其他类别，包括<code>hyperref</code>或<code>color</code> （Xavier橄榄，＃115）冲突。</li>
<li>ConTeXt：支持处理双向文本（mb21，＃120）。</li>
<li>LaTeX和ConTeXt：使用更多特定的语言变量。我们现在不是直接使用<code>lang</code> ，而是使用<code>babel-lang</code>和<code>polyglossia-lang</code>和<code>context-lang</code> 。这些变量由编写者根据<code>lang</code>变量（现在总是采用BCP47格式的值）设置为必要的值。 （mb21，＃114，＃129）。</li>
<li>HTML：支持处理双向文本（mb21，＃120）。在CSS之后移动HTML5 shiv并修复URL（Andrew Dunning）。在html5中添加dir属性（Andrew Dunning）。</li>
<li>reveal.js：添加<code>controls</code> ， <code>progress</code>变量（GrégoirePineau，＃127）。添加<code>width</code> ， <code>height</code>变量（Anrew Dunning）。从3.1源（Andrew Dunning）更新模板。所有配置选项现在都可以作为变量使用，但只有在设置时才包含（否则，reveal.js将使用默认值）。</li>
<li>man：添加评论，说明页面是由pandoc自动生成的，给出版本。增加了<code>adjusting</code>和<code>hyphenate</code>变量（Alex Vong，＃123）。</li>
</ul></li>
<li><p>epub.css：添加了嵌套重点选择器（Pablo Rodriguez）。</p></li>
<li><p>MediaBag：确保<code>/</code>始终用作路径分隔符。</p></li>
<li><p><code>sample.lua</code> ：定义<code>CaptionedImage</code> ，在结尾处添加换行（＃2393）。</p></li>
<li><p>增加了<code>--bash-completion</code>选项。这会生成一个bash完成脚本。使用： <code>eval "$(pandoc --bash-completion)"</code> 。</p></li>
<li><p>Text.Pandoc。错误：为PandocError定义可键入和异常实例（＃2386）。</p></li>
<li><p>Text.Pandoc。解析： <code>toKey</code> ： <code>toKey</code>外括号。这使得钥匙在开始和结束时都有额外的空间：例如，</p>
<pre><code>[foo]：bar [foo]</code></pre>
<p>现在将成为一个链接吧（这不是之前）。</p></li>
<li><p>Text.Pandoc：禁用<code>auto_identifiers</code>为EPUB。epub写入器插入自己的自动标识符;由于分割成“章节”文件，这更复杂。</p></li>
<li><p>重命名文本。Pandoc。{0}{1}compat{/1}{/0} :区域设置 - &gt;文本。Pandoc。{0}{1}compat{/1}{/0} :时间现在它重新导出数据。看看时间</p></li>
<li><p>使用自定义序言来避免编译器警告。</p>
<ul>
<li>（非导出）前奏在前奏/ Prelude.hs。</li>
<li>它导出了Monoid和Applicative，就像4.8版本的前奏曲一样，但是可以和较老的版本一起使用。</li>
<li>它为mappend导出（&lt;&gt;）。</li>
<li>它隐藏了老版本的“catch”。</li>
</ul></li>
<li><p>添加了一个<code>stack.ymal</code>和堆栈安装说明到INSTALL。</p></li>
<li><p>澄清了README和CONTRIBUTING.md中的“超出范围”。</p></li>
<li><p>向CONTRIBUTING.md添加有关ghc版本和travis的注释。</p></li>
<li><p>澄清文档块引用。<code>&gt;</code>之后的空格是可选的（＃2346）。</p></li>
<li><p>删除了对default.csl的过时引用（＃2372）。</p></li>
<li><p>列出手册中的所有样式<code>--reference-docx</code> （Chris Black）</p></li>
<li><p>不要在手册页中大写标题链接。</p></li>
<li><p>添加了对CONTRIBUTING.md的repl部分。</p></li>
<li><p>自述文件：图像示例（＃2329）中的反斜杠之后添加了空格。</p></li>
<li><p>文档详细的引用定位条件（Nick Bart）。</p></li>
<li><p>修复了README（＃2309）中的一些内部链接。</p></li>
<li><p>在README中改进CSL文档，变量文档，链接和交叉引用。 （安德鲁·邓宁）</p></li>
<li><p>用<code>--flags=-https</code>修复构建失败（Sergei Trofimovich）。</p></li>
<li><p>在最近的<code>http-client</code>使用<code>newManager</code>而不是<code>withManager</code> 。这避免了弃用警告。</p></li>
<li><p>允许使用最新版本的http-type，HUnit，criterion，syb，aeson来构建。</p></li>
<li><p>更新的标准API的基准程序。</p></li>
<li><p>Setup.hs：改写为不使用进程，目录，文件路径。使用基地以外的任何东西都是危险的，因为老版本的ghc可能会链接到两个不同的版本。</p></li>
<li><p>添加appveyor（Windows持续集成）构建。</p></li>
<li><p>新的<code>.travis.yml</code> 。使用<code>make_travis_yml.hs</code> 。这个脚本有几种修改方法，例如添加<code>GHCOPTS</code> 。 <code>make .travis.yml</code>基于cabal文件的测试字段重新生成它。</p></li>
</ul>
<h1 id="pandoc-1.15.0.6-15-jul-2015">pandoc 1.15.0.6（2015年7月15日）</h1>
<ul>
<li><p><code>--self-contained</code> ：固定的过度CSS最小化（＃2301,2286）。以前， <code>--self-contained</code>消除了CSS中的所有空间，包括语义上的重要空间。这是1.14.x的回归。</p></li>
<li><p>Markdown阅读器：不允许在链接标签中使用裸链接或自动链接（＃2300）。增加了测试用例。</p></li>
<li><p><code>Text.Pandoc。Parsing</code> ， <code>uri</code> ：改进裸露的自动链接检测（＃2299）。以前我们不允许<code>-</code>在自动链接结束时，不允许组合<code>=-</code> 。这个提交放宽了在一个裸URI中允许标点符号的规则，并增加了测试用例。一个潜在的缺点是，你不能再像这样把一个裸露的URI放在一个破折号中： <code>this uri---http://example.com---is an example.</code> 但在这方面，我们现在匹配github对裸URI的处理。</p></li>
<li><p>HTML编写器：在dzslides中支持演讲者笔记。如果使用<code>-t dzslides</code>将会输出<code>&lt;div class="notes"&gt;</code>和<code>&lt;div class="notes" role="note"&gt;</code> 。所以我们也可以在dzslides中发表演讲。感谢maybegeek。</p></li>
<li><p>更新了dzslides模板。</p></li>
<li><p>改进了打印系统默认文件的选项的文档（＃2298）。 <code>--print-default-data-file</code>和<code>--print-default-template</code> 。</p></li>
<li><p>DokuWiki作家：使用<code>$..$</code>作为数学而不是<code>&lt;math&gt;..&lt;/math&gt;</code> （TizianoMüller）。MathJax似乎是DokuWiki唯一维护的数学渲染扩展。</p></li>
<li><p><code>Text.Pandoc。Shared</code> ：更改<code>hierarchicalize</code>以便将引用div视为顶级标头（＃2294）。这修正了<code>--section-divs</code>的错误，其中由pandoc-citeproc添加的最后的引用部分被封装在它自己的div中，嵌套在它之前部分的div中。</p></li>
<li><p>允许向量0.11。</p></li>
<li><p>要求cmark&gt; 0.4。</p></li>
</ul>
<h1 id="pandoc-1.15.0.5-10-jul-2015">pandoc 1.15.0.5（2015年7月10日）</h1>
<ul>
<li><p>HTML编写器：修复了与邮件<code>mailto:</code> URL（＃2280）的电子邮件JavaScript混淆。这修复了一个潜在的安全问题。由于单引号没有在链接部分转义，所以特制的电子邮件地址可能允许JavaScript代码注入。</p></li>
<li><p>RST阅读器：允许定义列表字段名称中的内联格式（Lars-Dominik Braun）。</p></li>
<li><p>PDF：请确保<code>--latex-engine-opt</code>在命令行上的文件名之前。LaTeX需要在选项（＃1779）之后提出论据。</p></li>
<li><p>CommonMark writer：用于超级/下标的固定标签。</p></li>
<li><p>ConTeXt模板：激活定义列表的悬挂缩进（mb21）。</p></li>
<li><p>如果指定了<code>embed_data_files</code>则需要<code>hsb2hs</code> &gt; = 0.3.1。这是通过在<code>Setup.hs</code>添加<code>hookedPrograms</code>完成的，这允许我们在cabal的Build-Tools中包含<code>hsb2hs</code> 。</p></li>
<li><p>改进的Windows安装程序（感谢nkalvi）。</p>
<ul>
<li>当选择每台机器安装时，系统路径将被更新而不是用户的。</li>
<li>每台机器安装目录使用适当的默认值。</li>
<li>每个用户的安装不再需要管理员权限</li>
</ul></li>
<li><p>特拉维斯：解包sdist建设捕捉包装错误。</p></li>
<li><p>改进了用户模板去哪里的文档（＃2272）。</p></li>
</ul>
<h1 id="pandoc-1.15.0.4-03-jul-2015">pandoc 1.15.0.4（2015年7月3日）</h1>
<ul>
<li><p>将pandoc.1手册页添加到存储库。它不再被构建为cabal构建过程的一部分。（这证明太脆弱了。）当<code>README</code>改变时，pandoc.1可以被重新生成（ <code>make man/pandoc.1</code> ）。</p></li>
<li><p>手册页的复制现在尊重<code>--destdir</code> （＃2262）。</p></li>
<li><p>改进了过滤器的错误消息。如果过滤器需要在路径中找不到解释器，或者过滤器返回错误状态，则会通知用户。</p></li>
</ul>
<h1 id="pandoc-1.15.0.3-02-jul-2015">pandoc 1.15.0.3（2015年7月2日）</h1>
<ul>
<li>确保在安装手册页时创建目标目录。</li>
</ul>
<h1 id="pandoc-1.15.0.2-02-jul-2015">pandoc 1.15.0.2（2015年7月2日）</h1>
<ul>
<li>增加了将手册页建立到额外源文件所需的文件。</li>
</ul>
<h1 id="pandoc-1.15.0.1-01-jul-2015">pandoc 1.15.0.1（2015年7月1日）</h1>
<ul>
<li>手册页现在被构建并安装作为cabal构建过程的一部分。删除手册页的Makefile目标。</li>
</ul>
<h1 id="pandoc-1.15-01-jul-2015">pandoc 1.15（2015年7月1日）</h1>
<ul>
<li><p>手册页更改：</p>
<ul>
<li>删除<code>--man1</code> ， - <code>--man5</code>选项（重大更改）。</li>
<li>删除<code>Text.Pandoc。ManPages</code>模块（中断API更改）。</li>
<li><code>man/man1/pandoc.1</code> Makefile目标。这使用pandoc使用自定义模板和过滤器从README创建手册页。</li>
<li>添加<code>man/</code>目录与模板和过滤器需要建立手册页。</li>
<li>我们不再有两个手册页： <code>pandoc.1</code>和<code>pandoc_markdown.5</code> 。现在只有pandoc.1，其中包含README中的所有内容。由于README各部分之间的广泛交叉引用，所以需要进行此更改。</li>
<li>删除旧<code>data/pandoc.1.template</code>和<code>data/pandoc_markdown.5.template</code> 。</li>
</ul></li>
<li><p>OpenDocument作家：不要在强行中断后添加回车符（Michael Chladek）。</p></li>
<li><p>ConTeXt作家：</p>
<ul>
<li>使用<code>\goto</code>作为内部链接。</li>
<li>为了避免虚假的空间，在最后加了一个<code>%</code>作为<code>\reference</code> 。</li>
</ul></li>
<li><p>忽略沙盒上的“快速”</p></li>
</ul>
<h1 id="pandoc-1.14.1-30-jun-2015">pandoc 1.14.1（2015年6月30日）</h1>
<ul>
<li><p>将<code>--man1</code>和<code>--man5</code>选项添加到pandoc中，允许pandoc生成自己的手册页。手册页不再在构建过程中自动生成（这个过程太复杂，容易失败，＃2190）。<code>make-pandoc-man-pages</code>可执行文件已被删除。<code>man/</code>目录已被删除，手册页模板已被移至<code>data/</code> 。包装注意：你将不再在<code>man/</code>找到pandoc的手册页，但你可以使用<code>pandoc --man1 &gt; pandoc.1</code>和<code>pandoc --man5 &gt; pandoc_markdown.5</code>来生成它们。</p></li>
<li><p>添加了新的未导出模块： <code>Text.Pandoc。Man-pages-4.04</p></li>
<li><p><code>README</code>现在就像一个数据文件（即使它不在<code>data/</code> ）。因此，例如， <code>pandoc --print-default-data-file README</code>将生成README。）<code>--man1</code>和 - <code>--man5</code>选项需要进行此更改，因为手册页是从README生成的，但对于其他目的也可能有用。</p></li>
<li><p>允许将<code>reference.docx</code>和<code>reference.odt</code>与<code>--print-default-data-file</code>一起使用，并放置在用户数据目录中的默认值。请注意，从1.14开始，我们不再包含这些文件作为数据文件。相反，我们包括他们的组件。这个改变使得pandoc的行为就像拥有这些数据文件一样。它们是在需要时使用<code>getDefaultReferenceDocx</code>和<code>getDefaultReferenceODT</code>构建的。</p></li>
<li><p>使用<code>--self-contained</code> （＃2224）解决CSS解析中的回归问题。Pandoc 1.14.0.x使用css-text解析CSS，但是它的解析器静静地放下CSS的大部分内容。这个提交用一个小而有原则的CSS预处理器代替了css-text的使用，这个预处理器删除了空格和注释，并尽可能地用base 64数据代替<code>url()</code> 。</p></li>
<li><p>使用<code>https://</code>代替<code>//</code> MathJax和KaTeX CDN网址（＃1920）。这将允许数学在当地浏览页面时工作。</p></li>
<li><p><code>Text.Pandoc。Options</code> ：导出<code>plainExtensions</code> 。这些是在<code>plain</code>输出中使用的扩展。</p></li>
<li><p>LaTeX阅读器：数学模式之外，不要将<code>_</code>和<code>^</code>解析为子/上标;把它们当作正规的内联文本。通常这些会在LaTeX中造成错误，但是在允许的地方有上下文（例如<code>alltt</code>环境）。</p></li>
<li><p>HTML阅读器：允许<code>&lt;body&gt;</code>关闭<code>&lt;head&gt;</code> 。</p></li>
<li><p>DocBook阅读器：支持<code>mediaobject</code>和<code>figures</code> （＃2184，mb21）。</p></li>
<li><p>RST阅读器：修复带有特殊字符的参考名称（Lars-Dominik Braun）。</p></li>
<li><p>纺织作家：逃避<code>+</code>和<code>-</code>作为实体（＃2225）。</p></li>
<li><p>DokuWiki作家：为代码块使用正确的<code>&lt;code&gt;</code>标签（＃2213）。</p></li>
<li><p>普通作家：不要使用超级/下标符号（＃2237）。通过使用<code>plainExtensions</code>简化代码。</p></li>
<li><p>InDesign编辑器：正确地转义包含多个冒号字符（gohai）的URL。</p></li>
<li><p>Docx作家：确保我们使用dist.ddx版本的<code>reference.docx</code> （而不是用户的版本）进行某些设置。从用户提供的reference.docx中获取一些设置值可能会导致损坏。这修复了上个版本（＃2249）的回归。</p></li>
<li><p><code>Text.Pandoc。Shared</code> ：导出<code>getDefaultReferenceDocx</code>和<code>getDefaultReferenceODT</code> （API更改）。这些功能已从Docx和ODT编写器中删除。</p></li>
<li>乳胶模板（Xavier Olive）：<ul>
<li>添加了<code>CJKmainfont</code>和<code>CJKoptions</code>变量。</li>
<li>允许dvipsnames（例如<code>MidnightBlue</code> ）用于颜色（Xavier Olive）。</li>
</ul></li>
<li><p>Epub模板：使用<code>author.role</code> ，而不是<code>author.type</code> 。</p></li>
<li><p>凹凸cmark版本&gt; = 0.3.4。</p></li>
<li><p>改进的Windows安装程序（＃2205，感谢nkalvi）。用户现在可以选择每个用户或系统范围的安装，并可以设置安装路径。在安装结束时，给出安装位置。“控制面板”中已安装的程序列表中也列出了安装位置。更清洁的WiX语法用于设置路径。</p></li>
<li><p>添加<code>download_stats</code>目标到Makefile。</p></li>
</ul>
<h1 id="pandoc-1.14.0.4-02-jun-2015">pandoc 1.14.0.4（2015年6月2日）</h1>
<ul>
<li><p>添加缺少的commonmark模板。</p></li>
<li><p>改进尝试pandoc（移动按钮，显示原始命令）。</p></li>
</ul>
<h1 id="pandoc-1.14.0.3-01-jun-2015">pandoc 1.14.0.3（2015年6月1日）</h1>
<ul>
<li><p>允许用syb 0.5编译。*。</p></li>
<li><p>自定义作家：修正了ghc &lt;7.10的一些编译器警告。</p></li>
</ul>
<h1 id="pandoc-1.14.0.2-31-may-2015">pandoc 1.14.0.2（2015年5月31日）</h1>
<ul>
<li>允许与hslua 0.4建设。</li>
</ul>
<h1 id="pandoc-1.14.0.1-28-may-2015">pandoc 1.14.0.1（2015年5月28日）</h1>
<ul>
<li><p>修正了在使用<code>embed_data_files</code>标志时建立<code>reference.docx</code>和<code>reference.odt</code>问题。而不是建立一个从构成数据文件中创建<code>reference.docx</code>和<code>reference.odt</code>的构建阶段，现在我们在构建<code>docx</code>或<code>odt</code>时从构件中构建这些档案。组件文件已经从<code>extra-source-files</code>到<code>data-files</code> ，并且<code>reference.docx</code>和<code>reference.odt</code>已被删除。用户可以使用pandoc创建自己的<code>reference.docx</code>或<code>reference.odt</code>来创建一个简单的<code>docx</code>或<code>odt</code> 。 <code>make-reference-files.hs</code>已被删除，简化了构建过程（＃2187）</p></li>
<li><p>不要在生成的源文件中包含生成的手册页（＃2189）。</p></li>
<li><p>碰到了埃森的上限。</p></li>
<li><p>ConTeXt编写器：为具有标识符的Div元素创建内部链接锚点。（这是链接引用工作所需要的。）</p></li>
</ul>
<h1 id="pandoc-1.14-27-may-2015">pandoc 1.14（2015年5月27日）</h1>
<h2 id="new-features-1">新功能</h2>
<ul>
<li><p>添加<code>commonmark</code>作为输入和输出格式。</p></li>
<li><p>在PDF生成中添加了用于调试输出的<code>--verbose</code>标志（＃1840，＃1653）。</p></li>
<li><p>允许在<code>--epub-embed-font</code>参数中使用通配符（＃1939）。</p></li>
<li><p>增加了<code>--latex-engine-opt</code>选项（＃969，＃1779，Sumit Sahrawat）。</p></li>
<li><p>增加了<code>shortcut_reference_links</code>扩展（Konstantin Zudov，＃1977）。对于那些支持阅读快捷方式参考链接的markdown风格，默认情况下这是启用的，即： <code>markdown</code> ， <code>markdown_strict</code> ， <code>markdown_github</code> ， <code>markdown_php</code> 。如果启用了扩展功能，阅读器将解析快捷方式参考链接，如<code>[foo]</code> ，并且作者创建这样的链接，除非这样做会导致问题。支持快捷方式参考链接的降价版本的用户不应该注意到读取降价的差异，但降价pandoc可能会有所不同。如果不需要快捷链接，则可以以正常方式禁用扩展。</p></li>
</ul>
<h2 id="behavior-changes-1">行为模式的改变</h2>
<ul>
<li><p><code>--toc</code>现在支持<code>docx</code>输出（＃458，Nikolay Yakimov）。在文档的开始创建一个“脏”TOC。文档打开后可以重新生成。</p></li>
<li><p>现在，只有在使用<code>--bibliography</code>选项时， <code>--bibliography</code>触发隐式 - <code>--filter pandoc-citeproc</code> ，而不是在指定元数据中的<code>bibliography</code>字段时（＃1849）。</p></li>
<li><p>降价阅读器：</p>
<ul>
<li>带有<code>implicit_header_references</code>引用链接不再区分大小写（＃1606）。</li>
<li><p>定义列表不再需要第一行的缩进（＃2087）。以前定义的主体（在<code>:</code>或<code>~</code>标记之后）需要在第4列中。这个提交放宽了这个要求，以更好地匹配PHP Markdown Extra的行为。所以，现在这是一个有效的定义列表：</p>
<pre><code>foo：酒吧</code></pre></li>
<li><p>解决表格标题可能带来的歧义：</p>
<pre><code>foo：bar -----表格-----</code></pre>是“酒吧”的一个定义，还是表格的标题？我们将把它作为表格的标题。</li>
<li>禁止无标题管道表（＃1996），以符合GFM和PHP Markdown Extra。注意：如果您一直在使用无标头管道表，则此更改可能会导致现有表中断。</li>
<li>允许带有标题但不包含主体的管道表格（＃2017）。</li>
<li><p>允许一个数字作为引用键的第一个字符（Matthias Troffaes）。请参阅https://github.com/jgm/pandoc-citeproc/issues/97</p></li>
</ul></li>
<li><p>乳胶读者：</p>
<ul>
<li>不要限制包含<code>.tex</code>扩展名（＃1882）。如果扩展名不是<code>.tex</code> ，则必须在<code>\input</code>或<code>\include</code>明确给出。</li>
</ul></li>
<li><p>Docx阅读器：</p>
<ul>
<li>允许在样式文件中编号。这允许使用编号（列表）的继承样式（Jesse Rosenthal）。</li>
</ul></li>
<li><p>组织读者：</p>
<ul>
<li>支持智能标点符号（Craig Bosma）。</li>
<li>用a：noexport：标签（Albert Krewinkel）扔树。具有<code>:noexport:</code>标记集的树不会被导出。这反映了组织模式。</li>
<li>将标题标签放入空白区域（Albert Krewinkel，＃2160）。组织模式可以标记<code>* Headline :TAG1:TAG2</code> 。标签现在被置于空白区域的属性中，而不是被解释为标题的一部分。没有文本内容的跨度在默认情况下是不可见的，但是它们可以通过过滤器检测到。当写成HTML时，它们也可以使用CSS进行样式化。</li>
<li>推广代码块结果解析（Albert Krewinkel）。以前，只有代码块被识别为结果块;现在，任何一种块都可能是结果。</li>
</ul></li>
<li><p>向Dokuwiki，HTML，EPUB，LaTeX，MediaWiki，OpenDocument，Texinfo作者（＃1924，Tim Lin）的LineBreak添加换行符。</p></li>
<li><p>HTML编写器：</p>
<ul>
<li>将“内联”或“显示”类添加到数学跨度（＃1914）。这允许内联和显示数学的风格不同。</li>
<li>如果指定了<code>--mathjax</code>则包含原始乳胶块（＃1938）。</li>
<li>需要突出显示kate&gt; = 0.5.14（＃1903）。这确保了所有的代码块都会被封装在一个带有<code>sourceCode</code>类的<code>div</code> 。此外，默认突出显示CSS现在添加<code>div.sourceCode { x-overflow: auto; }</code> ，这意味着代码块（即使是行号）也会在屏幕上显示的滚动条太小而无法显示（例如手机）。另见jgm / highlighting-kate＃65。</li>
</ul></li>
<li><p>乳胶作家：</p>
<ul>
<li>使用紧张名单声明（何塞·路易斯·杜兰，约瑟夫·哈里奥特）。以前，pandoc在LaTeX中硬编码了一些命令来制作紧凑的列表。现在我们使用一个自定义命令，允许在标题中的宏中更改样式。（注意：现有模板可能需要修改以包含此宏的定义。查看当前模板。）</li>
<li>投影仪输出：如果引入幻灯片的页眉具有<code>fragile</code>类别，请将<code>[fragile]</code>选项添加到幻灯片（＃2119）。</li>
</ul></li>
<li><p>MediaWiki作家：</p>
<ul>
<li>使用<code>File:</code>而不是弃用的<code>Image:</code>用于图像和其他媒体文件（Greg Rundlett）。</li>
</ul></li>
<li><p>DocBook作者：</p>
<ul>
<li>渲染<code>Div (id,_,_) [Para _]</code>元素作为具有<code>id</code>属性的<code>para</code>元素。这使得在DocBook中引用的链接与pandoc-citeproc链接。</li>
</ul></li>
<li><p>RST作家：</p>
<ul>
<li>将标题标准化为顺序级别（Nikolay Yakimov）。这是docutils非常需要的。</li>
<li>以块引号等方式处理标题（Nikolay Yakimov）。</li>
<li>更好地处理原生胶乳（＃1961）。我们使用<code>:raw-latex:`...`</code>并为这个模板添加一个这个角色的定义。</li>
</ul></li>
<li><p>EPUB作家：</p>
<ul>
<li>从封面<code>itemref</code>删除<code>linear=no</code> （＃1609）。</li>
<li>不要为epub脚注使用<code>sup</code>元素（＃1995）。相反，只需在类<code>footnoteRef</code>使用一个元素即可。这允许更多样式选项，并且在一些阅读器（例如，iBooks中，标签内的任何内容打破弹出脚注）中提供更好的结果。</li>
<li>从<code>toc-title</code>元数据字段获取TOC标题。</li>
</ul></li>
<li><p>Docx作家：</p>
<ul>
<li>实现了<code>FirstParagraph</code>风格（Jesse Rosenthal）。在ODT <code>FirstParagraph</code>之后，我们将<code>FirstParagraph</code>样式添加到图像，块引用，表格，标题或文档开始之后的第一个文本段落。这使它的风格不同。默认情况下，它与“ <code>Normal</code> ”相同。</li>
<li>添加了<code>BodyText</code>风格（Jesse Rosenthal）。我们将<code>BodyText</code>样式应用于所有无格式的段落。这基本上和<code>Normal</code> ，只是因为不是所有的东西都是从<code>BodyText</code>继承的（元数据不会，例如头文件或脚注编号），我们可以改变文本在body中，而不必为一切。如果我们想要改变<em>一切</em> ，我们仍然可以通过<code>Normal</code>做。</li>
<li>稍微改变了<code>Blockquote</code>风格（Jesse Rosenthal）。由于<code>BlockQuote</code>派生自<code>BodyText</code> ，我们只是想默认指定它不缩进，而不管<code>BodyText</code>是什么。请注意，这不会在默认配置中产生任何可见的差异。</li>
<li>从<code>toc-title</code>元数据字段（Nikolay Yakimov）获取TOC标题。</li>
<li>为图像添加了一种风格（Nikolay Yakimov）。带有空字幕的数字使用样式<code>Figure</code> 。带有非空字幕的<code>Figure with Caption</code> ，该<code>Figure</code>基于<code>Figure</code> ，并且还具有<code>keepNext</code>集合。</li>
</ul></li>
<li><p>ODT作家：</p>
<ul>
<li>添加了数字标题（Nikolay Yakimov）。以下样式用于附图中： <code>Figure</code> -用于与空字幕图）， <code>FigureWithCaption</code> （基于<code>Figure</code> ） -用于与字幕，图形<code>FigureCaption</code> （基于<code>Caption</code> ） -对于图字幕。此外， <code>TableCaption</code> （基于<code>Caption</code> ）用于表格标题。</li>
</ul></li>
</ul>
<h2 id="api-changes-1">API更改</h2>
<ul>
<li><p>新<code>Text.Pandoc。带有<code>PandocError</code>类型的Error</code>模块（Matthew Pickering）。</p></li>
<li><p>所有的读者现在都返回<code>Either PandocError Pandoc</code>而不是<code>Pandoc</code> （Matthew Pickering）。这样可以更好地处理错误。</p></li>
<li><p>新增<code>Text.Pandoc。编剧CommonMark</code> ，导出<code>writeCommonMark</code> 。</p></li>
<li><p>新增<code>Text.Pandoc。阅读器，CommonMark</code> ，导出<code>readCommonMark</code> 。</p></li>
<li><p>为<code>MediaBag</code> ， <code>Extension</code> ， <code>ReaderOptions</code> ， <code>EPUBVersion</code> ， <code>CiteMethod</code> ， <code>ObfuscationMethod</code> ， <code>HTMLSlideVariant</code> ， <code>TrackChanges</code> ， <code>WriterOptions</code> （Shabbaz Youssefi）派生<code>Data</code>和<code>Typeable</code>实例。</p></li>
<li><p>新<code>Ext_shortcut_reference_links</code>构造函数<code>Extension</code> （康斯坦丁Zudov）。</p></li>
</ul>
<h2 id="bug-fixes">Bug修复</h2>
<ul>
<li><p>降价阅读器：</p>
<ul>
<li>在内联数学（＃1909，Nikolay Yakimov）后允许“聪明<code>'</code> 。</li>
<li>缩进代码后检查tex宏（＃1973）。</li>
<li><code>charsInBalancedBrackets</code>以提高效率。</li>
<li>确保关闭<code>&lt;/div&gt;</code>不包含在定义列表项（＃2127）中。</li>
<li>如果可能是链接，图片或脚注（Nikolay Yakimov），请勿将括号内的文字解析为引用。</li>
<li>键入mmd标题栏（＃2026，Nikolay Yakimov）后需要空格。mmd标题栏中的键值分隔符冒号后需要空格。</li>
<li>在mmd标题栏中要求非空值（Nikolay Yakimov）。</li>
<li>解析元数据字段值时禁用所有元数据块扩展（＃2026，Nikolay Yakimov）。否则，例如，我们可以在YAML元数据中获得一个mmd标题块。</li>
</ul></li>
<li><p>HTML阅读器：</p>
<ul>
<li>改善<code>htmlInBalanced</code>自闭标签检测（＃2146）。</li>
<li>在主体行中使用<code>&lt;th&gt;</code>处理表（＃1859，mb21）。</li>
<li>修正了<code>htmlTag</code> （＃1820）。如果标签解析为注释，我们检查输入是否以<code>&lt;!--</code>开头。如果不是，它是假的评论模式，我们失败的<code>htmlTag</code> 。</li>
<li>处理<code>base</code>标签;如果它具有<code>href</code>值，则将其添加到链接和图像中的所有相对URL。</li>
</ul></li>
<li><p>DocBook阅读器：</p>
<ul>
<li>查看部分标题的“信息”元素（＃1931）。</li>
</ul></li>
<li><p>Docx阅读器：</p>
<ul>
<li>以不推荐的vml格式（Jesse Rosenthal）解析图像。</li>
<li>允许子/上标逐字（Jesse Rosenthal）。逐字通常关闭所有其他运行方式，但我们不希望它关闭子/上标。</li>
</ul></li>
<li><p>乳胶读者：</p>
<ul>
<li>处理<code>tabular*</code>环境（＃1850）。请注意，表的宽度并没有真正解析或考虑，但pandoc不再扼杀它。</li>
<li>忽略<code>\lstinline</code>选项而不是引发错误（＃1997）。</li>
<li>为简单的表添加一些测试用例（Mathias Schenner）。</li>
<li>在表（Mathias Schenner）中处理valign参数（目前我们只是忽略了这一点）。</li>
<li>表中允许非空colsep（Mathias Schenner）。<code>tabular</code>环境允许使用“@ {...}”语法的非空列分隔符。以前，如果存在非空colsep，则pandoc将无法解析表。通过这个提交，这些分隔符仍然被忽略，但是表被解析。包括一个测试用例。</li>
<li>将<code>\newpage</code>识别为块命令。</li>
<li>（＃2001）允许块内容。</li>
<li>检查blockCommand中的块级别的newcommand别名（Nikolay Yakimov）。</li>
<li>警惕从内联宏（Nikolay Yakimov）开始的段落。</li>
<li>在<code>\\</code> （＃2007）后适当地吞噬空间。</li>
</ul></li>
<li><p>纺织阅读器：</p>
<ul>
<li>处理表格单元格中的换行符和空单元格（＃1919）。</li>
</ul></li>
<li><p>组织读者：</p>
<ul>
<li>允许与非图像目标的图像链接（Hans-Peter Deifel）。这与<code>[[http://example.com][https://www.haskell.org/static/img/logo.png]]</code>类的链接的Org-Mode行为相匹配。</li>
</ul></li>
<li><p>Docbook作者：</p>
<ul>
<li>不要打印空的id属性（感谢Steve Horne）。</li>
</ul></li>
<li><p>HTML编写器：</p>
<ul>
<li>修正了编号示例列表的列表样式类型。应该是“十进制”，而不是“示例”（＃1902）。</li>
<li>不要忽略<code>img</code>标签上缺失的<code>alt</code>属性（＃1131，Konstantin Zudov）。</li>
<li>允许表中有多个群组（＃2122）。</li>
<li>在revealjs中，确保演讲者笔记中的列表不会添加“片段”类，这可能导致需要额外的按键来推进幻灯片（＃1394）。</li>
</ul></li>
<li><p>乳胶作家：</p>
<ul>
<li>不要在URL中转义<code>$</code> （＃1913）。</li>
<li>不要在标题中使用列表（Matthew Pickering，＃1963）。</li>
<li>如果在元数据中设置，则识别图书文档类（＃1971）。如果元数据中的文档类是书籍文档<code>--chapters</code>隐式设置<code>--chapters</code> 。以前，只有在书籍文档类被设置在一个变量中时才会这样做。</li>
<li>在<code>\hyperdef</code>为Div，Span添加<code>\label</code> （或链接不起作用）。</li>
<li>当<code>lang</code>在元数据中时，让<code>mainlang</code>工作（＃2174）。</li>
</ul></li>
<li><p>Texinfo作家：</p>
<ul>
<li>修复使用易碎空间的包装（Tim Lin）。</li>
</ul></li>
<li><p>RST作家：</p>
<ul>
<li>固定RST作家的toc深度。以前深度被渲染为带有小数点的浮点数。</li>
</ul></li>
<li><p>减价作家：</p>
<ul>
<li>改进了转义（​​＃2086）。为了与原始的Markdown兼容， <code>&lt;</code>不应该被转义为<code>\&lt;</code> 。我们现在逃<code>&lt;</code>和<code>&gt;</code>与实体。此外，我们现在反斜杠方括号。</li>
<li>避免通过包装引入虚假列表项目（＃1946）。</li>
<li>如果禁用纯HTML或纯HTML，则不要发出span标签。</li>
</ul></li>
<li><p>MediaWiki作家：</p>
<ul>
<li>在wikilink URL（＃1982）中将空格转换为下划线，就像MediaWiki一样。</li>
</ul></li>
<li><p>AsciiDoc作家：</p>
<ul>
<li>插入一些需要的空行（＃1860）。</li>
<li>避免在列表标记之后进行换行（＃1858）。</li>
</ul></li>
<li><p>EPUB作家：</p>
<ul>
<li>正确处理内部链接到跨度，div的ID（＃1884）。</li>
<li>元数据dc：字段使用纯文本（＃2121）。当我们有例如多个段落时，这给出更好的结果。请注意，这些字段中不允许使用标签。</li>
<li>正确处理没有扩展名的图片链接（＃1855）。</li>
<li>改进了章节拆分和内部链接重写（＃1887，＃2162，＃2163）。这将确保内部链接起作用，并且由pandoc-citeproc生成的参考部分在其章节中。</li>
<li>修正了svg图像的处理（＃2183）。</li>
</ul></li>
<li><p>ICML作家：</p>
<ul>
<li>更好地处理原始块和内联（＃1951）。以前这些东西总是逃脱并逐字打印。现在它们被忽略，除非格式是<code>icml</code> ，在这种情况下，它们通过非转义传递。</li>
<li>修复了ICML输出中的图像URI（gohai）。</li>
</ul></li>
<li><p>定制作家：</p>
<ul>
<li>如果loadtring返回错误状态，则引发错误。</li>
<li><code>PandocLuaException</code>而不是使用“错误”。最终，我们将改变返回类型，以便不涉及任何异常，但至少可以被困住。</li>
<li>使用UTF-8知道的字节串转换。</li>
<li>将外部编码设置为UTF-8（Nikolay Yakimov，＃2101，＃1634）。同时也考虑了ByteString，因为它仅用作中间表示。</li>
</ul></li>
<li><p>Docx作家：</p>
<ul>
<li>从reference.docx（Nikolay Yakimov）复制连字符设置。</li>
<li>过滤出非法的XML字符（＃1992，Matthew Pickering）。</li>
<li>对docx语法高亮<code>SourceCode</code>样式添加了<code>noProof</code> 。</li>
<li>新增了脚注id -1和0（Jesse Rosenthal）。默认情况下，Word使用ID为-1和0的脚注作为分隔符。如果用户修改了<code>reference.docx</code> ，他们将最终得到一个引用这些脚注的<code>settings.xml</code>文件，但文档中没有这样的脚注。这将产生一个腐败错误。在这里，我们将这些添加到文档和<code>settings.xml</code>文件，以便将来的修改不会破坏文件。</li>
<li>在表格单元格内正确处理列表（Jesse Rosenthal）。以前我们没有在表格单元格内转换列表。</li>
<li>在表格中设置firstRow信息（Nikolay Yakimov）。</li>
<li>如果在<code>reference.docx</code>中定义了<code>SourceCode</code>样式，则不要替换<code>SourceCode</code>样式（Nikolay Yakimov，＃1872）。如果指定了<code>--no-highlight</code> ，则删除<code>reference.docx</code>中的任何<code>SourceCode</code>和<code>*Tok</code>样式。</li>
<li>试图匹配国际风格的名字（＃1607，尼古拉Yakimov）。</li>
<li>将这些样式设置为自定义（Nikolay Yakimov）： <code>Author</code> ， <code>Abstract</code> ， <code>Compact</code> ， <code>Image Caption</code> ， <code>Table Caption</code> ， <code>Definition Term</code> ， <code>Definition</code> ， <code>First Paragraph</code> 。</li>
<li>将这些样式重命名为符合Word <code>Normal.dotm</code> （Nikolay Yakimov）： <code>Block Quote -&gt; Block Text</code> ， <code>Link -&gt; Hyperlink</code> ， <code>Footnote Ref -&gt; Footnote Reference</code> 。</li>
<li>添加了<code>Caption</code>样式（Nikolay Yakimov）。</li>
<li>更改了这些样式的继承（Nikolay Yakimov）： <code>Image Caption &lt;- Caption</code> ， <code>Table Caption &lt;- Caption</code> 。</li>
<li>从<code>reference.docx</code>删除<code>SourceCode</code>样式（＃1872）。这是由docx作者自动添加的。</li>
<li>将toc标题样式添加到<code>reference.docx</code> （Nikolay Yakimov）。</li>
</ul></li>
<li><p><code>Text.Pandoc。PDF</code></p>
<ul>
<li>如果xelatex已经在使用（mb21，＃1832），不要提示“试用xelatex”。</li>
<li>在图像转换（＃2067）更容易理解的错误。EPS不能支持像ImageMagick这样的东西，但至少我们可以避免神秘的错误信息。</li>
</ul></li>
<li><p><code>Text.Pandoc。共享</p>
<ul>
<li>让safeRead安全（＃1801，Matthew Pickering）。</li>
<li>加了<code>mapLeft</code> ， <code>hush</code> （马修皮克林）。</li>
</ul></li>
<li><p><code>Text.Pandoc。漂亮？</p>
<ul>
<li>删除部分功能（马修皮克林）。</li>
</ul></li>
<li><p><code>Text.Pandoc。自完备的</p>
<ul>
<li>添加<code>;charset=utf-8</code>脚本MIME类型，如果丢失（＃1842）。</li>
<li>改进了数据URI的构建（＃1940）。现在使用base64除了<code>text/*</code> MIME类型。</li>
<li><code>cssURLs</code>不再尝试提取片段URL（＃2121）。</li>
<li>正确处理CSS URL中的数据URI（＃2129）。使用适当的CSS解析器（增加对<code>text-css</code>依赖）。</li>
</ul></li>
<li><p><code>Text.Pandoc。65254, "UTF-7"</p>
<ul>
<li>更好地处理输入文件中的裸露CR（＃2132）。以前我们只是把它们剥离出来。现在我们将其他行结束样式转换为LF行结束符。</li>
</ul></li>
<li><p><code>Text.Pandoc。图像大小</p>
<ul>
<li>修复了一些exif头文件解析错误（＃1834）。</li>
<li>使imageSize返回一个，而不是一个也许（＃1834）。使用<code>runGetOrFail</code> （ <code>binary &gt;= 0.7</code> ）在解析失败（而不是<code>error</code> ）时返回<code>Left</code> 。</li>
<li>当图像尺寸无法确定时，改进了警告。</li>
<li>删除了错误的地雷（马修皮克林）。</li>
</ul></li>
<li><p>添加了woff2到MIME类型（Alfred Wechselberger）。</p></li>
<li><p>pandoc：使用二进制输入格式时，警告忽略第一个文件参数被忽略（Matthew Pickering）。</p></li>
</ul>
<h2 id="template-changes">模板更改</h2>
<ul>
<li><p>乳胶模板：</p>
<ul>
<li>如果<code>\paragraph</code>没有定义，则优雅地退化。</li>
<li>在<code>graphicx</code>加入<code>grffile</code> （＃2074）。这正确处理包含空格和点的文件名。</li>
<li>重新定义<code>\paragraph</code> ， <code>\subparagraph</code> ...行为更像部分标题（＃1658）。</li>
<li>在polyglossia之前导入hyperref以避免xelatex错误，“请在bidi包之前加载包hyperref”（Nick Bart）。</li>
<li>添加<code>toccolor</code>变量来控制toc（Kaixhin）中的链接颜色。</li>
</ul></li>
<li><p>LaTeX，Beamer模板：</p>
<ul>
<li>提供<code>\tightlist</code> ，现在由LaTeX作家使用。</li>
<li>在beamer中使用polyglossia（＃85）。</li>
<li>使用<code>bibliography</code>而不是<code>biblio-files</code> （＃1661）。<code>\addbibresource</code>也可以使用<code>\addbibresource</code>而不是<code>\bibliography</code> 。</li>
<li>新增<code>setotherlanguages</code>在polyglossia。这使用从<code>lang</code>的逗号分隔列表派生的<code>otherlang</code>变量;最后的语言是<code>mainlang</code> ，其余的是<code>otherlang</code> 。</li>
</ul></li>
<li><p>EPUB模板：</p>
<ul>
<li>在标题页上使用<code>div</code>而不是<code>p</code>来表示“权限”。</li>
<li>include-before，include-after（＃1987）添加了header-includes。</li>
</ul></li>
<li><p>OpenDocument模板：</p>
<ul>
<li>使用<code>text:p</code>代替<code>text:h</code>代表标题。使用<code>text:h</code>导致编号问题。关闭%sThankk to <span class="citation" data-cites="nkalvi">@nkalvi</span>诊断这个。</li>
</ul></li>
<li><p>reveal.js模板：</p>
<ul>
<li>链接到非缩小的CSS，JS。缩小版本不再随图书馆出货。</li>
<li>正确包含CSS样式（＃1949）。</li>
<li>新的可配置选项选项： <code>center</code> ， <code>maxScale</code> ， <code>slideNuber</code> （Dmitry Smirnov，pandoc-templates＃89）。</li>
<li>在主题后移动了自定义CSS。这允许自定义CSS修改主题，而不是被替换。</li>
<li>允许<code>center</code>设置为false。</li>
</ul></li>
</ul>
<h2 id="under-the-hood-improvements">在引擎盖改进之下</h2>
<ul>
<li><p>删除了预建的<code>reference.docx</code>和<code>reference.odt</code> （Nikolay Yakimov）。相反，存储库现在包含组件文本文件，并且使用辅助程序<code>make-reference-files</code>从这些文件构建压缩的二进制<code>make-reference-files</code> 。这应该使这些组件的维护更容易。</p></li>
<li><p><code>Text.Pandoc。分析中</p>
<ul>
<li>增加了新的<code>&lt;+?&gt;</code>组合（Nikolay Yakimov）。</li>
<li>新增<code>stateHeaderKeys</code>到<code>ParserState</code> 。</li>
</ul></li>
<li><p><code>make_deb.sh</code>修复：</p>
<ul>
<li>检测体系结构。</li>
<li>将Installed-Size添加到debian软件包控制文件（＃1900）。</li>
<li>使用<code>fakeroot</code>来获得正确的权限。</li>
<li>使用<code>mkdir</code>和<code>cp</code>而不是<code>install</code> 。</li>
<li>将目录的权限设置为755。</li>
<li>安装在<code>/usr</code>而不是<code>/usr/local</code> 。</li>
<li>压缩手册页。</li>
<li>合并<code>pandoc</code> ， <code>pandoc-citeproc</code>版权文件。</li>
</ul></li>
<li><p>新增<code>Text.Pandoc。{0}{1}compat{/1}{/0} :Locale</code>和<code>old-locale</code>标志协助过渡到<code>time</code> 1.5。</p></li>
<li><p>用关于问题标签（Matthew Pickering）的信息更新了CONTRIBUTING.md。</p></li>
<li><p>更新了travis安装到新的sudo-less语法（Tim Lin）。</p></li>
<li><p>更新了依赖版本的界限。</p></li>
<li><p>EPUB测试：不要使用不同平台的<code>joinPath</code> 。而是使用正斜杠来加入路径，而不管平台如何。这与<code>MediaBag</code>现在的工作方式相匹配。</p></li>
<li><p>在使用消息中澄清JSON输入和输出（Caleb McDaniel）。</p></li>
<li><p>改进了INSTALL指令。</p></li>
<li><p>总是建立手册页。删除了make-pandoc-man-pages标志。</p></li>
<li><p>Makefile：删除man目标，现在我们默认生成手册页。</p></li>
<li><p>{0}{/0}
						请看这里
					</p>
<ul>
<li>修正了拼写错误（J. Lewis Muir）。</li>
<li>增加了关于backtick_code_blocks的文档（＃2135，Nikolay Yakimov）。</li>
<li>在biblio数据库中添加了关于现场标记的注释（Nick Bart）。</li>
<li>修正原始HTML块的误导性示例。</li>
<li>各种程序选项的小格式和一致性修复（AndreasLööw）。</li>
<li>为了一致性，制定了所有“松散”选项的定义列表。</li>
<li>在表中添加了YAML biblio格式，并记录了<code>pandoc-citeproc</code>的<code>--bib2json</code>和<code>--bib2yaml</code>选项（Nick Bart）。</li>
<li>删除了对<code>mods2yaml</code> （Nick Bart）的过时引用。</li>
<li>添加了语法高亮部分。</li>
<li>记录<code>toccolor</code>变量。</li>
</ul></li>
</ul>
<h1 id="pandoc-1.13.2.1-15-apr-2015">pandoc 1.13.2.1（2015年4月15日）</h1>
<ul>
<li><p>更新到用ghc 7.10.1构建。</p></li>
<li><p>bump包的上限为filepath，blaze-html，blaze-markup。</p></li>
</ul>
<h1 id="pandoc-1.13.2-20-dec-2014">pandoc 1.13.2（2014年12月20日）</h1>
<ul>
<li><p>TWiki Reader：添加新的twiki阅读器（API chaneg，Alexander Sulfrian）。</p></li>
<li><p>降价阅读器：</p>
<ul>
<li>更好地处理div中的段落（＃1591）。以前，结束div的文本将被解析为普通格式，除非在结束div标记之前有空行。</li>
<li>不要将引文作为参考链接标签（＃1763）。</li>
<li>修复以下标点符号的自动链接（＃1811）。这个价格是自动链接裸URI不能再包含<code>&gt;</code>字符，但这不是一个大问题。</li>
<li>修正<code>Ext_lists_without_preceding_blankline</code>错误（＃1636，Artyom）。</li>
<li>允许<code>startnum</code>在没有<code>fancy_lists</code>情况下<code>fancy_lists</code> 。以前， <code>pandoc -f markdown-fancy_lists+startnum</code>无法正常工作。</li>
</ul></li>
<li><p>RST阅读器（所有Daniel Bergey）：</p>
<ul>
<li>解析引用的文字块（＃65）。RST引用的文字块与缩进的文字块（pandoc已经支持）相同，除了引用字符保存在每一行中。</li>
<li>解析RST类指令。class指令接受一个或多个类名，并用这些类创建一个Div值。如果指令具有缩进的正文，则正文将被解析为Div的子元素。如果不是这样的话，那么遵循该指令的第一个块就是Div的一个孩子。这与rst2xml的行为不同，后者不会创建Div元素。相反，指定的类将应用于指令的每个孩子。但是，大多数Pandoc Block的构造函数不接受Attr参数，所以我们不能重复这个行为。</li>
<li>警告跳过的指令。</li>
<li>文字角色现在生成代码。代码角色应该有“代码”类。</li>
<li><p>改进了对自定义角色的支持</p>
<ul>
<li>添加<code>sourceCode</code>到类<code>:code:</code>角色，以及从它继承的任何东西。</li>
<li>如果Inline构造函数支持Attr，则将自定义角色的名称添加到类中。</li>
<li>如果自定义角色指令没有指定父角色，则从<code>:span:</code>角色继承。</li>
</ul>这与<code>rst2xml.py</code>行为有所不同。如果一个自定义角色从另一个自定义角色继承，Pandoc将把这两个角色的名字作为类来附加。 <code>rst2xml.py</code>将只使用直接调用的角色的类（尽管在从<code>:language:</code> defined定义的<code>:code:</code> role继承的情况下，它也将提供继承的语言作为类）。</li>
<li><p>警告角色指令中被忽略的字段。</p></li>
</ul></li>
<li><p>乳胶读者：</p>
<ul>
<li>将标题之后的标签解析为跨度，而不是插入附加的括号文本段落（＃1747）。</li>
<li>尽可能将数学环境解析为内联（＃1821）。</li>
<li>更好地处理<code>\noindent</code>和<code>\greektext</code> （＃1783）。</li>
<li>处理<code>\texorpdfstring</code>更优雅。</li>
<li>处理<code>\cref</code>和<code>\sep</code> （Wikiwide）。</li>
<li>支持<code>\smartcite</code>和<code>\Smartcite</code> Smartcite。</li>
</ul></li>
<li><p>HTML阅读器：</p>
<ul>
<li>保留MathML输出的显示类型（＃1719，Matthew Pickering）。</li>
<li>识别<code>&lt;pre&gt;</code>块（＃1620，Matthew Pickering）中的<code>&lt;br&gt;</code>标签。</li>
<li>使<code>embed</code>标记<code>embed</code>或内联（＃1756）。</li>
</ul></li>
<li><p>DocBook阅读器：</p>
<ul>
<li>处理<code>keycombo</code> ， <code>keycap</code> （＃1815）。</li>
<li>获取文字元素的内部标签中的字符串内容（＃1816）。</li>
<li>处理<code>menuchoice</code>元素更好，具有<code>&gt;</code> （＃1817）之间。</li>
<li>在节标题中包含<code>id</code> （＃1818）。</li>
<li>文档/测试“类型”（Brian O'Sullivan）。</li>
<li>添加对calloutlist和标注的支持（Brian O'Sullivan）。我们将标注列表视为项目列表。这在实践中效果很好。</li>
<li>增加对<code>classname</code>支持（Bryan O'Sullivan）。</li>
</ul></li>
<li><p>Docx阅读器：</p>
<ul>
<li>修复窗口路径图像查找（杰西罗森塔尔）。不要使用os敏感的“组合”，因为我们总是希望zip压缩文件中的路径使用正斜杠。</li>
<li>有序列表中的单项标题是标题（Jesse Rosenthal）。当用户为他们的头部编号时，Word会将其理解为一个枚举列表。我们假设这样一个列表实际上是一个标题。</li>
<li>重写rewriteLink以使用新的头文件（Jesse Rosenthal）。在创建列表之后，可能会有新的顶级标题，所以我们必须在此之后重写链接。</li>
<li>使用polyglot标题列表（Jesse Rosenthal）。我们只是保留不同语言用作默认样式的标题格式列表。目前，我们有英文，德文，丹麦文和法文。我们可以继续添加到这一点。这比解析样式文件更简单，而且可能不太容易出错，因为样式文件如何定义头文件似乎有一些变化，即使在语言中也是如此。</li>
<li>在其他语言（Jesse Rosenthal）中正确删除头文件。当我们遇到其中一种多边形标题样式时，我们希望在将其转换为标题后将其从样式中移除。要做到这一点，我们必须跟踪风格名称，并适当地删除它。</li>
<li>使用锚记帐户的外部链接网址。以前，如果一个URL有一个锚点，读者会错误地将其识别为一个内部链接，并只将该锚点作为URL返回。 （Caleb McDaniel）</li>
<li>修复问题＃1692（国际风格）（Nikolay Yakimov）。</li>
</ul></li>
<li><p>组织读者：</p>
<ul>
<li>增加了状态改变空白（杰西罗森塔尔）。这使我们可以在新的段落开始时强调（或者一般而言，在空白行之后）。</li>
<li><p>修正了项目符号列表的错误：</p>
<ul>
<li> a</li>
<li>b</li>
<li>C</li>
</ul>被解析为一个列表，即使一个不显眼的<code>*</code>应该做一个标题。请参阅<a href="http://orgmode.org/manual/Plain-lists.html#fn-1" class="uri">http://orgmode.org/manual/Plain-lists.html#fn-1</a> 。</li>
<li>组织读者：链接中绝对的相对路径（＃1741，Albert Krewinkel）。解析链接时，org读者的限制太多;一些相对链接和指向绝对路径的文件链接无法正确识别。</li>
<li>组织读者：允许空链接（jgm / gitit＃471，Albert Krewinkel）。这在使用wikilinks的空链接的gitit中很重要。</li>
<li>在解析Org项目符号列表时尊重缩进（＃1650，Timothy Humphries）。修复了顶级项目符号列表解析的问题。</li>
<li>修复定义列表的缩进问题（Timothy Humphries，见＃1650，＃1698，＃1680）。</li>
<li>在定义列表（＃1649，Matthew Pickering）中正确解析多内联术语。</li>
<li>修正强调识别的规则（Albert Krewinkel）。诸如<code>/hello,/</code>或<code>/hi'/</code>的东西被认为是强调的字符串。这是错误的，因为<code>,</code> <code>'</code>被禁止的边界字符，可能不会出现在强调文本的内部边界。</li>
<li>掉落评论文件树（Albert Krewinkel）。以单词<code>COMMENT</code>开头的文档树是注释树，不应导出。那些树被无声地抛弃（＃1678）。</li>
<li>正确处理<code>file:target</code>链接<code>file:target</code> （Albert Krewinkel）。组织链接像<code>[[file:target][title]]</code>没有正确处理，逐字解析链接目标。org阅读器被更改，使得前导<code>file:</code>从链接目标中删除（请参阅＃756，＃1812）。</li>
<li><p>解析LaTeX样式的MathML实体（＃1657，Albert Krewinkel）。Org支持使用LaTeX语法可以包含的特殊符号，但实际上是MathML实体。这个例子是<code>\nbsp</code> （non-breaking space）， <code>\Aacute</code> （带有强调的字母A）或<code>\copy</code> （版权标志©）</p></li>
</ul></li>
<li><p>EPUB阅读器：</p>
<ul>
<li>URI处理改进。现在我们把大部分工作外包给<code>fetchItem'</code> 。另外，不要在文件扩展名中包含查询（＃1671）。</li>
</ul></li>
<li><p>乳胶作家：</p>
<ul>
<li>在需要时使用<code>\texorpdfstring</code>作为章节标题（Vaclav Zeman）。</li>
<li>处理连续的换行符（＃1733）。</li>
<li>保护标题中的图形（Jesse Rosenthal）。<code>\section</code> / <code>\subsection</code>等标题中的图形需要被<code>\protect</code> 。</li>
<li>在列表项目文本（Jesse Rosenthal）中放入<code>~</code>标题。由于内置行跳过，LaTeX无法将列标题作为列表项中的第一个元素进行处理。</li>
<li>避免使用保留字符作为<code>\lstinline</code>分隔符（＃1595）。</li>
<li>更好地处理简单表格中的显示数学（＃1754）。我们将显示数学转换为简单表格中的内联数学，因为LaTeX无法处理简单表格中的显示数学。</li>
<li>在代码中跳转空格（＃1694，Bjorn Buckwalter）。</li>
</ul></li>
<li><p>MediaWiki作家：</p>
<ul>
<li>修复了URL =文本的链接以前这些都是裸露的单词，即使URL不是一个绝对的URL（＃1825）。</li>
</ul></li>
<li><p>ICML作家：</p>
<ul>
<li>不要强迫所有引用脚注。</li>
</ul></li>
<li><p>RTF作家：</p>
<ul>
<li>在输出结尾添加空行（＃1732，Matthew Pickering）。</li>
</ul></li>
<li><p>RST作家：</p>
<ul>
<li>确保图中的空行。</li>
<li>避免在最后一个列表项（＃1777）后面加空格。</li>
<li>在连续之前用空格包装行块（＃1656）。</li>
<li>修复了RST表格中脚注的双重渲染（＃1769）。</li>
</ul></li>
<li><p>DokuWiki作家：</p>
<ul>
<li>更好的处理块报价。此更改可确保多个段落块引用使用native <code>&gt;</code>而不是HTML（＃1738）。</li>
<li>修复外部图像（＃1739）。前言与“：”的相对链接，绝对URI没有。（Timothy Humphries）</li>
</ul></li>
<li><p>HTML编写器：</p>
<ul>
<li>为mathjax使用协议相关的URL。</li>
<li>把换行符btw img和标题段落。</li>
<li>MathML现在用tex注释（＃1635，Matthew Pickering）输出。</li>
<li>添加对KaTeX HTML数学的支持（＃1626，Matthew Pickering）。这将<code>KaTeX</code>添加到<code>HTMLMathMethod</code> （API更改）。</li>
<li>当<code>email-obfuscation=none</code> （＃1625，Matthew Pickering）不要渲染。</li>
<li>使标题属性在顶层之外工作（＃1711）。以前，他们只出现在顶层标题元素上。现在，他们工作，例如在块引用。</li>
</ul></li>
<li><p>ODT作家：</p>
<ul>
<li>正确处理没有扩展名的图片（＃1729）。</li>
<li>在ODT中写入查询字符串（＃1682，Todd Sifleet）。</li>
</ul></li>
<li><p>FB2作家：</p>
<ul>
<li>添加换行输出。</li>
</ul></li>
<li><p>EPUB作家：</p>
<ul>
<li>不要将<code>sourceURL</code>添加到绝对URI（＃1669）。</li>
<li>不要为epub2使用不受支持的<code>opf:title-type</code> 。</li>
<li>在导航文档中为epub3（＃1757）包含“地标”部分。</li>
<li>从ncx文件中的导航点元素中删除playOrder（＃1760）。这些不是必需的，而且它们使手工修改epub困难。</li>
<li>甚至从结构化标题中提取标题。</li>
<li>除非<code>--toc</code>被请求，否则不要在nav中包含nav节点。以前，我们把它包含在脊椎中， <code>linear="no"</code> ，导致一些读者产生奇怪的结果（＃1593）。</li>
<li>固定的绝对URI检测（＃1672）。</li>
<li>正确解析相对URI（＃1671）。</li>
<li>为<code>nav.xhtml</code>使用常规页面模板，包括文档类型（＃1759）。</li>
</ul></li>
<li><p>Docx作家：</p>
<ul>
<li>将docx表格标题放在表格上方（＃1641，Nikolay Yakimov）。</li>
<li>从参考docx文件获取页面宽度，并使用它来缩放太大而不适合的图像（GrégoryBataille）。</li>
<li>部分修复＃1607（Nikolay Yakimov）。国际标题样式根据<code>&lt;w:name val="heading #"&gt;</code> fallback推断，如果没有en-US“标题＃”样式</li>
<li>在用户数据目录中查找档案<code>reference.docx</code> 。</li>
<li>重新编号的页眉和页脚关系，以避免碰撞（杰西罗森塔尔）。我们以前在secptr中使用了页眉和页脚的旧关系名称。这导致了碰撞。我们现在在关系文件中创建可用名称的映射，然后在secptr中重命名。</li>
</ul></li>
<li><p>ConTeXt作家：</p>
<ul>
<li>将函数添加到标签（Mark Szepieniec）。这个函数可以用来消毒引用标签，使它们不包含任何非法字符＃[]“，{}％（）| =。目前只有链接的标签已经过消毒，因为它们是使用传递标签的唯一元素。</li>
</ul></li>
<li><p><code>Text.Pandoc。共享</p>
<ul>
<li>移动的进口<code>toChunks</code>的CPP条件（＃1590）外。</li>
<li>修复<code>inDirectory</code>以在发生异常时重置为原始目录（Freiric Barral）。</li>
</ul></li>
<li><p>模板</p>
<ul>
<li>LaTeX模板：在bibtex之前加载polyglossia（jgm / pandoc-templates＃70）。感谢bluebirch。</li>
<li>LaTeX模板：添加<code>\VerbatimFootnotes</code>如果在笔记中有逐字（＃1616）。</li>
<li>LaTeX模板：添加shorthands = off到babel选项（＃1648）。</li>
<li>EPUB，EPUB3模板：在封面主体上添加了<code>id="cover"</code> 。这有助于样式，例如可以在标题页面上设置0页边距（＃1758）。</li>
<li><p>EPUB，EPUB3模板：处理titlepage上的结构化元数据。以前我们只是期待“标题”，“小标题”，“作者”，“日期”。现在我们仍然支持这些，但是也支持在pandoc README中为epub元数据推荐的格式：</p>
<hr>标题<ul>
<li>键入：正文：我的书</li>
<li>键入：字幕文本：调查元数据创建者：</li>
<li>角色：作者文本：约翰·史密斯</li>
<li>作用：编辑文本：Sarah Jones标识符：</li>
<li>方案：DOI文本：doi：10.234234.234 / 33出版者：我的出版权：（c）2007 John Smith，CC BY-NC ...</li>
</ul></li>
</ul></li>
<li><p><code>Text.Pandoc。Templates.getDefaultTemplate</code> ：使用“fb2”调用时不会失败（＃1660）。</p></li>
<li><p><code>Text.Pandoc。分析中</p>
<ul>
<li>修复了<code>inlineMath</code>因此它处理包含<code>$</code> <code>\text{..}</code> 。例如： <code>$x = \text{the $n$th root of $y$}</code> （＃1677）。</li>
<li>如果不是所有的输入都被消耗，则将<code>parseFromString</code>更改为失败。（马修皮克林）</li>
<li>将Markdown阅读器中的<code>addWarning</code>移到了<code>Parsing</code> ，所以可以被更多的读者使用（API变更，Daniel Bergey）。</li>
</ul></li>
<li><p><code>Text.Pandoc。漂亮？</p>
<ul>
<li>改善<code>realLength</code> （Matthew Pickering）的表现。</li>
<li>使CR + BLANKLINE = BLANKLINE。这修复了一个额外的空白行，我们在markdown片段（以及rst，org等）（＃1705）。</li>
</ul></li>
<li><p><code>Text.Pandoc。多用途互联网邮件扩展</p>
<ul>
<li>为WebVTT（Jason Ronallo）添加MIME类型。</li>
<li>将<code>otf</code> mime类型更改为<code>application/vnd.ms-opentype</code> <code>otf</code> （＃1761）。这是epub3验证所需的。</li>
</ul></li>
<li><p><code>Text.Pandoc。MediaBag</code> ：</p>
<ul>
<li>修复Windows特定的路径问题（＃1597）。</li>
</ul></li>
<li><p><code>Text.Pandoc。共享</p>
<ul>
<li>使<code>collapseFilePath</code>操作系统不可知（马修皮克林）。</li>
</ul></li>
<li><p>使用<code>-threaded</code>链接测试套件。这允许测试套件使用<code>+RTS -N</code>运行。</p></li>
<li><p>在测试部分的<code>network-uri</code>标志下增加<code>network</code>依赖。</p></li>
<li><p>当有人试图从pdf，doc，odt（＃1683）转换时，给出更好的错误信息。</p></li>
<li><p>已添加<code>track</code>到由<code>--self-contained</code>的标签列表（＃1664）。</p></li>
</ul>
<h1 id="pandoc-1.13.1-30-aug-2014">pandoc 1.13.1（2014年8月30日）</h1>
<ul>
<li><p>固定<code>--self-contained</code> Windows路径（＃1558）。以前<code>C:\foo.js</code>被错误地解释为一个URI。</p></li>
<li><p>HTML阅读器：改进处理可以阻止或内联的标记。以前像这样的部分将被包含在一个段落中，对于视频标签使用RawInline（因为视频是可以是块或内联的标签）：</p>
<pre><code>&lt;video controls =“controls”&gt; &lt;source src =“../ videos / test.mp4”type =“video / mp4”/&gt; &lt;source src =“../ videos / test.webm”type =“video / webm“/&gt; &lt;p&gt;视频无法在系统上播放。请尝试在Youtube上观看（需要Internet连接）：&lt;a href="http://youtu.be/etE5urBps_w"&gt;相对速度在YouTube上&lt;/a&gt;。&lt;/ p&gt; &lt;/ video&gt;</code></pre>
<p>这个改变将导致视频和源标签被解析为RawBlock，而不是更好的输出。一般的变化是这样的：当我们解析一个“简单”的内联序列时，我们不会解析任何可能成为块级标签的东西。</p></li>
<li><p>Docx阅读器：</p>
<ul>
<li>对用户风格敏感。请注意，“超链接”是“黑名单”，因为我们不希望默认的下划线样式被所有链接继承（Jesse Rosenthal）。</li>
<li>阅读表格单元格单款为<code>Plain</code> （杰西·罗森塔尔）。这使得docx阅读器的本机输出符合Markdown阅读器理解其降价输出的方式。</li>
</ul></li>
<li><p>Txt2Tags阅读器：</p>
<ul>
<li>现在只有在设置了独立标志（Matthew Pickering）时才能解析标题。</li>
<li>标题现在被解析为元信息。第一行是<code>title</code> ，第二行是<code>author</code> ，第三行是<code>date</code> （Matthew Pickering）。</li>
<li>更正了<code>%%mtime</code>宏（Matthew Pickering）的格式。</li>
<li>修正从标准输入读取时崩溃。</li>
</ul></li>
<li><p>纺织作家：扩大使用本地纺织品表格的情况（与原始HTML相反）：我们现在处理任何对齐类型，但只适用于没有标题的简单表格。</p></li>
<li><p>EPUB作者：不要在EPUB2中使用页面进度方向，不支持。另外，如果在元数据中未指定页面进度方向，则即使在EPUB3中也不包括该属性;不包括它，就像我们之前所做的一样，将它包含在“default”中。（＃1550）</p></li>
<li><p>组织作家：开始时接受带缩进的示例行（Calvin Beck）。</p></li>
<li><p>DokuWiki作家：</p>
<ul>
<li>重构使用Reader monad（Matthew Pickering）。</li>
<li>避免在表格单元格中使用原始HTML;相反，使用<code>\\</code>而不是换行符（Jesse Rosenthal）。</li>
<li>正确处理HTML表格单元格对齐，并使用间距使表格看起来更漂亮（＃1566）。</li>
</ul></li>
<li><p>Docx作家：</p>
<ul>
<li>书目作品获得<code>Bibliography</code>风格（＃1559）。</li>
<li>实施变更跟踪（Jesse Rosenthal）。</li>
</ul></li>
<li><p>乳胶作家：</p>
<ul>
<li>修复了导致所有页面重复表格标题的错误（Jose Luis Duran）。</li>
<li>改进了表格中的垂直间距，并使用booktab设置的标准长度进行定制。请参阅<a href="https://groups.google.com/forum/#!msg/pandoc-discuss/qMu6_5lYy0o/ZAU7lzAIKw0J" class="uri">https://groups.google.com/forum/#!msg/pandoc-discuss/qMu6_5lYy0o/ZAU7lzAIKw0J（Jose</a> Luis Duran）。</li>
<li>增加<code>\strut</code>来修复多行表中的间距（Jose Luis Duran）。</li>
<li>在表格单元中使用<code>\tabularnewline</code>而不是<code>\\</code> （Jose Luis Duran）。</li>
<li>使横向规则更加灵活（Jose Luis Duran）。</li>
</ul></li>
<li><p>Text.Pandoc。多用途互联网邮件扩展</p>
<ul>
<li>添加了<code>MimeType</code> （ <code>String</code>类型的同义词）和<code>getMimeTypeDef</code> 。代码清理（阿尔乔姆哈萨克）。</li>
</ul></li>
<li><p>模板</p>
<ul>
<li>乳胶模板：禁用打字机字体（＃1549，感谢lemzwerg）的微型突起。</li>
</ul></li>
<li><p>改进的OSX构建过程。</p></li>
<li><p>增加了<code>network-uri</code>标志，处理来自<code>network</code>的<code>network-uri</code>拆分。</p></li>
<li><p>修复<code>trypandoc</code>标志的构建依赖关系，以便在<code>trypandoc</code>标志设置为False（Gabor Pali）时忽略它们。</p></li>
<li><p>更新了自述文件，以删除过时的声明，即<code>--self-contained</code>在用户数据目录中查找丢失的文件。</p></li>
</ul>
<h1 id="pandoc-1.13.0.1-17-august-2014">pandoc 1.13.0.1（2014年8月17日）</h1>
<ul>
<li><p>Docx作家：</p>
<ul>
<li>修正了妨碍列表编号（＃1544）的回归，导致所有列表显示为基本的有序列表。</li>
<li>在表格行中加入行宽（Christoffer Ackelman，Viktor Kronvall）。在pct中指定列宽总和的所有表行中添加了一个属性（小数部分为5000）。这有助于说服Word使用我们指定的宽度布局表格。</li>
</ul></li>
<li><p>修复了Windows 8中导致pandoc无法找到<code>pandoc-citeproc</code>过滤器（＃1542）的错误。</p></li>
<li><p>Docx读者：杂项内部改进（Jesse Rosenthal）。最重要的是，读者现在使用Builder，导致一些性能改进。</p></li>
<li><p>HTML阅读器：像SmallCaps一样分析合适的样式。</p></li>
<li><p>降价作家：当<code>tex_math_dollars</code> ， <code>superscript</code>和<code>subscript</code>扩展分别被禁用（＃1127）时，不要逃避<code>$</code> ， <code>^</code> ， <code>~</code> 。</p></li>
<li><p>添加了<code>trypandoc</code>标志来构建在线演示中使用的CGI可执行文件。</p></li>
<li><p>Makefile：添加了“快速”，“osxpkg”目标。</p></li>
<li><p>更新模板中的自述文件以指示模板许可证。模板是双重许可的，BSD3和GPL2 +。</p></li>
</ul>
<h1 id="pandoc-1.13-15-august-2014">pandoc 1.13（2014年8月15日）</h1>
<h2 id="new-features-2">新功能</h2>
<ul>
<li><p>添加了<code>docx</code>作为输入格式（Jesse Rosenthal）。docx阅读器包括本地Word方程到pandoc LaTeX <code>Math</code>元素的转换。元数据取自文档开头的段落，样式为“ <code>Author</code> ，“ <code>Title</code> ，“ <code>Subtitle</code> ，“ <code>Date</code> ”和“ <code>Abstract</code> 。</p></li>
<li><p>添加<code>epub</code>作为输入格式（Matthew Pickering）。epub阅读器包括MathML到pandoc LaTeX <code>Math</code>元素的转换。</p></li>
<li><p>添加了<code>t2t</code> （Txt2Tags）作为输入格式（Matthew Pickering）。Txt2tags是一种轻量级标记格式，在<a href="http://txt2tags.org/" class="uri">http://txt2tags.org/中有</a>描述。</p></li>
<li><p>添加了<code>dokuwiki</code>作为输出格式（克莱尔麦克雷）。</p></li>
<li><p>添加了<code>haddock</code>作为输出格式。</p></li>
<li><p>增加了<code>--extract-media</code>选项来提取包含在一个zip容器（docx或epub）中的媒体，同时调整图像路径以指向提取的图像。</p></li>
<li><p>添加了一个新的markdown扩展<code>compact_definition_lists</code> ，它恢复了pandoc 1.12.x定义列表的语法，允许在项目之间没有空白的严格定义列表，并且禁止延迟包装。（请参阅下面的行为变化。）</p></li>
<li><p>增加了一个扩展<code>epub_html_exts</code>在的EPUB解析HTML。</p></li>
<li><p>添加了扩展<code>native_spans</code>和<code>native_divs</code>来激活HTML span或div标签中的材质解析为Pandoc跨度内联或Div块。</p></li>
<li><p><code>--trace</code> Markdown，HTML，Haddock，EPUB，Textile和MediaWiki读者。这是一个用于调试解析问题的选项。普通用户不需要使用它。</p></li>
</ul>
<h2 id="behavior-changes-2">行为模式的改变</h2>
<ul>
<li><p>更改了<code>markdown_attribute</code>扩展的行为，使其符合PHP markdown extra和multimarkdown。在外部标签上设置<code>markdown="1"</code>会递归地影响所有包含的标签，直到它被<code>markdown="0"</code> （＃1378）反转为止。</p></li>
<li><p>修订的降价定义列表语法（＃1429）。读者和作者都受到影响。这个变化将pandoc的定义列表语法与PHP markdown extra和multimarkdown中使用的语法对齐（除了pandoc对定义标记更灵活，允许使用撇号和冒号）。懒惰的包装定义现在被允许。列表项目之间需要空格。定义之前的空间用于确定它是段落还是“普通”元素。<strong>警告：此更改可能会破坏现有文档！</strong> 请检查您的文档是否在定义列表中没有项目之间的空白区域，或者对旧行为使用<code>markdown+compact_definition_lists</code> 。</p></li>
<li><p><code>.numberLines</code>现在工作在围栏代码块，即使没有语言（＃1287，jgm / highlighting-kate＃40）。</p></li>
<li><p>对<code>--filter</code>改进：</p>
<ul>
<li>不要搜索具有显式路径的过滤器的PATH。这修复了一个错误 - 即使工作目录中有<code>caps.py</code> ，-- <code>--filter ./caps.py</code>也会从系统路径运行<code>caps.py</code></li>
<li>如果过滤器可执行，请尊重shebang（＃1389）。</li>
<li>不要打印误导性的错误信息。以前，即使在过滤器有语法错误的情况下，pandoc也会说没有找到过滤器。</li>
</ul></li>
<li><p>HTML阅读器：</p>
<ul>
<li>解析<code>div</code>和<code>span</code>元素，即使没有<code>--parse-raw</code> ，只要设置了<code>native_divs</code>和<code>native_spans</code>扩展。动机：现在生成原生的pandoc Div和Span元素，而不是原始的HTML。</li>
<li>如果启用了<code>epub_html_exts</code>扩展，则解析EPUB特定的元素。这些包括<code>switch</code> ， <code>footnote</code> ， <code>rearnote</code> ， <code>noteref</code> 。</li>
</ul></li>
<li><p>组织读者：</p>
<ul>
<li>支持内联的LaTeX。内联LaTeX现在被组织模式阅读器接受和分析。数学符号（如<code>\tau</code> ）和LaTeX命令（如<code>\cite{Coffee}</code> ）都可以使用，而不需要进一步转义（Albert Krewinkel）。</li>
</ul></li>
<li><p>纺织品读者和作家：</p>
<ul>
<li><code>raw_tex</code>扩展名默认不再设置。您可以使用<code>textile+raw_tex</code>启用它。</li>
</ul></li>
<li><p>DocBook阅读器：</p>
<ul>
<li>支持<code>equation</code> ， <code>informalequation</code> ， <code>inlineequation</code>的元素<code>mml:math</code>内容。这被转换成LaTeX并将其放入内联的Pandoc Math中。</li>
</ul></li>
<li><p>修改后的<code>plain</code>输出，主要遵循古腾堡计划的风格：</p>
<ul>
<li>重点是<code>_underscores_</code> ，强调所有<code>_underscores_</code>强调。</li>
<li>标题呈现的方式不同，有空间来设置它们，而不是setext风格的下划线。1级标题是全部大写。</li>
<li>在可能的情况下，使用unicode来呈现数学，但不要在变量周围分散注意力。</li>
<li>脚注使用常规的<code>[n]</code>风格。</li>
</ul></li>
<li><p>减价作家：</p>
<ul>
<li>横向规则现在是整个页面上的一条线。</li>
<li>漂亮的管道表。列现在对齐（＃1323）。</li>
<li>尊重<code>raw_html</code>扩展。 <code>pandoc -t markdown-raw_html</code>不再发出任何原始HTML，包括由Span和Div元素生成的span和div标签。</li>
<li>对<code>SmallCaps</code> （＃1360）使用样式的跨度。</li>
</ul></li>
<li><p>HTML编写器：</p>
<ul>
<li>自动链接现在有类<code>uri</code> ，电子邮件自动链接有班级<code>email</code> ，所以他们可以风格。</li>
</ul></li>
<li><p>Docx作家：</p>
<ul>
<li>文档格式从<code>reference.docx</code>继承。这包括页边距，页面大小，页面方向，页眉和页脚，包括页眉和页脚中的图像。</li>
<li>包括抽象（如果存在）与<code>Abstract</code>风格（＃1451）。</li>
<li>包括副标题（如果存在）和<code>Subtitle</code>样式，而不是将其添加到标题（＃1451）。</li>
</ul></li>
<li><p>组织作家：</p>
<ul>
<li>写一个id属性作为组织锚的空span元素。例如<code>Span ("uid",[],[]) []</code>变成<code>&lt;&lt;uid&gt;&gt;</code> 。</li>
</ul></li>
<li><p>乳胶作家：</p>
<ul>
<li>将表格标题放在表格上方，以符合常规标准。（以前他们出现在桌子下面）</li>
<li>内联数学使用<code>\(..\)</code>而不是<code>$..$</code> （＃1464）。</li>
<li>在电子邮件自动<code>\nolinkurl</code>中使用<code>\nolinkurl</code> 。这允许他们使用<code>\urlstyle{tt}</code>来设计风格。感谢Ulrike Fischer提供的解决方案。</li>
<li>使用<code>\textquotesingle</code>为<code>'</code>内联代码。否则，我们会在PDF输出中获得卷曲的引号（＃1364）。</li>
<li>使用<code>\footnote&lt;.&gt;{..}</code>作为投影仪中的笔记，以便脚注不出现在其标记出现的叠加之前（＃1525）。</li>
<li>不要为Div或Span元素生成<code>\label{..}</code> 。做一个<code>\hyperdef{..}</code> （＃1519）。</li>
</ul></li>
<li><p>EPUB作家：</p>
<ul>
<li>如果元数据包括<code>page-progression-direction</code> （可以是<code>ltr</code>或<code>rtl</code> ， <code>page-progression-direction</code>属性将被设置在EPUB主干中（＃1455）。</li>
</ul></li>
<li><p>习惯lua作家：</p>
<ul>
<li>自定义作家现在使用 - <code>--template</code> 。</li>
<li>从<code>sample.lua</code>删除了HTML标头脚手架。</li>
<li>引用lua作者的信息。</li>
</ul></li>
<li><p><code>--normalize</code>和<code>Text.Pandoc。Shared.normalize</code>现在可以合并相邻的<code>RawBlock</code> 。</p></li>
</ul>
<h2 id="api-changes-2">API更改</h2>
<ul>
<li><p>新增<code>Text.Pandoc。阅读器，Docx</code> ，导出<code>readDocx</code> （Jesse Rosenthal）。</p></li>
<li><p>新增<code>Text.Pandoc。阅读器，EPUB</code> ，出口<code>readEPUB</code> （Matthew Pickering）。</p></li>
<li><p>新增<code>Text.Pandoc。阅读器，Txt2Tags</code> ，导出<code>readTxt2Tags</code> （Matthew Pickering）。</p></li>
<li><p>新增<code>Text.Pandoc。编剧DokuWiki</code> ，出口<code>writeDokuWiki</code> （克莱尔麦克雷）。</p></li>
<li><p>新增<code>Text.Pandoc。编剧Haddock</code> <code>writeHaddock</code>出口<code>writeHaddock</code> 。</p></li>
<li><p>新增<code>Text.Pandoc。MediaBag</code> ，导出<code>MediaBag</code> ， <code>lookupMedia</code> ， <code>insertMedia</code> ， <code>mediaDirectory</code> ， <code>extractMediaBag</code> 。docx和epub阅读器返回一对<code>Pandoc</code>文档和<code>MediaBag</code>以及它们包含的媒体资源。这可以使用<code>--extract-media</code>来<code>--extract-media</code> 。包含媒体（PDF，Docx，ODT，EPUB，RTF或HTML格式， <code>--self-contained</code> ）的作者将除了文件系统或Web以外，还会在阅读器生成的<code>MediaBag</code>查找资源。</p></li>
<li><p><code>Text.Pandoc。阅读器，TexMath</code> ：删除不赞成使用的<code>readTeXMath</code> 。更名<code>readTeXMath'</code>到<code>texMathToInlines</code> 。</p></li>
<li><p><code>Text.Pandoc</code> ：增加了<code>Reader</code>数据类型（Matthew Pickering）。 <code>readers</code>现在将阅读<code>Reader</code>名称与<code>Reader</code>结构关联起来。这允许包含读者，如docx读者，采取二进制而不是文本输入。</p></li>
<li><p><code>Text.Pandoc。共享</p>
<ul>
<li>增加了<code>capitalize</code> （Artyom <code>map toUpper</code> ），并替换了使用<code>map toUpper</code> （这给很多语言带来不好的结果）。</li>
<li>添加了<code>collapseFilePath</code> ，它删除了中间值<code>.</code>和<code>..</code>从路径（太皮克林）。</li>
<li>新增<code>fetchItem'</code> ，它像<code>fetchItem</code>一样<code>fetchItem</code>但在查看网络或文件系统之前先搜索<code>MediaBag</code> 。</li>
<li>添加了<code>withTempDir</code> 。</li>
<li>增加了<code>removeFormatting</code> 。</li>
<li>添加<code>extractSpaces</code> （来自HTML阅读器）并将其类型进行了概括，以便docx阅读器（Matthew Pickering）可以使用它。</li>
<li>增加了<code>ordNub</code> 。</li>
<li>添加了<code>normalizeInlines</code> ， <code>normalizeBlocks</code> 。</li>
<li><code>normalize</code>现在是<code>Pandoc -&gt; Pandoc</code>而不是<code>Data a :: a -&gt; a</code> 。有些用户可能需要将其<code>normalize</code>的用法更改为新导出的<code>normalizeInlines</code>或<code>normalizeBlocks</code> 。</li>
</ul></li>
<li><p><code>Text.Pandoc。选项）</p>
<ul>
<li><code>writerMediaBag</code>中增加了<code>WriterOptions</code> 。</li>
<li>删除过时，不再使用<code>readerStrict</code>在<code>ReaderOptions</code> 。这是由<code>readerExtensions</code>现在处理的。</li>
<li>增加了<code>Ext_compact_definition_lists</code> 。</li>
<li>增加了<code>Ext_epub_html_exts</code> 。</li>
<li>增加了<code>Ext_native_divs</code>和<code>Ext_native_spans</code> 。这允许用户关闭在markdown和HTML中将div和span标记的内容解析为默认的pandoc行为，如本地pandoc Div块和跨度内联。</li>
</ul></li>
<li><p><code>Text.Pandoc。分析中</p>
<ul>
<li>广义<code>readWith</code>与<code>readWithM</code> （马修皮克林）。</li>
<li>导出<code>runParserT</code>和<code>Stream</code> （Matthew Pickering）。</li>
<li>增加了<code>HasQuoteContext</code>类型类（Matthew Pickering）。</li>
<li><code>mathInline</code> ， <code>smartPunctuation</code> ， <code>quoted</code> ， <code>singleQuoted</code> ， <code>doubleQuoted</code> ， <code>failIfInQuoteContext</code> ， <code>applyMacros</code> （Matthew Pickering）的一般化类型。</li>
<li>添加了自定义<code>token</code> （Matthew Pickering）。</li>
<li>新增<code>stateInHtmlBlock</code>到<code>ParserState</code> 。这用于跟踪我们在HTML块标签内解析时等待的结束标签。</li>
<li>新增<code>stateMarkdownAttribute</code>到<code>ParserState</code> 。这用于跟踪markdown属性是否被设置在封闭标签中。</li>
<li><code>HasReaderOptions</code>类型的<code>registerHeader</code> ，使用新类型<code>HasReaderOptions</code> ， <code>HasIdentifierList</code> ， <code>HasHeaderMap</code> （Matthew Pickering）。这些允许某些常用函数在使用自定义状态（而不是<code>ParserState</code> ）的解析器中重用，如MediaWiki阅读器。</li>
<li>将<code>inlineMath</code> ， <code>displayMath</code>从Markdown阅读器移到Parsing，并将其类型（Matthew Pickering）进行了概括。</li>
</ul></li>
<li><p><code>Text.Pandoc。漂亮？</p>
<ul>
<li>添加了<code>nestle</code> 。</li>
<li>加入<code>blanklines</code> ，这保证了一定数量的空行（并没有更多）。</li>
</ul></li>
</ul>
<h2 id="bug-fixes-1">Bug修复</h2>
<ul>
<li><p>降价阅读器：</p>
<ul>
<li>修复了列表项中缩进代码的解析。列表项开始处的缩进代码必须从边距（或容器的边缘）缩进八个空格，或者从列表标记中取四个空格，以较大者为准。</li>
<li>修复了使用<code>markdown_attribute</code>进行HTML解析的一个小错误，这个错误导致了像<code>&lt;aside markdown="1"&gt;*hi*&lt;/aside&gt;</code>这样的输入错误的标记嵌套。</li>
<li>使用内部字下划线固定回归（＃1121）。</li>
<li>改进了对包含引号字符的内联链接的解析（＃1534）。</li>
<li>轻微重写<code>enclosure</code> / <code>emphOrStrong</code>或<code>emphOrStrong</code>代码。</li>
<li>通过降价（＃1330）改进原始HTML块解析。我们不再在原始块中包含尾随空格和换行符。我们寻找元素的结束标签（但没有回溯）。每个块级标签都是自己的<code>RawBlock</code> ;我们不再试图巩固他们（虽然 - <code>--normalize</code>会这样做）。</li>
<li>结合连续的胶乳环境。当你有两个不能在它们之间留有空行的小片段时，这会有所帮助（＃690，＃1196）。</li>
<li>通过跨度支持smallcaps。 <code>&lt;span style="font-variant:small-caps;"&gt;foo&lt;/span&gt;</code>将被解析为<code>SmallCaps</code>内联，并且将支持所有支持小型大写字母的输出格式（＃1360）。</li>
<li>在列表项之后防止虚假的换行符（＃1137）。当指定<code>hard_line_breaks</code>选项时，pandoc以前会在严格的列表项目之后产生虚假的换行符。</li>
<li>固定表解析错误（＃1333）。</li>
<li>处理<code>c++</code>和<code>objective-c</code>作为github风格的围栅块（＃1318）中的语言标识符。</li>
<li>内联数学在最终<code>$</code> （＃1313）之前必须有非空格。</li>
</ul></li>
<li><p>乳胶读者：</p>
<ul>
<li>在表格末尾处理注释。这解决了<a href="http://stackoverflow.com/questions/24009489" class="uri">http://stackoverflow.com/questions/24009489中</a>所述的问题。</li>
<li>正确处理单元格太少的表格行。乳胶似乎把它们看作是最后有空单元（＃241）。</li>
<li>更好地处理<code>\emph</code>前导/尾随空格。 <code>\emph{ hi }</code>被解析为<code>[Space, Emph [Str "hi"], Space]</code>这样我们就不会在降价输出中得到类似<code>* hi *</code>东西。也适用于<code>\textbf</code>和其他一些结构（＃1146）。</li>
<li>不要假定前导码不包含环境（＃1338）。</li>
<li>允许（并放弃） <code>\caption</code>可选参数（James Aspnes）。</li>
</ul></li>
<li><p>HTML阅读器：</p>
<ul>
<li>修复了HTML表格的主要解析问题。表格细胞被合并成一个细胞（＃1341）。</li>
<li>修复了格式不正确的HTML表格的性能问题。我们让<code>&lt;/table&gt;</code>标签关闭一个打开的<code>&lt;tr&gt;</code>或<code>&lt;td&gt;</code> （＃1167）。</li>
<li>允许<code>&lt;col&gt;</code>和<code>&lt;/col&gt;</code>之间的空格。</li>
<li>在<code>eitherBlockOrInline</code>添加<code>audio</code>和<code>source</code> 。</li>
<li>将<code>video</code> ， <code>svg</code> ， <code>progress</code> ， <code>script</code> ，无<code>noscript</code> ， <code>svg</code>从<code>blockTags</code>到了<code>eitherBlockOrInline</code> 。</li>
<li><code>map</code>和<code>object</code>被错误地列入这两个列表中;他们已经从<code>blockTags</code>删除。</li>
<li>忽略<code>DOCTYPE</code>和<code>xml</code>声明。</li>
</ul></li>
<li><p>MediaWiki阅读器：</p>
<ul>
<li>不要在<code>&lt;source&gt;</code>里解析反斜杠转义（＃1445）。</li>
<li>收紧模板解析。开头<code>{{</code>后面必须跟一个字母数字或<code>:</code> 。这可以防止＃1033中的指数减速。</li>
<li>支持“图片”的图像。</li>
</ul></li>
<li><p>DocBook阅读器：</p>
<ul>
<li>更好地处理代码环境中的元素。Pandoc的文档模型不允许内部代码块结构，但至少这样我们保留文本（＃1449）。</li>
<li>支持<code>&lt;?asciidoc-BR？00:10:01,177 --&gt; 00:10:02,594</li>
</ul></li>
<li><p>纺织阅读器：</p>
<ul>
<li>固定列表解析。列表现在可以在没有插入空行的情况下启动（＃1513）。</li>
<li>不启动行的HTML块级别标记被解析为内联HTML，并且不会中断段落（如RedCloth）。</li>
</ul></li>
<li><p>组织读者：</p>
<ul>
<li>使用代字符创建内联代码（＃1345）。另外还有重新标记的<code>code</code>和<code>verbatim</code>解析器，以符合组织模式手册。</li>
<li>尊重<code>:exports</code>代码块中的头文件参数（Craig Bosma）。</li>
<li>修正了包含子列表的紧张列表（＃1437）。</li>
</ul></li>
<li><p>EPUB作家：</p>
<ul>
<li>在<code>nav.xhtml</code>避免多余的空格。这应该会改善iBooks中的TOC视图（＃1392）。</li>
<li>修正封面图像的回归。在1.12.4和1.12.4.2中，封面图片不能正确显示，因为元数据ID不正确。现在我们从实际的封面图像文件名中得到id，而不是使用“cover-image”。</li>
<li>保留块元素之间的换行符。这允许更容易的差异（＃1424）。</li>
<li>使用<code>stringify</code>而不是自定义的<code>plainify</code> 。</li>
<li>使用<code>renderTags'</code>进行所有标记渲染。这正确处理了应该自动关闭的标签。以前， <code>&lt;hr/&gt;</code>会在EPUB输出中显示为<code>&lt;hr&gt;&lt;/hr&gt;</code> （＃1420）。</li>
<li>更好地处理HTML媒体标签。</li>
<li>处理多个日期与OPF <code>event</code>属性。注意：在EPUB3中，我们只能有一个dc：date，所以只使用第一个。</li>
</ul></li>
<li><p>乳胶作家：</p>
<ul>
<li>正确处理笔记中的数字。注意不能在LaTeX中包含数字，所以我们假装它来避免错误（＃1053）。</li>
<li>固定删除+突出显示的代码（＃1294）。先前的三振出现代码导致了一个错误。</li>
</ul></li>
<li><p>ConTeXt作家：</p>
<ul>
<li>改进了包含转义URL的自动链接检测。</li>
</ul></li>
<li><p>RTF作家：</p>
<ul>
<li>现在使用改进的图像嵌入： <code>fetchItem'</code>来获取图像，并且计算出的图像尺寸在RTF中被指示。</li>
<li>避免元数据中多余的段落标签（＃1421）。</li>
</ul></li>
<li><p>HTML编写器：</p>
<ul>
<li>关闭幻灯片音符（＃1394）中的“增量”。</li>
<li>不要在幻灯片的目录中包含空白项目。（这些将使用横向规则创建幻灯片。）</li>
</ul></li>
<li><p>MediaWiki作家：</p>
<ul>
<li>对<code>st</code>前缀名称进行小的重命名。</li>
</ul></li>
<li><p>AsciiDoc作家：</p>
<ul>
<li>根据asciidoc的要求（＃1441），在内部字上下文中加重重点和强调重点标记。</li>
</ul></li>
<li><p>减价作家：</p>
<ul>
<li>避免包装，可能会开始一个列表，blockquote，或标题（＃1013）。</li>
<li>使用跨度，而不是（hackish的） <code>SmallCaps</code>在<code>plainify</code> 。</li>
<li>不要使用围栏代码的括号属性（＃1416）。如果没有设置<code>Ext_fenced_code_attributes</code> ，则第一个类的属性将在打开栅栏后打印为<code>Ext_fenced_code_attributes</code>字。</li>
<li>用HTML注释分隔相同类型的相邻列表（＃1458）。</li>
</ul></li>
<li><p>PDF作家：</p>
<ul>
<li>修正了图像数据uris的处理（＃1062）。</li>
</ul></li>
<li><p>Docx作家：</p>
<ul>
<li>对于空表格单元使用紧凑样式（＃1353）。否则，如果有空白表格单元格，而其他单元格是紧凑的，则会显得过高。</li>
<li>为<code>media/</code>参考docx创建每个图像的覆盖。这应该是更强大一些，涵盖更多类型的图像。</li>
<li>改进的<code>entryFromArchive</code>避免不必要的解析。</li>
<li>部分编号从reference.docx（＃1305）继承。</li>
<li>简化的<code>abstractNumId</code>编号。我们不是按顺序编号，而是根据列表标记样式来分配数字。</li>
</ul></li>
<li><p><code>Text.Pandoc。选项）</p>
<ul>
<li>从<code>markdown_github</code>扩展中删除了<code>Ext_fenced_code_attributes</code> 。</li>
</ul></li>
<li><p><code>Text.Pandoc。图像大小</p>
<ul>
<li>如果在exif标题（＃1358）中找不到图像大小，请使用默认值而不是失败。</li>
<li>忽略未知的exif头标记而不是崩溃。有些图像似乎有256的标签类型，这是导致运行时错误。</li>
</ul></li>
<li><p><code>Text.Pandoc。共享</p>
<ul>
<li><code>fetchItem</code> ：读取本地文件之前的unescape URI编码（＃1427）。</li>
<li><code>fetchItem</code> ： <code>fetchItem</code>一个片段<code>?在做mime查找之前，从扩展名#iefix</code> ，提高mime类型的猜测。</li>
<li><code>fetchItem</code>改进逻辑：绝对URI从网络中获取;如果<code>sourceURL</code>是<code>Just _</code> ，则其他事物将被视为相对URI，否则作为本地文件系统上的文件路径。</li>
<li><code>fetchItem</code>现在可以正确处理没有协议的链接（＃1477）。</li>
<li>在尝试解析URI之前， <code>fetchItem</code>现在会转义URI中不允许的字符。</li>
<li>修正了某些列表上的<code>compactify'DL</code>运行时错误（＃1452）。</li>
</ul></li>
<li><p><code>pandoc.hs</code> ：不要剥离<code>writerSourceURL</code>的路径：当我们获取资源（＃750）时，需要路径来解析相对URL。</p></li>
<li><p><code>Text.Pandoc。分析中</code></p>
<ul>
<li>简化的<code>dash</code>和<code>ellipsis</code> （＃1419）。</li>
<li>删除<code>(&gt;&gt;~)</code>赞成相当于<code>(&lt;*)</code> （马修皮克林）。</li>
<li>广义函数使用<code>ParsecT</code> （Matthew Pickering）。</li>
<li>将<code>isbn</code>和<code>pmid</code>添加到已识别方案列表（Matthew Pickering）中。</li>
</ul></li>
</ul>
<h2 id="template-changes-1">模板更改</h2>
<ul>
<li>添加了黑线鳕模板。</li>
<li>EPUB3：添加了<code>link</code>标签的<code>type</code>属性。他们应该是在HTML5“咨询”，但kindlegen似乎需要他们。</li>
<li>EPUB3：将标题页放入<code>epub:type="titlepage"</code> 。</li>
<li>LaTeX：Made <code>\subtitle</code>正常工作（＃1327）。</li>
<li>LaTeX / Beamer：去除日期条件（＃1321）。</li>
<li>LaTeX：添加了<code>lot</code>变量和<code>lof</code>变量，可以设置为<code>\listoftables</code>和<code>\listoffigures</code> （＃1407）。请注意，可以在命令行中使用<code>-Vlot -Vlof</code>或在YAML元数据中设置这些变量。</li>
</ul>
<h2 id="under-the-hood-improvements-1">在引擎盖改进之下</h2>
<ul>
<li><p>改写正常化的效率（＃1385）。</p></li>
<li><p>重写了Haddock阅读器使用<code>haddock-library</code> （＃1346）。</p>
<ul>
<li>这带来了潘多克的黑线鳕标记渲染符合新的黑线鳕。</li>
<li>固定<code>@</code>代码块中的换行符。</li>
<li>亚历克斯和快乐不再是建立。</li>
</ul></li>
<li><p>新增<code>Text.Pandoc。{0}{1}compat{/1}{/0} :Directory</code>允许建立针对不同版本的<code>directory</code>库。</p></li>
<li><p>新增<code>Text.Pandoc。{0}{1}compat{/1}{/0} :Except</code>允许建立对<code>mtl</code>不同版本。</p></li>
<li><p>代码清理在一些作家，使用Reader monad来避免传递选项参数（Matej Kollar）。</p></li>
<li><p>在<code>pandoc.hs</code>提高了可读性。</p></li>
<li><p>杂项代码清理（阿尔乔姆哈萨克）。</p></li>
<li><p>避免<code>import Prelude hiding (catch)</code> （＃1309，感谢迈克尔·汤普森）。</p></li>
<li><p>将<code>http-conduit</code>标志更改为<code>https</code> 。取决于<code>http-client</code>和<code>http-client-tls</code>而不是<code>http-conduit</code> 。（注意：pandoc仍然依赖于通过<code>yaml</code> <code>conduit</code> 。）</p></li>
<li><p>需要<code>highlighting-kate &gt;= 0.5.8.5</code> （＃1271，＃1317，Debian＃753299）。这个突出显示Kate的改变意味着PHP片段不再需要以<code>&lt;?开头<code>&lt;?[PHP]它还修复了导致ocaml和fsharp失败的严重错误。</p></li>
<li><p>要求最新<code>texmath</code> 。这解决了<code>\tilde{E}</code>并且允许<code>\left</code>与其一起使用<code>]</code> ， <code>)</code>等（＃1319），许多其他的改进中。</p></li>
<li><p>要求最新的<code>zip-archive</code> 。这有修复unicode路径名称。</p></li>
<li><p>增加了对普通作家的测试。</p></li>
<li><p><code>Text.Pandoc。模板</p>
<ul>
<li>在模板语法错误信息失败。随着从parsec到attoparsec，我们失去了良好的错误报告。事实上，由于我们没有对输入结束进行测试，所以格式错误的模板会自动失败。这里我们回到Parsec来获得更好的错误信息。</li>
<li>使用<code>ordNub</code> （＃1022）。</li>
</ul></li>
<li><p>2.2 基准</p>
<ul>
<li>制定基准再次编译（阿尔乔姆哈萨克）。</li>
<li>固定，以便一个基准的失败并不妨碍他人运行（阿尔乔姆哈萨克）。</li>
<li>使用<code>nfIO</code>而不是<code>getLength</code>技巧来强制完整评估。</li>
<li>将基准更改为仅使用测试套件，以便基准运行更快。</li>
</ul></li>
<li><p>Windows生成脚本：</p>
<ul>
<li>添加 - <code>-windows</code>到文件名。</li>
<li>对于pandoc使用一个安装命令，pandoc-citeproc。</li>
<li>强制安装pandoc-citeproc。</li>
</ul></li>
<li><p><code>make_osx_package</code> ：调用zip文件<code>pandoc-VERSION-osx.zip</code> 。该zip不应该被命名为<code>SOMETHING.pkg.zip</code> ，或者OSX finder会将其解压到一个名为<code>SOMETHING.pkg</code>的文件夹中，它将被解释为一个有缺陷的软件包（＃1308）。</p></li>
<li><p><code></code>
						请看这里
					</p>
<ul>
<li>为所有分机制作标题，以便他们有身份证，并可以链接到（Beni Cherniavsky-Paskin）。</li>
<li>修正了拼写错误（Phillip Alday）。</li>
<li>修正了属性的文档（＃1315）。</li>
<li>澄清小型文件（＃1360）。</li>
<li><code>fenced_code_attributes</code>扩展（Caleb McDaniel）更好的文档。</li>
<li>记载事实，你可以把YAML元数据放在一个单独的文件（＃1412）。</li>
</ul></li>
</ul>
<h1 id="pandoc-1.12.4.2-14-may-2014">pandoc 1.12.4.2（2014年5月14日）</h1>
<ul>
<li><p>需要突出显示kate&gt; = 0.5.8。修复了性能回归。</p></li>
<li><p>共享： <code>addMetaValue</code>现在的行为稍有不同：如果新值和旧值都是列表，则将其内容连接起来形成一个新列表。</p></li>
<li><p>乳胶读者：</p>
<ul>
<li>在<code>\bibliography</code>或<code>\addbibresource</code>命令的元数据中设置<code>bibliography</code> 。</li>
<li>不要在<code>%foo</code>上出错，不要在换行符后面。</li>
</ul></li>
<li><p>组织读者：</p>
<ul>
<li>支持代码块标题（ <code>#+BEGIN_SRC ...</code> ）（Albert Krewinkel）。</li>
<li>修复块内空白行的解析（Albert Krewinkel）。</li>
<li>支持pandoc引用扩展（Albert Krewinkel）。这可以通过指定<code>org-citation</code>作为输入格式来关闭。</li>
</ul></li>
<li><p>降价阅读器：</p>
<ul>
<li><code>citeKey</code>移至<code>Text.Pandoc。Parsing</code>所以可以被其他读者使用（Albert Krewinkel）。</li>
</ul></li>
<li><p><code>Text.Pandoc。分析中</p>
<ul>
<li>添加了<code>citeKey</code> （见上文）。</li>
<li>增加了<code>HasLastStrPosition</code>类型的类和<code>updateLastStrPos</code>和<code>notAfterString</code>函数。</li>
</ul></li>
<li><p>更新版权声明（Albert Krewinkel）。</p></li>
<li><p>为数据文件添加了default.icml，以便与包一起安装。</p></li>
<li><p>OSX包：</p>
<ul>
<li>这个二进制文件现在用选项构建，以确保它可以与OSX 10.6+一起使用。</li>
<li>将OSX包材料移至osx目录。</li>
<li>添加了包含在zip容器中的OSX包卸载脚本（感谢Daniel T. Staal）。</li>
</ul></li>
</ul>
<h1 id="pandoc-1.12.4-07-may-2014">pandoc 1.12.4（2014年5月7日）</h1>
<ul>
<li><p>使运行不可执行的过滤器成为可能（＃1096）。Pandoc首先尝试查找可执行文件（如果未指定路径，则搜索路径）。如果失败，但该文件存在且具有<code>.py</code> ， <code>.pl</code> ， <code>.rb</code> ， <code>.hs</code>或<code>.php</code>扩展名，则pandoc将使用适当的解释器运行该过滤器。这应该使在Windows上使用过滤器变得更容易，并且使每个人都更方便。</p></li>
<li><p>增加了Emacs组织模式阅读器（Albert Krewinkel）。</p></li>
<li><p>添加了InDesign ICML Writer（mb21）。</p></li>
<li><p>MediaWiki阅读器：</p>
<ul>
<li>接受更多语言的图片链接（JaimeMarquínezFerrándiz）。</li>
<li>修正了某些嵌套列表中的错误（＃1213）。如果一个二级清单之后是一级清单，那么一级清单的第一个项目将会丢失。</li>
<li>处理仅包含HTML注释的表格行（＃1230）。</li>
</ul></li>
<li><p>乳胶读者：</p>
<ul>
<li>提供更好的错误位置信息，指向包含文件中的行号（＃1274）。</li>
<li>LaTeX阅读器：更好地处理<code>table</code>环境（＃1204）。定位选项不再逐字呈现。</li>
<li>更好地处理带有标题的图形和表格（＃1204）。</li>
<li>以表格形式处理<code>@{}</code>和<code>p{length}</code> 。长度实际上没有记录，但至少我们得到一个表（＃1180）。</li>
<li>妥善处理<code>\nocite</code> 。它现在添加了一个<code>nocite</code>元数据字段。那里的引用将会出现在参考书目中，但不会出现在文本中（除非你明确地把<code>$nocite$</code>变量放在你的模板中）。</li>
</ul></li>
<li><p>降价阅读器：</p>
<ul>
<li>确保YAML元数据中的整数不带小数点。（对于aeson和yaml库的变化，这是必要的，现在需要aeson&gt; = 0.7，yaml&gt; = 0.8.8.2）。</li>
<li>在严格模式下修正换行符（＃1203）。</li>
<li>小的效率改进。</li>
<li>改进了对嵌套<code>div</code>的解析。以前如果紧跟在其他块级别的标签之后，则会错过关闭的<code>div</code>标签。</li>
<li>关闭<code>&lt;/div&gt;</code>时，避免回溯。</li>
<li>修复了<code>markdown_mmd</code>中引用链接解析中的错误。</li>
<li>修正了列表解析中的一个错误（＃1154）。阅读原始列表项时，我们现在剥离多达4个空格。</li>
<li>修复了空引用链接定义的解析（＃1186）。</li>
<li>制作单柱管道工作（＃1218）。</li>
</ul></li>
<li><p>纺织阅读器：</p>
<ul>
<li>更好地支持属性。现在可以解析属性而不是被忽略，并将其包含在跨度内联中。输出将与库存纺织品有所不同：例如对于<code>*(foo)hi*</code> ，我们将获得<code>&lt;em&gt;&lt;span class="foo"&gt;hi&lt;/span&gt;&lt;/em&gt;</code>而不是<code>&lt;em class="foo"&gt;hi&lt;/em&gt;</code> 。但至少数据不会丢失。</li>
<li>改进了HTML跨度的处理（％）（＃1115）。</li>
<li>改进链接分析。特别是我们现在拿起属性。由于pandoc链接不能有属性，所以如果有属性的话，我们把整个链接放在一个span中（＃1008）。</li>
<li>为内联标记（＃1175，Matthew Pickering）实现了正确的解析规则。</li>
<li>使用生成器（马修皮克林）。</li>
</ul></li>
<li><p>DocBook阅读器：</p>
<ul>
<li>更好的治疗<code>formalpara</code> 。我们现在用粗体文本（＃1215）作为单独的段落发布标题（如果有的话）。</li>
<li>设置元数据<code>author</code>不是<code>authors</code> 。</li>
<li>增加了对<code>authorgroup</code>和<code>releaseinfo</code>元素的认可（＃1214，Matthew Pickering）。</li>
<li>将DocBook中解析的当前元信息转换为更具扩展性的版本，以了解更新的元表示（Matthew Pickering）。</li>
</ul></li>
<li><p>HTML阅读器：</p>
<ul>
<li>要求tagsoup 0.13.1，解决脚本标签（＃1248）的解析错误。</li>
<li>将处理指令和声明视为块。以前这些被视为内联，并被包含在HTML或DocBook输出中的段落标签中，这通常不是我们想要的（＃1233）。</li>
<li>更新<code>closes</code>了来自HTML5规范的规则。</li>
<li>使用生成器（Matthew Pickering，＃1162）。</li>
</ul></li>
<li><p>RST阅读器：</p>
<ul>
<li>在PEP链接中删除重复的<code>http</code> （Albert Krewinkel）。</li>
<li>使第一个数字的真实数字（＃1168，CasperVector）</li>
<li>增强了Pandoc对rST角色的支持（Merijn Verstaaten）。 rST解析器现在支持：所有内置的rST角色，新的角色定义，角色继承，尽管有一些限制。</li>
<li>在元数据中使用<code>author</code>而不是<code>authors</code> 。</li>
<li>更好地处理指令。我们现在正确地处理缩进超过三个空格的字段列表。我们将<code>aafig</code>指令视为具有属性的代码块，因此可以在过滤器中进行处理（＃1212）。</li>
</ul></li>
<li><p>乳胶作家：</p>
<ul>
<li>如果span有一个ID（Albert Krewinkel），则用标签标记内容。</li>
<li>在latex / pdf输出（＃1210）中使用<code>--toc-depth</code>书籍。</li>
<li>在简单的表格单元格中处理换行符（＃1217）。</li>
<li>引号中的级别4-5标题的解决方法。这些以前在<code>quote</code>环境中生成无效的LaTeX： <code>\paragraph</code>或<code>\subparagraph</code> 。这在这些上下文中添加了一个<code>mbox{}</code>来解决这个问题。请参阅<a href="http://tex.stackexchange.com/a/169833/22451" class="uri">http://tex.stackexchange.com/a/169833/22451（＃1221</a> ）。</li>
<li>使用<code>\/</code>以避免连字符而不是<code>-{}-</code> （Vaclav Zeman）。这是为了解决LuaLaTeX输出。<code>-{}-</code>序列不能避免与LuaLaTeX结合，但<code>\/</code>没有。</li>
<li>固定字符串中的转义<code>hyperref</code>和<code>hyperdef</code> （＃1130）。</li>
</ul></li>
<li><p>ConTeXt作家：改进自动链接（＃1270）。</p></li>
<li><p>DocBook作者：</p>
<ul>
<li>在Docbook作者（Neil Mayhew）中改进对强硬换行符的处理。对整个段落使用<code>&lt;literallayout&gt;</code> ，而不仅仅是换行符。</li>
<li>不要让脚注里面的换行符影响封闭的段落（Neil Mayhew）。</li>
<li>在DocBook输出中区分紧密和松散的列表，使用<code>spacing="compact"</code> （Neil Mayhew，＃1250）。</li>
</ul></li>
<li><p>Docx编写器：当用户的<code>reference.docx</code>中不存在所需文件时，请回退pandoc数据文件中<code>reference.docx</code>中的版本。这解决了在使用由LibreOffice保存的<code>reference.docx</code>时发生的错误。（＃1185）</p></li>
<li><p>EPUB作家：</p>
<ul>
<li>在epub ID中包含扩展名。这解决了重复的字体和图像具有相同的基本名称，但扩展名不同的问题（＃1254）。</li>
<li>处理原始<code>img</code>标签中链接的文件（＃1170）。</li>
<li>处理<code>audio</code>来源标签中的媒体（＃1170）。请注意，我们现在使用<code>media</code>目录而不是<code>images</code> 。</li>
<li>合并<code>video</code>标签中链接的文件（＃1170）。 <code>src</code>和<code>poster</code>都将被合并到<code>content.opf</code>和epub容器中。</li>
</ul></li>
<li><p>HTML编写器：</p>
<ul>
<li>在col标签中添加colgroup（＃877）。也影响EPUB作家。</li>
<li>修正了无编号部分标题的错误。未编号的部分标题（与类<code>unnumbered</code> ）获取数字。</li>
<li>改进了图像链接的检测。以前图像与查询的链接不被识别，导致使用<code>&lt;embed&gt;</code>而不是<code>&lt;img&gt;</code> 。</li>
</ul></li>
<li><p>作家：确保定义列表中的术语不是行换行（＃1195）。</p></li>
<li><p>减价作家：</p>
<ul>
<li>使用正确的转义避免不必要的列表（＃980）。以前我们使用0宽度的空格，一个丑陋的黑客。</li>
<li>如果需要，使用更长的反向栅栏（＃1206）。如果内容包含反向栅栏并且有属性，请确保使用更长的栅栏来分隔代码。注意：这在pandoc中运行良好，但是github markdown更加有限，并且将解释第一个三个或更多的反引号字符串作为结束代码块。</li>
</ul></li>
<li><p>RST作家：避免堆栈溢出与某些表（＃1197）。</p></li>
<li><p>RTF编写器：固定包含段落的表格单元格。</p></li>
<li><p>定制作家：</p>
<ul>
<li>在自定义lua脚本中正确处理UTF-8（＃1189）。</li>
<li>修复了lua脚本的错误，其中包含<code>+</code>或<code>-</code> （＃1267）的混合文件名和路径。请注意<code>Text.中的<code>getWriter</code> <code>Text.Pandoc</code>不再返回输入<code>foo.lua</code>上的自定义书写<code>foo.lua</code> 。</li>
</ul></li>
<li><p>AsciiDoc作家：处理多块和空表格单元（＃1245，＃1246）。增加了测试。</p></li>
<li><p><code>Text.Pandoc。Options</code> ：新增<code>readerTrace</code>到<code>ReaderOptions</code></p></li>
<li><p><code>Text.Pandoc。共享</p>
<ul>
<li>新增了<code>compactify'DL</code> （原名Markdown阅读器）（Albert Krewinkel）。</li>
<li>修正了<code>toRomanNumeral</code>错误：以'9'结尾的数字将被渲染为以'IXIV'结尾的罗马数字（＃1249）。感谢Jesse Rosenthal。</li>
<li><code>openURL</code> ：使用http_proxy env变量的值设置代理（＃1211）。注意：由于<code>http-conduit</code>限制，不支持具有非根路径的代理。</li>
</ul></li>
<li><p><code>Text.Pandoc。PDF</p>
<ul>
<li>确保在Windows上删除临时目录（＃1192）。PDF现在被读为一个严格的字节串，确保进程所有权将被终止，所以临时目录可以被删除。</li>
<li>在几个地方使用<code>/</code>作为路径分隔符，甚至在Windows上。这似乎是texlive所必需的（＃1151，感谢Tim Lin）。</li>
<li>使用<code>;</code>用于Windows上的<code>TEXINPUTS</code>分隔符（＃1151）。</li>
<li>更改错误报告，处理非UTF8错误输出。</li>
</ul></li>
<li><p><code>Text.Pandoc。模板</p>
<ul>
<li><p>删除不需要的数据类型上下文（Merijn Verstraaten）。</p></li>
<li><p>YAML对象在条件中解析为“true”（＃1133）。注意：如果<code>address</code>是一个YAML对象，并且您的模板中只有<code>$address$</code> ，则会显示<code>true</code>这个字，这可能是意想不到的。（以前什么都不会出现）</p></li>
</ul></li>
<li><p><code>Text.Pandoc。SelfContained</code> ：处理<code>video</code>标签中的<code>poster</code>属性（＃1188）。</p></li>
<li><p><code>Text.Pandoc。分析中</p>
<ul>
<li>使<code>F</code>成为应用实例（＃1138）。</li>
<li>增加了<code>stateCaption</code> 。</li>
<li>增加了<code>HasMacros</code> ，简化了其他类型的类。删除了<code>updateHeaderMap</code> ， <code>setHeaderMap</code> ， <code>getHeaderMap</code> ， <code>updateIdentifierList</code> ， <code>setIdentifierList</code> ， <code>getIdentifierList</code> 。</li>
<li>改变了智能标点解析器返回<code>Inlines</code> ，而不是<code>Inline</code> （马太福音皮克林）。</li>
<li>将<code>HasReaderOptions</code> ， <code>HasHeaderMap</code> ， <code>HasIdentifierList</code>从monads的类型<code>HasIdentifierList</code>转换为状态类型类型。这简化了实例定义并提供了更多的灵活性。广义类型的<code>getOption</code>并添加了一个默认定义。删除了<code>askReaderOption</code> 。增加了<code>extractReaderOption</code> 。在<code>HasHeaderMap</code>添加了<code>extractHeaderMap</code>和<code>updateHeaderMap</code> 。给出<code>getHeaderMap</code> ， <code>putHeaderMap</code> ， <code>modifyHeaderMap</code>默认定义。新增<code>extractIdentifierList</code>和<code>updateIdentifierList</code>在<code>HasIdentifierList</code> 。给出<code>getIdentifierList</code> ， <code>putIdentifierList</code>和<code>modifyIdentifierList</code>默认值。这里的最终目标是允许不同的解析器在使用共享函数的同时使用他们自己的，量身定制的解析器状态（而不是<code>ParserState</code> ）。</li>
</ul></li>
<li><p>模板更改：</p>
<ul>
<li>LaTeX模板：仅对<code>pdflatex</code>使用<code>fontenc</code>包（＃1164）。</li>
<li>LaTeX模板：添加<code>linestretch</code>和<code>fontfamily</code>变量。</li>
<li>LaTeX模板：条件化作者和日期命令。</li>
<li>Beamer模板：图形和表格标题的一致样式（aaronwolen）。</li>
<li>乳胶和投影仪模板：为超大图像正确调整宽度。使用<code>\setkeys{Gin}{}</code>为<code>\includegraphics</code>设置合适的默认值（Yihui Xie，Garrick Aden-Buie）。加载<code>upquote</code>后才<code>fontenc</code> （一辉谢）。</li>
<li>Beamer模板：添加字幕包（＃1200）。</li>
<li>Beamer模板：更好的unicode处理（KarolS）。</li>
<li>DocBook模板：如果有作者，请使用<code>authorgroup</code> 。</li>
<li>revealjs模板：移动<code>include-after</code>结束（sureakey）。</li>
<li>revealjs模板：固定PDF打印功能（＃1220，kevinkenan）。</li>
</ul></li>
<li><p>颠簸版本的依赖关系的边界。</p></li>
<li><p>添加了<code>--trace</code>命令行选项，用于调试回溯错误。到目前为止，这只适用于降价阅读器。</p></li>
<li><p>MathMLinHTML：修正弃用警告（＃362，gwern，Albert Krewinkel）。</p></li>
<li><p>更新了travis脚本以测试多个GHC版本。</p></li>
<li><p>如果GHC发出警告，强制Travis的构建失败（Albert Krewinkel）。</p></li>
<li><p>添加<code>.editorconfig</code> （Albert Krewinkel）。有关详细信息，请参阅<a href="http://editorconfig.org/" class="uri">http://editorconfig.org/</a> 。</p></li>
<li><p>如果指定了“-t pdf”，则给出更有用的错误消息（＃1155）。</p></li>
<li><p>将<code>Cite</code> ， <code>SmallCaps</code>添加到<code>Arbitrary</code>实例（＃1269）。</p></li>
<li><p>允许<code>html4</code>作为<code>html</code>的同义词作为读者（它已经作为一个作家）。</p></li>
<li><p>{0}{/0}
						请看这里
					</p>
<ul>
<li>添加了如何使用YAML元数据强制项目出现在参考书目中没有引用文本（如LaTeX <code>\nocite</code> ）的解释。</li>
<li>添加注释<code>--bibtex/--natbib</code> ：不能用于制作PDF（＃1194，感谢nahoj）。</li>
<li>添加关于<code>--natbib</code>和<code>--biblatex</code>解释性说明。</li>
<li>添加了引用键的合法语法规范。</li>
<li>固定变量默认文档（阿尔伯特Krewinkel）。</li>
</ul></li>
<li><p>删除了已删除文件的版权声明（Albert Krewinkel）。</p></li>
<li><p>将一些doc文件从<code>data-files</code>移到<code>extra-source-files</code> （＃1123）。在运行时不需要它们。我们在数据中保留README和COPYRIGHT，以确保它们可以在安装了pandoc的所有系统上使用。</p></li>
<li><p>在Windows构建脚本中使用cabal沙箱。</p></li>
</ul>
<h1 id="pandoc-1.12.3.3-03-feb-2014">pandoc 1.12.3.3（2014年2月3日）</h1>
<ul>
<li>要更改来源;用最新的alex和happy开始重新编译tarball，所以他们将使用GHC 7.8。</li>
</ul>
<h1 id="pandoc-1.12.3.2-03-feb-2014">pandoc 1.12.3.2（2014年2月3日）</h1>
<ul>
<li><p>颠簸版本的火焰HTML，火焰标记。</p></li>
<li><p>ImageSize：避免使用lookAhead，它不是二进制&gt; = 0.6（＃1124）。</p></li>
<li><p>修复了mediawiki有序列表解析（＃1122）。</p></li>
<li><p>HTML阅读器：修正了使用<code>$$</code>读取内联数学的错误（＃225）。</p></li>
<li><p>在rST（Merijn Verstraaten）中增加了对LaTeX风格识字Haskell代码块的支持。</p></li>
</ul>
<h1 id="pandoc-1.12.3.1-14-jan-2014">pandoc 1.12.3.1（2014年1月14日）</h1>
<ul>
<li>宽松版本的二进制约束，允许使用二进制0.5。</li>
</ul>
<h1 id="pandoc-1.12.3-10-jan-2014">pandoc 1.12.3（2014年1月10日）</h1>
<ul>
<li><p><code>--bibliography</code>选项现在设置<code>biblio-files</code>变量。所以，如果你使用<code>--natbib</code>或<code>--biblatex</code> ，你可以使用<code>--bibliography=foo.bib</code>而不是<code>-V bibliofiles=foo</code> 。</p></li>
<li><p>如果<code>--bibliography</code>与<code>--natbib</code>或<code>--biblatex</code> （Florian Eitel）一起使用，则不要运行pandoc-citeproc过滤器。</p></li>
<li><p>模板更改：</p>
<ul>
<li>更新的beamer模板包含booktabs。</li>
<li>向LaTeX模板添加<code>abstract</code>变量。</li>
<li>在LaTeX模板（＃908）中放置<code>header-includes</code>后<code>header-includes</code> <code>title</code> 。</li>
<li>允许在投影机中使用<code>\includegraphics[size]</code> 。这只需要将默认LaTeX模板的宏定义移植到默认Beamer模板。</li>
</ul></li>
<li><p><code>reference.docx</code> ：包含<code>FootnoteText</code>样式。否则，Word将忽略样式，即使在<code>pPr</code>指定。（＃901）</p></li>
<li><p><code>reference.odt</code> ：整理<code>styles.xml</code> 。</p></li>
<li><p>轻松版本的依赖关系。</p></li>
<li><p>在<code>openURL</code> http管道代码中添加了<code>withSocketsDo</code> ，所以它可以在Windows（＃1080）上运行。</p></li>
<li><p><code>sample.lua</code>增加了<code>Cite</code>函数。</p></li>
<li><p>降价阅读器：</p>
<ul>
<li>固定标题栏中的回归（＃1089）。如果作者字段为空，则日期被忽略。</li>
<li>在网格和多行表格单元格中允许反斜线 - 换行符强行断行。</li>
<li>引用键现在可以以下划线开始，并且可以包含与内部标点符号相邻的下划线。</li>
</ul></li>
<li><p>乳胶读者：</p>
<ul>
<li>添加对<code>Verb</code>宏（jrnold）的支持（＃1090）。</li>
<li>支持巴贝尔式引用： <code>"`..."'</code> 。</li>
</ul></li>
<li><p>在严格模式下正确处理脚本块。（也就是<code>markdown-markdown_in_html_blocks</code> 。）以前有一个伪造的<code>&lt;p&gt;</code>标签被添加（＃1093）。</p></li>
<li><p>Docbook阅读器：如果<code>tbody</code>包含<code>tr</code>或<code>row</code>元素，请避免失败。</p></li>
<li><p>乳胶作家：</p>
<ul>
<li>为表格单元格创建提供功能。</li>
<li>在桌上更好地处理脚注。Notes现在以常规顺序出现，而不是在表格单元格中。（这是1.10的回归）</li>
</ul></li>
<li><p>HTML阅读器：将元标记中的名称/内容对解析为元数据。关闭%s</p></li>
<li><p>将<code>fixDisplayMath</code>从Docx <code>Writer.移至<code>Writer.共享</p></li>
<li><p>OpenDocument作家：修复<code>RawInline</code> ， <code>RawBlock</code>所以他们不逃脱。</p></li>
<li><p>ODT编写器：使用mathml来正确呈现公式。注意：LibreOffice对此的支持似乎有点错误。但应该比以前好。</p></li>
<li><p>RST编写器：确保定义列表中没有空行（＃992）。</p></li>
<li><p><code>markdown_github</code>作家：不要在<code>markdown_github</code>输出中使用具有支撑属性的代字号代码块。这种变化的结果是，如果两者都被启用，反向表格将是优选的。这很好，因为它比波浪形式要广泛得多。（＃1084）</p></li>
<li><p>Docx作家：修正了一些修改的引用docx文件的问题。包含<code>word/_rels/settings.xml.rels</code>如果存在）以及除pandoc明确生成的其他<code>rels</code>文件外。</p></li>
<li><p>HTML编写器：</p>
<ul>
<li>使用<code>--toc</code> ，标题不再链接到自己（＃1081）。</li>
<li>从TOC条目中删除脚注。否则，当头部有笔记时，我们会得到两倍的脚注！</li>
</ul></li>
<li><p>EPUB作家：</p>
<ul>
<li>标题包含注释时避免重复注释。这是因为标题被复制到元数据“标题”字段中，并且笔记被呈现两次。在把标题放在“标题”之前，我们现在去掉这个标注。</li>
<li>从脚注中删除脚注。</li>
<li>修正了<code>--epub-stylesheet</code> bug。现在， <code>writerEpubStylesheet</code> （由<code>--epub-stylesheet</code>设置）的内容应该再次运行，并优先于元数据中指定的样式表。</li>
</ul></li>
<li><p><code>Text.Pandoc。Pretty</code> ：添加了<code>nestle</code> 。API更改。</p></li>
<li><p><code>Text.Pandoc。MIME</code> ：添加了<code>wmf</code> ， <code>emf</code> 。</p></li>
<li><p><code>Text.Pandoc。Shared</code> ： <code>fetchItem</code>现在处理以<code>//</code>开头的图片网址。</p></li>
<li><p><code>Text.Pandoc。ImageSize</code> ：解析EXIF格式的JPEG。以前，我们只能获取JFIF格式的大小信息，这导致了Word文档中的压缩图像。关闭%s</p></li>
<li><p>删除旧的<code>MarkdownTest_1.0.3</code>目录（＃1104）。</p></li>
</ul>
<h1 id="pandoc-1.12.2.1-2013-12-08">潘多哥1.12.2.1（2013-12-08）</h1>
<ul>
<li>Markdown reader：在列表解析器中修正了回归，涉及包含原始HTML（甚至是原始HTML）的连续行。</li>
</ul>
<h1 id="pandoc-1.12.2-2013-12-07">pandoc 1.12.2（2013-12-07）</h1>
<ul>
<li><p>元数据现在可以包含在一个降价文档中的YAML块中。例如：</p>
<pre><code>- 标题： - 类型：正文：我的书 - 类型：字幕文本：元数据创建者的调查： - 角色：作者文本：约翰史密斯 - 角色：编辑文本：莎拉琼斯标识符： - 方案：DOI文本：doi ：10.234234.234 / 33出版商：我的出版权：（c）2007 John Smith，CC BY-NC封面图片：img / mypic.jpg stylesheet：style.css ...</code></pre>
<p>元数据仍然可以使用<code>--epub-metadata</code> ;它将与YAML块中的元数据合并。</p></li>
<li><p>EPUB作家：</p>
<ul>
<li>现在使用<code>meta</code>标记代替EPUB3的<code>opf</code>属性。</li>
<li>在opf（EPUB 3）中根据需要插入“svg”属性。</li>
<li>简化<code>imageTypeOf</code>使用<code>getMimeType</code> 。</li>
<li>将属性添加到EPUB 3的<code>cover-image</code>项目。</li>
<li>如果没有封面，请勿包含<code>cover.xhtml</code>节点！</li>
<li>确保始终使用相同的标识符（＃1044）。如果在元数据中给出标识符，我们使用它;否则我们会生成一个随机的uuid。</li>
<li>添加封面参考引导元素（EPUB 2）（Shaun Attfield）。如果脊椎<code>linear="no"</code>则修复Calibre将封面放在书末的问题。显然这是其他转换器的最佳实践： <a href="http://www.idpf.org/epub/20/spec/OPF_2.0.1_draft.htm#Section2.6" class="uri">http</a> : <a href="http://www.idpf.org/epub/20/spec/OPF_2.0.1_draft.htm#Section2.6" class="uri">//www.idpf.org/epub/20/spec/OPF_2.0.1_draft.htm#Section2.6</a> 。</li>
<li>允许元数据中的<code>stylesheet</code> 。该值是样式表的路径。</li>
<li>允许部分日期： <code>YYYY</code> ， <code>YYYY-MM</code> 。</li>
</ul></li>
<li><p>减价作家：修复严格的子列表（＃1050）。之前一个虚假的空白行被包括在一个紧的子列表之后。</p></li>
<li><p>ODT编写器：添加<code>draw:name</code>属性以<code>draw:frame</code>元素（＃1069）。据报道，这是必要的，以避免自由文件包含多个图像的最新版本的自由职业者的错误感谢wmanley报告和诊断问题。</p></li>
<li><p>ConTeXt作家：不要硬编码数字/表格的位置和编号。相反，让它在模板中设置，使用<code>\setupfloat</code> 。感谢on4aa和Aditya Mahajan的建议（＃1067）。</p></li>
<li><p>在DOCX，LaTeX和HTML编写器中实现CSL flipflopping跨度。</p></li>
<li><p>修正了降级内部词强调的问题。关闭%s</p></li>
<li><p>Docbook writer：对元数据中的块内容进行分层。以前的头文件在模板中使用时，从块级元数据中消失。现在我们应用“等级化”转换。请注意，由2级标题<code>&lt;sect1&gt;</code>的块将变成一个<code>&lt;sect1&gt;</code>元素。</p></li>
<li><p>OpenDocument作家：跳过原始HTML（＃1035）。以前它被错误地列为逐字文本。</p></li>
<li><p>HTML / EPUB编写器，脚注：将<code>&lt;sup&gt;</code>标签放入<code>&lt;a&gt;</code>标签中。这允许更好地控制格式，因为<code>&lt;a&gt;</code>标签具有区别类（＃1049）。</p></li>
<li><p>Docx作家：</p>
<ul>
<li>使用fetchItem返回的MIME类型信息。</li>
<li>修复了核心元数据（＃1046）。如果没有给定日期，不要创建空的日期节点。不要创建多个<code>dc:creator</code>节点;而是用分号分开。</li>
<li>修复<code>_rels/.rels</code>核心属性的URL（＃1046）。</li>
</ul></li>
<li><p>普通作家：不要打印<code>&lt;span&gt;</code>标签。</p></li>
<li><p>乳胶作家：</p>
<ul>
<li>使用内部链接修复定义列表（＃1032）。此修复程序将大括号括在一个包含内部链接的术语中，以避免使用方括号出现问题。</li>
<li>正确地转义pdftitle，pdfauthor（＃1059）。</li>
<li>使用booktabs包表（感谢何塞·路易斯·杜兰）。</li>
</ul></li>
<li><p>更新的beamer模板。现在，当使用<code>--biblatex</code>或<code>--natbib</code>时，引用应该正常工作（在幻灯片中）。</p></li>
<li><p>乳胶读者：</p>
<ul>
<li>解析卷曲报价或匹配的内容<code>"</code>作为报价。</li>
<li>支持<code>\textnormal</code>作为与类<code>nodecor</code>跨度。这是pandoc-citeproc所必需的。</li>
<li>改进的引用解析。这修复了<code>\citet{}</code> （空键列表）发生的运行时错误。它也确保空键不会被生成。</li>
</ul></li>
<li><p>MediaWiki reader：添加自动标题标识符。</p></li>
<li><p>HTML阅读器：</p>
<ul>
<li>原始的<code>&lt;div&gt;</code> ， <code>&lt;span&gt;</code>使用pandoc <code>Div</code>和<code>Span</code>时<code>--parse-raw</code> 。</li>
<li>将<code>svg</code>标签识别为块级内容（感谢MinRK）。</li>
<li>解析LaTeX数学如果适当的选项设置。</li>
</ul></li>
<li><p>降价阅读器：</p>
<ul>
<li>Yaml块必须在<code>---</code>之后立即启动。如果之后有一个空行<code>---</code> ，我们把它理解成一条水平线。</li>
<li>正确处理空的子弹列表项目。</li>
<li>当我们点击一​​个块标签时，停止解析“列表行”。这可以修复某些输入的指数衰减，例如一系列的列表，然后是<code>&lt;/div&gt;</code> 。</li>
</ul></li>
<li><p>幻灯片：在参考幻灯片中保留<code>&lt;div class="references"&gt;</code> 。</p></li>
<li><p><code>Text.Pandoc。作者共享</p>
<ul>
<li>修正了<code>tagWithAttrs</code>错误。在键值属性之前省略空格，导致无效的HTML。</li>
<li><code>normalizeDate</code> ：只允许一年的日期（感谢Shaun Attfield）。</li>
<li>修正了<code>openURL</code>中<code>data:</code> URI的问题。以前，base-64编码的字符串被返回。我们现在解码它，所以这是一个适当的形象！</li>
</ul></li>
<li><p>DocBook阅读器：处理以十进制开头的数字属性。也使用<code>safeRead</code>而不是<code>read</code> 。</p></li>
<li><p><code>Text.Pandoc。分析中</p>
<ul>
<li><code>HasReadeOptions</code>类型的<code>registerHeader</code> ，使用新类型<code>HasReadeOptions</code> ， <code>HasIdentifierList</code> ， <code>HasHeaderMap</code> 。这些允许某些常用函数在使用自定义状态（而不是<code>ParserState</code> ）的解析器中重用，如MediaWiki阅读器。</li>
<li>将inlineMath，displayMath从Markdown阅读器移至Parsing。概括它们的类型并从Parsing中导出它们。（API更改）</li>
</ul></li>
<li><p><code>Text.Pandoc。阅读器，TexMath</code> ：导出<code>readTeXMath'</code> ，它参加显示/内联。弃用<code>readTeXMath</code> ，并在所有作者中使用<code>readTeXMath'</code> 。要求<code>texmath &gt;= 0.6.5.2</code> 。</p></li>
<li><p><code>Text.Pandoc。多用途互联网邮件扩展</p>
<ul>
<li>为<code>jfif</code>添加条目。</li>
<li>在查找扩展名时，请删除编码信息。比如'image / jpg; base64'，我们应该查找'image / jpg'。</li>
</ul></li>
<li><p>模板：更改了数组变量的解析方式。以前，如果<code>foo</code>是一个数组（这可能是因为在命令行中设置了多个值）， <code>$foo$</code>将解析为foo元素的串联。这是很少有用的行为。它已被更改，以便第一个值被渲染。当然，你仍然可以使用<code>$for(foo)$</code>遍历这些值。其优点是可以覆盖使用前面设置的结果<code>-V</code>由后来把新值的命令行，这对于许多用途上。</p></li>
<li><p><code>Text.Pandoc</code> ：不要默认为所有作者使用<code>pandocExtensions</code> 。</p></li>
<li><p>允许“epub2”作为“epub”的同义词，“html”作为“html4”的同义词。</p></li>
<li><p>不要使用<code>--self-contained</code>在数据文件中查找滑动文件。</p></li>
<li><p>允许下载<code>https:</code>命令行参数。</p></li>
<li><p>修复了<code>make_osx_package.sh</code>这样的数据文件嵌入在<code>pandoc-citeproc</code> 。</p></li>
</ul>
<h1 id="pandoc-1.12.1-2013-10-20">pandoc 1.12.1（2013-10-20）</h1>
<ul>
<li><p><code>Text.Pandoc。Definition</code> ：更改了默认的JSON序列化格式。例如，我们现在有<code>{"t": "Str", "c": "foo"}</code>而不是<code>{"Str": "foo"}</code> <code>{"t": "Str", "c": "foo"}</code> 。这种新格式更容易在Haskell之外使用。顺便提一句，“t”代表“标签”，“c”代表“内容”。</p></li>
<li><p>MediaWiki reader：修改<code>&lt;math&gt;</code>标签的内容，以避免转换为降价时的问题（＃1027）。</p></li>
<li><p>乳胶读者：</p>
<ul>
<li>确保序言不参与文件的文本。</li>
<li>固定角色逃跑。以前的<code>\~</code>处理不当，等等。</li>
<li>将<code>{groups}</code>解析为<code>Span</code> 。这对于bibtex标题的准确转换是必需的，因为我们需要知道什么是保护标题转换。</li>
</ul></li>
<li><p>乳胶作家：</p>
<ul>
<li>特别是在标签中转义非ASCII字符。否则，使用pdflatex（＃1007）编译时，可能会遇到编译错误和其他错误。感谢begemotv2718的修复。</li>
<li>为带有标识符的代码块添加链接锚点（＃1025）。</li>
</ul></li>
<li><p>在整个代码中，使用<code>isURI</code>而不是<code>isAbsoluteURI</code> 。它允许片段标识符。</p></li>
<li><p>幻灯片格式：</p>
<ul>
<li>类别为“笔记”的Div元素被视为演讲者笔记。目前beamer转到<code>\note{}</code> ，revealjs到<code>&lt;aside class="notes"&gt;</code> ，而其他格式的音符则被简单地压制（＃925）。</li>
<li>固定<code>. . .</code> （暂停）HTML幻灯片格式。关闭%s旧版本导致在幻灯片的第一个素材之前插入暂停。这已被修复。</li>
<li>删除了s5的数据文件，滑动，滑动。s5和slideous的用户将不得不下载所需的文件，这已经在README中记录了一段时间了。默认情况下，像以前一样在网络上搜索斯莱特代码。</li>
</ul></li>
<li><p>HTML编写器：插入命令仅在幻灯片输出（＃966，＃1012）中排版mathjax。</p></li>
<li><p>RST作家：显示数学后跳过空格。否则，我们会得到缩进问题，下一段的一部分可能会作为数学的一部分。</p></li>
<li><p>OpenDocument作者：修正了三维码（＃995）的格式，感谢wilx。不要使用<code>font-face-decls</code>变量。</p></li>
<li><p>修复了测试套件，因此可以与cabal沙箱一起使用。</p></li>
</ul>
<h1 id="pandoc-1.12.0.2-2013-09-20">pandoc 1.12.0.2（2013-09-20）</h1>
<ul>
<li>从pandoc.cabal中删除了一个未使用的依赖项（可<code>stringable</code> ）。这将有助于打包商，但用户不需要升级。</li>
</ul>
<h1 id="pandoc-1.12.0.1-2013-09-20">pandoc 1.12.0.1（2013-09-20）</h1>
<ul>
<li><p>允许<code>--metadata</code>要重复相同的密钥来形成一个列表。这也具有这样的效果 - <code>--bibliography</code>可以像以前一样重复。</p></li>
<li><p>处理<code>--metadata</code>布尔值。请注意，任何不能作为YAML布尔值或字符串解析的内容都被视为文字字符串。你可以通过引用它来得到一个字符串值为“yes”，或任何可解释为布尔值的字符串：</p>
<pre><code>-M boolvalue =是-M stringvalue ='“是”“</code></pre></li>
<li><p>LaTeX作家：如果使用<code>--natbib</code>或<code>--biblatex</code>选项，不要打印引用。</p></li>
<li><p>DOCX编写器：将<code>settings.xml</code>添加到zip容器。修复了某些版本的Word和LibreOffice无法读取docx文件的错误（＃990）。</p></li>
<li><p>修正了涉及幻灯片和参考书目的回归。参考文献中的Div容器弄乱了将文档雕刻成幻灯片的过程。所以我们现在在<code>prepSlides</code>移除周围的Div。</p></li>
<li><p>在路径中找不到过滤器时，提供更多的信息性错误消息。</p></li>
<li><p>取决于pandoc类型1.12.1。这为<code>Data a =&gt; a -&gt; [a]</code>和<code>Data a =&gt; a -&gt; IO [a]</code>提供了<code>ToJSONFilter</code>实例。</p></li>
<li><p>在构建OSX包时不要使用unicode_collat​​ion：它会向包中添加50MB的依赖关系。</p></li>
<li><p>声明亚历克斯和快乐作为构建工具（＃986）。</p></li>
</ul>
<h1 id="pandoc-1.12-2013-09-15">pandoc 1.12（2013-09-15）</h1>
<h2 id="new-features-3">新功能</h2>
<ul>
<li><p>更灵活的元数据，包括任意字段和结构化值。可以使用YAML元数据块在pandoc markdown中灵活指定元数据，这可能发生在文档中的任何位置：</p>
<pre><code>---标题：这是我的标题。摘要：|这是抽象的。1。它可以包含2.块内容和*内联标记*标签：[猫，狗，动物] ...</code></pre>
<p>元数据字段自动填充模板变量。</p></li>
<li><p>添加<code>opml</code> （OPML）作为输入和输出格式。支持在OmniOutliner中使用并且由multimarkdown支持的<code>_note</code>属性。我们将内容视为节标题下的降价块。</p></li>
<li><p>输入格式（David Lazar）添加了<code>haddock</code> （Haddock markup）。</p></li>
<li><p>为reveal.js添加了<code>revealjs</code>输出格式的HTML 5幻灯片。（感谢Jamie F. Olson的最初补丁。）嵌套的垂直堆栈用于分层结构。多于一层嵌套的结果可能很奇怪。</p></li>
<li><p>自定义作家现在可以写在卢阿。</p>
<pre><code>pandoc -t data / sample.lua</code></pre>
<p>将加载脚本sample.lua并将其用作自定义编写器。（对于示例，请执行<code>pandoc --print-default-data-file sample.lua</code> 。）请注意，pandoc嵌入了一个lua解释器，所以lua不需要单独安装。</p></li>
<li><p>新的<code>--filter/-F</code>选项，使运行“过滤器”（Pandoc AST转换操作JSON序列化）更容易。过滤器总是传递输出格式的名称，所以它们的行为可以定制。存储库<a href="https://github.com/jgm/pandocfilters" class="uri">https://github.com/jgm/pandocfilters</a>包含一个用于在python中编写pandoc过滤器的python模块，并提供了大量示例。</p></li>
<li><p>新增<code>--metadata/-M</code>选项。这就像<code>--variable/-V</code> ，但实际上增加了元数据，而不仅仅是变量。</p></li>
<li><p>新增<code>--print-default-data-file</code>选项，允许打印任何pandoc的数据文件。（例如， <code>pandoc --print-default-data-file reference.odt</code>将打印<code>reference.odt</code> 。）</p></li>
<li><p>在幻灯片中添加了“暂停”的语法：</p>
<pre><code>这就有了0，1，1，0。我暂停。</code></pre></li>
<li><p>新的降价扩展：</p>
<ul>
<li><code>ignore_line_breaks</code> ：导致段落内换行符被忽略，而不被视为<code>ignore_line_breaks</code>换行符或空格。这对于一些东亚语言来说很有用，在这些语言中，单词之间不使用空格，但为了便于阅读，文本被分隔成几行。</li>
<li><code>yaml_metadata_block</code> ：解析YAML元数据块。默认7</li>
<li><code>ascii_identifiers</code> ：这将迫使<code>auto_identifiers</code>仅使用ASCII。（ <code>markdown_github</code>默认值）（＃807）</li>
<li><code>lists_without_preceding_blankline</code> ：允许列表在没有空格的情况下启动。（ <code>markdown_github</code>默认值）（＃972）</li>
</ul></li>
</ul>
<h2 id="behavior-changes-3">行为模式的改变</h2>
<ul>
<li><p><code>--toc-level</code>不再意味着<code>--toc</code> 。原因：不想要可见TOC的EPUB用户可能仍然希望在书籍导航中设置TOC级别。</p></li>
<li><p><code>--help</code>现在按字母顺序打印和输出格式，并说一些关于PDF输出（＃720）。</p></li>
<li><p><code>--self-contained</code>现在返回较少的详细输出（告诉你它正在提取哪些URL，但没有提供完整的头文件）。另外，当获取URL失败时，有更好的错误信息。</p></li>
<li><p>引文支持已经不再是核心潘多克。需要引用的用户需要安装并使用单独的过滤器（ - <code>--filter pandoc-citeproc</code> ）。该过滤器将采用元数据的<code>bibliography</code> ， <code>csl</code>和<code>citation-abbreviations</code> ，尽管它仍然可以像以前一样在命令行中指定。</p></li>
<li><p><code>Cite</code>元素现在在解析markdown中创建，无论是否有匹配的引用。</p></li>
<li><p>和<code>pandoc-citeproc</code>脚本将把参考书目放在文档的末尾。但是，它将被放入一个带有“引用”类的<code>Div</code>元素中，允许用户对引用的样式进行一些控制。如果有的话，最后的标题将包括在<code>Div</code> 。</p></li>
<li><p>如果启用了<code>citations</code>扩展功能，则降价作者将不打印参考书目。（如果引文被格式化为降价引用，则有一个参考书目是多余的，因为会自动生成引文。）</p></li>
<li><p>以前我们用来保存第一个输入文件的目录，即使它是本地的，并将其用作在ODT，EPUB，Docx和PDF中查找图像的基本目录。这已经让很多用户感到困惑。所以我们现在查找相对于当前工作目录的图像，即使第一个文件参数在另一个目录中。请注意，此更改可能会破坏一些现有的工作流程。如果您已经假定相对链接将被解释为相对于第一个文件参数的目录，那么在运行pandoc之前，您需要先创建当前目录。（＃942）</p></li>
<li><p>由于<code>readWith</code>变化，在某些读者中更好的错误报告：错误发生的行被打印，指向该列的插入符号。</p></li>
<li><p>所有幻灯片格式现在都支持定义列表的增量幻灯片视图</p></li>
<li><p>在MediaWiki阅读器中解析<code>\(..\)</code>和<code>\[..\]</code>作为数学。解析<code>:&lt;math&gt;...&lt;/math&gt;</code>作为显示数学。这些符号与MathJax MediaWiki扩展一起使用。</p></li>
<li><p>所有编写者：模板变量都是从元数据字段自动设置的。但是，使用<code>--variable</code>命令行指定的变量将完全<code>--variable</code>元数据字段。</p></li>
<li><p>如果使用<code>--variable</code>来设置许多具有相同名称的变量，则会创建一个列表。</p></li>
<li><p>作家： <code>title</code> ， <code>section</code> ， <code>header</code>和<code>footer</code>现在都可以在元数据中单独设置。<code>description</code>变量已被删除。已经添加了引号，以便在标题中允许空格。如果你有一个标题开始</p>
<pre><code>命令（1）footer here |标题在这里</code></pre>
<p>pandoc仍然会将其解析为标题，部分，页眉和页脚。但是你也可以明确指定这些元素（＃885）。</p></li>
<li><p>降价阅读器</p>
<ul>
<li>增加了对YAML元数据块的支持，这些元数据块可以在文档的任何地方（而不仅仅是在开头）。一个文档可以包含多个YAML元数据块。</li>
<li>HTML span和div标签被解析为pandoc Span和Div元素。</li>
</ul></li>
<li><p>减价作家</p>
<ul>
<li>如果禁用了其他表选项，则允许将简单的表格打印为网格表格。这意味着您可以执行<code>pandoc -t markdown-pipe_tables-simple_tables-multiline_tables</code>并且所有表格都将呈现为网格表格。</li>
<li>支持YAML标题栏（以字母顺序渲染字段以使输出可预测）。</li>
</ul></li>
</ul>
<h2 id="api-changes-3">API更改</h2>
<ul>
<li><p><code>Meta</code> <code>Text.Pandoc。Definition</code>已更改为允许结构化元数据。（注意： <code>Meta</code>上模式匹配的现有代码将不得不进行修改。）元数据现在可以包含无限多个字段，内容可以是字符串，布尔值， <code>Inline</code>元素列表， <code>Block</code>元素列表，或者这些元素的映射或列表。</p></li>
<li><p>一个新的通用块容器（ <code>Div</code> ）已经被添加到<code>Block</code> ，并且一个通用的内联容器（ <code>Span</code> ）被添加到了<code>Inline</code> 。这些可以采取属性。它们将以HTML， <code>&lt;div&gt;</code> and <code>&lt;span&gt;</code>元素的形式呈现在HTML，Textile，MediaWiki，Org，RST和Markdown（带有<code>markdown_in_html</code>扩展名）在其他格式中，他们将简单地通过他们的内容。但是他们可以通过脚本来定位。</p></li>
<li><p><code>Format</code>现在是一个新类型，而不是字符串的别名。平等比较是不区分大小写的。</p></li>
<li><p>新增<code>Text.Pandoc。Walk</code> ，导出手写树行走功能，比<code>Text.的SYB功能快得多<code>Text.Pandoc。通用现在在pandoc的代码中尽可能使用这些函数。“测试”：Walk</code>验证<code>walk</code>和<code>query</code>匹配泛型遍历<code>bottomUp</code>和<code>queryWith</code> 。）</p></li>
<li><p>新增<code>Text.Pandoc。JSON</code> ，它为基本的pandoc类型提供了<code>ToJSON</code>和<code>FromJSON</code>实例。他们使用GHC泛型，应该比使用<code>Data.的旧JSON序列化更快<code>Data.埃宋。通用</p></li>
<li><p>新增<code>Text.Pandoc。Process</code> ，导出<code>pipeProcess</code> 。这是<code>readProcessWithErrorcode</code>版本，它使用延迟字节串而不是字符串，并允许设置环境变量。（用于<code>Text.Pandoc。PDF</p></li>
<li><p>新模块<code>Text.Pandoc。阅读器，OPML</code> 。</p></li>
<li><p>新模块<code>Text.Pandoc。编剧OPML</code> 。</p></li>
<li><p>新模块<code>Text.Pandoc。阅读器，Haddock</code> （David Lazar）。这是基于哈多克自己的词法分析器。</p></li>
<li><p>新模块<code>Text.Pandoc。编剧自定义</p></li>
<li><p>在<code>Text.Pandoc。Shared</code> ， <code>openURL</code>和<code>fetchItem</code>现在返回一个，以更好的错误处理。</p></li>
<li><p>在<code>Text. <code>stringify</code> <code>Text.Pandoc。共享</p></li>
<li><p>从<code>Text.删除<code>stripTags</code> <code>Text.Pandoc。```xml</p></li>
<li><p><code>Text.Pandoc。模板</p>
<ul>
<li>简化<code>Template</code>类型为新类型。</li>
<li>删除<code>Empty</code> 。</li>
<li>更改了<code>renderTemplate</code>类型：现在需要一个JSON上下文和一个已编译的模板。</li>
<li>导出<code>compileTemplate</code> 。</li>
<li>导出<code>renderTemplate'</code> ，它接受一个字符串，而不是编译模板。</li>
<li>导出<code>varListToJSON</code> 。</li>
</ul></li>
<li><p><code>Text.Pandoc。PDF</code>导出<code>makePDF</code>而不是<code>tex2pdf</code> 。</p></li>
<li><p><code>Text.Pandoc</code> ：</p>
<ul>
<li>做<code>toJsonFilter</code>一个别名<code>toJSONFilter</code>从<code>Text.Pandoc。- Json</li>
<li>删除<code>ToJsonFilter</code>类型类。<code>ToJSONFilter</code>从<code>Text.Pandoc。应该使用JSON</code>来代替。（使用pandoc类型而不是pandoc编译也会生成更小的可执行文件。）</li>
<li>删除了弃用的<code>jsonFilter</code>函数。</li>
<li>将<code>readJSON</code> ， <code>writeJSON</code>添加到API（＃817）。</li>
</ul></li>
<li><p><code>Text.Pandoc。选项）</p>
<ul>
<li><code>Ext_lists_without_preceding_blankline</code> ， <code>Ext_ascii_identifiers</code> ， <code>Ext_ignore_line_breaks</code> ， <code>Ext_yaml_metadataBlock</code> <code>Extension</code> 。</li>
<li>将<code>writerSourceDirectory</code>更改为<code>writerSourceURL</code> ，并将类型更改为<code>Maybe</code> 。当第一个命令行参数是绝对URL时， <code>writerSourceURL</code>被设置为“Just url”。 （所以，相对的链接将被解决在第一页。）否则，“没有”。</li>
<li>所有参考书目相关的字段已从<code>ReaderOptions</code>和<code>WriterOptions</code> ： <code>writerBiblioFiles</code> ， <code>readerReferences</code> ， <code>readerCitationStyle</code> 。</li>
</ul></li>
<li><p>文本Pandoc。Biblio</code>模块已被删除。希望引用支持的pandoc库的用户需要使用<code>Text.CSL.Pandoc</code>从<code>pandoc-citeproc</code> 。</p></li>
</ul>
<h2 id="bug-fixes-2">Bug修复</h2>
<ul>
<li><p>在降价时，不要自动链接后跟<code>&lt;/a&gt;</code>的裸露URI（＃937）。</p></li>
<li><p><code>Text.Pandoc。共享</code></p>
<ul>
<li><code>openURL</code>现在遵循重定向（＃701），正确处理<code>data:</code> URI，并将诊断输出打印到stderr而不是stdout。</li>
<li><code>readDefaultDataFile</code> ：规范路径。这修正了<code>embed_data_files</code> （＃833）编译过的<code>embed_data_files</code>中的<code>--self-contained</code> bug。</li>
<li>修正了<code>readDefaultDataFile</code>所以它在Windows上工作。</li>
<li><code>readDefaultDataFile</code>更好的错误信息。而不是列出最后尝试过的路径，这会混淆正在使用<code>--self-contained</code> ，所以现在我们只列出数据文件名。</li>
<li>URL转义管道字符。即使这些是合法的， <code>Network.URI</code>不认为它们在URL中是合法的。所以我们先逃脱它们（＃535）。</li>
</ul></li>
<li><p>HTML幻灯片中的Mathjax显示：包含显式的“Typeset”调用。这似乎是需要一些格式（如幻灯片），并不会伤害其他（＃966）。</p></li>
<li><p><code>Text.Pandoc。PDF</code></p>
<ul>
<li>在Windows上，在工作目录中创建temdir，因为系统临时目录路径可能包含波浪线，这可能会导致LaTeX（＃777）中的问题。</li>
<li>将临时输出目录放在<code>TEXINPUTS</code> （参见＃917）。</li>
<li>如果第一个参数是一个URL（＃917）， <code>makePDF</code>尝试下载本地找不到的图像。</li>
<li>如果使用<code>pdflatex</code>编译会产生编码错误，请提供使用<code>--latex-engine=xelatex</code>的建议。</li>
</ul></li>
<li><p>在解析纺织品，RST和LaTeX时产生自动标题标识符，除非禁用了<code>auto_identifiers</code>扩展名（＃967）。</p></li>
<li><p><code>Text.Pandoc。SelfContained</code> ：剥离片段，查询相对URL，然后视为文件名。这个问题可以解决<code>--self-contained</code> Web字体的CSS文件在使用下面描述的方法时自己包含： <a href="http://paulirish.com/2009/bulletproof-font-face-implementation-syntax/" class="uri">http</a> : <a href="http://paulirish.com/2009/bulletproof-font-face-implementation-syntax/" class="uri">//paulirish.com/2009/bulletproof-font-face-implementation-syntax/</a> （＃739）。在<code>embed</code> ， <code>audio</code> ， <code>source</code> ， <code>input</code>标签中处理<code>src</code> 。</p></li>
<li><p><code>Text.Pandoc。Parsing</code> ： <code>uri</code>解析器不再将百分号前的标点符号或<code>+</code>字符视为最终标点符号。</p></li>
<li><p><code>Text.Pandoc。ImageSize</code> ：处理EPS（＃903）。此更改将使EPS图像正确转换为Word大小。</p></li>
<li><p>Slidy：使用slidy.js，而不是slidingy.js.gz。原因：一些浏览器在使用gzip的js文件时遇到问题，至少在本地文件系统上（＃795）。</p></li>
<li><p>降价阅读器</p>
<ul>
<li>正确处理输入开始处的空行（＃882）。</li>
<li>修复了无法匹敌的参考链接中的错误。输入<code>[*infile*] [*outfile*]</code>得到不正确的解析：“infile”被强调，但“ <em>outfile</em> ”是文字（＃883）。</li>
<li>允许内部<code>+</code>中引用标识符（＃856）。</li>
<li>允许<code>.</code>或者<code>)</code>如果没有<code>fancy_lists</code>则在ATX标头中<code>#</code> <code>fancy_lists</code> 。</li>
<li>不要生成空白标题，作者或日期元数据元素。如果不在场，请将其全部留下。</li>
<li>允许反引号代码块不要以空行开头（＃975）。</li>
</ul></li>
<li><p>纺织阅读器：</p>
<ul>
<li>正确处理实体。</li>
<li>改进了对<code>&lt;pre&gt;</code>块的处理（＃927）。删除代码块中的内部HTML标记，而不是逐字打印。在代码块的<code>&lt;pre&gt;</code>标签上解析属性。</li>
</ul></li>
<li><p>HTML阅读器：处理非简单表（＃893）。如果存在，则从<code>col</code>标签中读取列宽度，否则平均分配。</p></li>
<li><p>LaTeX阅读器</p>
<ul>
<li>支持alltt环境（＃892）。</li>
<li>支持<code>\textasciitilde</code> ， <code>\textasciicircum</code> （＃810）。</li>
<li>把<code>\textsl</code>当作强调的文本阅读器（＃850）。</li>
<li>在<code>\begin{figure}</code>之后跳过位置选项。</li>
<li>支持<code>\v{}</code> hacek（＃926）。</li>
<li>不要添加虚假的“，”来引用后缀。这是在pandoc-citeproc中需要时添加的。</li>
<li>在表格中允许使用对齐规格的空格，例如<code>{ lrc }</code> 。</li>
<li>改进了对重音字符的支持（感谢Scott Morrison）。</li>
<li>在段落命令之后解析标签并设置ID（＃951）。</li>
</ul></li>
<li><p>RST阅读器：</p>
<ul>
<li>不要插入docutils没有的段落。除非列表中有多个段落，否则<code>rst2html</code>不会将<code>&lt;p&gt;</code>标签添加到列表项目（即使它们被空行分隔）。这个提交改变了RST阅读器更接近于文档所做的事情（＃880）。</li>
<li>改进的元数据在独立指定时将初始字段列表视为元数据。以前，字段列表中的所有字段“title”，“author”，“date”被视为元数据，即使不在开始。使用<code>subtitle</code>元数据字段作为字幕。</li>
<li>修复了在reST中作者的元数据解析。分号分隔不同的作者。</li>
</ul></li>
<li><p>MediaWiki阅读器</p>
<ul>
<li>允许表格行之前的空间。</li>
<li>修正了<code>&lt;ref&gt;URL&lt;/ref&gt;</code>回归。 <code>&lt;</code>不再在URL中允许的，根据在URI解析器<code>Text.Pandoc。分析中增加了一个测试用例。</li>
<li>正确处理缩进的预格式化文本，不要在前面或后面的空白行。</li>
<li>固定<code>|</code>表格单元格内的链接。改进的属性解析。</li>
<li>跳过表格行的属性。以前，如果行有属性，我们就会崩溃，现在我们忽略它们。</li>
<li>忽略标题上的属性。</li>
<li>允许<code>Image:</code>用于图像（＃971）。</li>
<li>用一个段落中的标题解析图像作为一个数字。</li>
</ul></li>
<li><p>乳胶作家</p>
<ul>
<li>不要使用连字来转义内联代码。</li>
<li>修复了LaTeX / PDF表格中的脚注编号。这修复了一个错误，其中笔记在表格中编号错误（＃827）。</li>
<li>始终为部分创建标签。以前，只有在链接到文档中的部分时才创建标签（＃871）。</li>
<li>停止转义<code>|</code>在LaTeX数学。这造成了阵列环境的问题（＃891）。</li>
<li>将路径中的<code>\</code>更改为<code>/</code> 。 <code>/</code>即使在LaTeX的Windows上也能正常工作。 <code>\</code>如果转义将导致重大问题。</li>
<li>使用清单时，将代码块的编号写入LaTeX的标签属性（感谢Florian Eitel）。</li>
<li>缩放LaTeX表格，使其不超过列宽。</li>
<li>避免无编号标题中的脚注问题（＃940）。</li>
</ul></li>
<li><p>Beamer writer：创建<code>allowframebreaks</code>幻灯片时，如果它是其中一个头类，则向幻灯片添加<code>allowframebreaks</code>选项。建议您的书目幻灯片有这个属性：</p>
<pre><code>＃参考文献{.allowframebreaks}</code></pre>
<p>这将导致必要时创建多个幻灯片，具体取决于参考书目的长度。</p></li>
<li><p>ConTeXt作家：正确处理没有标题的表格。旧的输出只在MkII中工作。这也应该在MkIV工作（＃837）。</p></li>
<li><p>MediaWiki writer：使用本地mediawiki表格而不是HTML（＃720）。</p></li>
<li><p>HTML编写器：</p>
<ul>
<li>固定<code>--no-highlight</code> （亚历山大Kondratskiy）。</li>
<li>不要在电子邮件模糊处理中转换为小写字母（＃839）。</li>
<li>确保在<code>&lt;title&gt;</code>和<code>&lt;meta&gt;</code>字段中正确转义。</li>
</ul></li>
<li><p>AsciiDoc作家：</p>
<ul>
<li>支持<code>--atx-headers</code> （Max Rydahl Andersen）。</li>
<li>不要在标题（Max Rydahl Andersen）上打印空标识符块<code>([[]])</code> ）。</li>
</ul></li>
<li><p>ODT作家：</p>
<ul>
<li>修正打开文档格式错误的编号列表缩进（Alexander Kondratskiy）（＃369）。</li>
<li><code>reference.odt</code> ：在<code>meta.xml</code>添加pandoc作为“generator”。</li>
<li>ODF 1.2一致性的小改动（＃939）。我们留下由LibreOffice本身提供的不合格的<code>contextual-spacing</code>属性，似乎很好的支持。</li>
</ul></li>
<li><p>Docx作家：</p>
<ul>
<li>修复了列表中显示数学的渲染问题。在1.11和1.11.1中，在作为新列表项目呈现的列表中显示数学。现在它总是显示居中，就像在列表之外，并且以适当的显示数学风格，不管包含的列表项是多少缩进（＃784）。</li>
<li>使用<code>w:br</code>和<code>w:type</code>为换行符<code>w:type</code> <code>textWrapping</code> 。以前我们使用<code>w:cr</code> （＃873）。</li>
<li>使用简洁的块状元素来区分紧密和松散的列表（＃775）。</li>
<li>忽略<code>reference.docx</code>大部分组件。我们取<code>word/styles.xml</code> ， <code>docProps/app.xml</code> ， <code>word/theme/theme1.xml</code> ，和<code>word/fontTable.xml</code>从<code>reference.docx</code> ，不顾一切。这应该有助于在不同版本的Word重新引用reference.docx并重新组织时引起的腐败问题。</li>
<li>制作<code>--no-highlight</code>工作正常。</li>
</ul></li>
<li><p>EPUB作家</p>
<ul>
<li>如果在EPUB元数据中存在<code>dc:creator</code>标签，请勿添加。</li>
<li>在<code>nav.xhtml</code> （＃799） <code>nav.xhtml</code> <code>id="toc-title"</code>到<code>h1</code> 。</li>
<li>不要在阅读序列中放置空白的标题页。如果没有标题块，设置<code>linear="no"</code> 。地址</li>
<li>下载webtex图像并包含数据URL。这使您可以使用<code>--webtex</code>创建EPUB。数学与<code>--webtex</code>自动完成。</li>
<li>在<code>data/epub.css</code> ，删除了突出显示样式（不再需要，因为样式是由HTML <code>--highlighting-style</code>根据 - <code>--highlighting-style</code> ）。简化的边距字段。</li>
<li>如果没有找到资源，请跳过它，如Docx作家（＃916）。</li>
</ul></li>
<li><p>RTF作家：</p>
<ul>
<li>正确处理0000-FFFF范围以上的字符。使用代理对。由于Hiromi Ishii的补丁。</li>
<li>用RTF目录固定回归。</li>
<li>仅自动链接绝对URI。这解决了一个倒退，＃830。</li>
</ul></li>
<li><p>减价作家：</p>
<ul>
<li>仅自动链接绝对URI。这解决了一个倒退，＃830。</li>
<li>不要将属性封装在围栏代码块中。</li>
<li>在MMD风格的标题栏中填写完整的元数据。</li>
<li>将多个作者分别放在pandoc标题栏中。另外，不要将长的作者条目包装起来，因为新的条目会被当作新的作者。</li>
</ul></li>
<li><p><code>Text.Pandoc。模板</p>
<ul>
<li>修复了为降价变体检索默认模板的问题。</li>
<li>模板现在可以在变量中包含“记录查找”例如， <code>author.institution</code>将检索<code>author</code>变量的<code>institution</code>字段。</li>
<li><code>$for$</code>更一致的行为。当<code>foo</code>不是列表时， <code>$for(foo)$...$endfor$</code>应该像<span class="math inline"><em>i</em> <em>f</em> （ <em>f</em> <em>o</em> <em>o</em> ）</span> ... <span class="math inline"><em>e</em> <em>n</em> <em>d</em> <em>i</em> <em>f那样工作</em></span> 。所以如果<code>foo</code>解析为“”，则不应该产生输出。请参阅pandoc-templates＃39。</li>
</ul></li>
<li><p>引用处理改进（现在是pandoc-citeproc的一部分）：</p>
<ul>
<li>修正了<code>endWithPunct</code>新版本正确地看到以'。）'结尾的句子以标点符号结束。这修正了导致这样的句子在最后得到额外的一段时间的错误：'。）。'。感谢Steve Petersen的报告。</li>
<li>不要干扰不是引用注释的注释。这修正了一个错误，在这个错误中，引用中未生成的注释正在被修改（例如首字母大写）（＃898）。</li>
<li>只有在脚注引用时才有大写的前缀。</li>
<li>后缀解析的变化。以数字开头的后缀在传递给citeproc-hs之前会先插入“p”，这样裸数字默认被视为页码。不以标点符号开头的后缀在起始处添加了空格（而不是以逗号和空格，如之前在非作者在文本中所引用的那样）。结果是LaTeX中的<code>\citep[23]{item1}</code>将被正确解释， <code>\citep[23]{item1}</code> '被视为'page'类型的定位符。</li>
<li>由于修复了citeproc-hs（感谢Andrea Rossato），引用渲染的许多改进。</li>
<li>警告发出未定义的引用，这是呈现为<code>???</code> 。</li>
<li>修复了无法找到区域文件时的挂起行为。</li>
</ul></li>
</ul>
<h2 id="template-changes-2">模板更改</h2>
<ul>
<li><p>DocBook：使用DocBook 4.5 doctype。</p></li>
<li><p>组织：标题前插入“＃+ TITLE：”。以前作家做了这个。</p></li>
<li><p>LaTeX：改变使数学函数与xelatex一起工作。我们需要mathspec库，而不仅仅是fontspec。我们还需要设置setmathfont的选项（＃734）。</p></li>
<li><p>乳胶：使用<code>tex-ansi</code>映射<code>monofont</code> 。这确保了直接的引号显示为直接的，而不是被视为卷曲。（参见9.3。）</p></li>
<li><p>Made <code>\includegraphics</code>在LaTeX模板中更加灵活。现在，如果需要，可以使用选项。感谢Bernhard Weichel。</p></li>
<li><p>LaTeX / Beamer：添加了<code>classoption</code>变量。这是用于类似的选择像<code>oneside</code> ;它可能会重复不同的选项。（感谢Oliver Matthews。）</p></li>
<li><p>Beamer：添加了<code>fonttheme</code>变量。（感谢Luis Osa。）</p></li>
<li><p>LaTeX：添加了<code>biblio-style</code>变量（＃920）。</p></li>
<li><p>DZSlides：标题部分的标题属性。</p></li>
<li><p>HTML5：添加元标记以允许用户缩放（Erik Evenson）</p></li>
</ul>
<h2 id="under-the-hood-improvements-2">引擎盖改进</h2>
<ul>
<li><p>Markdown阅读器：使用<a href="https://github.com/jgm/Markdown" class="uri">https://github.com/jgm/Markdown</a>策略改进strong / emph解析。新的解析算法不需要回溯，也不需要追踪嵌套层次。在某些边缘情况下会有不同的结果，但这些不会影响正常使用。</p></li>
<li><p>新增<code>Text.Pandoc。{0}{1}compat{/1}{/0} :Monoid</code> 。这允许pandoc与编译<code>base</code> &lt;4.5，其中<code>Data.Monoid</code>不会导出<code>&lt;&gt;</code> 。感谢Dirk Ullirch的补丁。</p></li>
<li><p>新增<code>Text.Pandoc。{0}{1}compat{/1}{/0} :TagSoupEntity</code> 。这允许pandoc与<code>tagsoup</code> 0.13.x一起编译。感谢Dirk Ullrich的补丁。</p></li>
<li><p>大部分<code>Text.Pandoc。阅读器，TeXMath</code>已被移到<code>texmath</code>模块（0.6.4）。（这允许<code>pandoc-citeproc</code>在书目领域处理简单的数学。）</p></li>
<li><p>新增<code>Text.Pandoc。编剧Shared</code>的功能只用于作家。在编写器中使用<code>metaToJSON</code>来创建JSON对象，以用于来自pandoc元数据和变量的模板。 <code>getField</code> ， <code>setField</code>和<code>defField</code>用于处理JSON模板上下文。</p></li>
<li><p>新增<code>Text.Pandoc。Asciify</code>公用程序模块。这会导出函数来创建标识符的仅ASCII版本。</p></li>
<li><p><code>Text.Pandoc。分析中</code></p>
<ul>
<li><code>readWith</code>上的通用状态类型（API更改）。</li>
<li>专门readWith <code>String</code>输入。（API更改）。</li>
<li>在<code>ParserState</code> ，更换<code>stateTitle</code> ， <code>stateAuthors</code> ， <code>stateDate</code>与<code>stateMeta</code>和<code>stateMeta'</code> 。</li>
</ul></li>
<li><p><code>Text.Pandoc。UTF8</code> ：在阅读中使用严格的字节串。在64位Windows 7/8上使用pandoc似乎会导致使用懒惰的字节串（＃874）。</p></li>
<li><p>从markdown reader中找出<code>registerHeader</code> ，添加到<code>Text.Pandoc。分析中</p></li>
<li><p>删除了<code>blaze_html_0_5</code>标志，需要<code>blaze-html</code> &gt; = 0.5。原因：&lt;0.5不提供属性的monoid实例，现在HTML编写器（＃803）需要它。</p></li>
<li><p>添加了<code>http-conduit</code>标志，它允许获取https资源。它也带来了大量的依赖（ <code>http-conduit</code>及其依赖），这就是为什么现在它是一个可选的标志（＃820）。</p></li>
<li><p>添加了CONTRIBUTING.md。</p></li>
<li><p>改进了INSTALL指令。</p></li>
<li><p><code>make-windows-installer.bat</code> ：删除可执行文件的显式路径。</p></li>
<li><p><code>aeson</code>现在使用的，而不是<code>json</code>的JSON。</p></li>
<li><p>将默认堆栈大小设置为16M。这是一些大的转换，尤其是需要。如果pandoc是用64位ghc编译的。</p></li>
<li><p>各种小文档改进。感谢achalddave和drothlis的补丁。</p></li>
<li><p>删除了扼杀近期版本的CPP的评论（＃933）。</p></li>
<li><p>删除了对GHC版本&lt;7.2的支持，因为现在pandoc-type对GHC泛型至少需要GHC 7.2。</p></li>
</ul>
<h1 id="pandoc-1.11.1-2013-03-17">pandoc 1.11.1（2013-03-17）</h1>
<ul>
<li><p>降价阅读器：</p>
<ul>
<li>修正了链接URL中丢失括号的回归。增加了测试。关闭%s</li>
<li>在<code>--smart</code>模式下更好地处理不匹配的双引号。这些在小说中经常出现，因为如果说话者在段落之间没有变化，通常不用在对话中引用引号。无与伦比的引号现在变成了文字左的双引号。（但是没有<code>Quoted</code>内联。）关闭＃99（再次）。</li>
</ul></li>
<li><p>HTML编写器：固定TOC和段之间的编号不匹配。 <code>--number-offset</code>号码<code>--number-offset</code>现在影响TOC编号以及段编号，因为它应该一直存在。关闭%s</p></li>
<li><p>减价作家：恢复1.11更改，导致引文被呈现为降价引用，即使 - <code>--bibliography</code>指定，除非<code>citation</code>扩展被禁用。现在，如果指定了<code>--bibliography</code> ，格式化的引文总是被打印出来。如果你想重新格式化markdown保持pandoc降价引用完整，不要使用 - <code>--bibliography</code> 。请注意，当从LaTeX文档解析引用将呈现为pandoc降价引用<code>--bibliography</code>没有规定。</p></li>
<li><p>ODT作家：固定回归导致腐败的ODTs。这是由于<code>Text. <code>Show</code>实例的更改<code>Text.Pandoc。漂亮？Doc</code> 。关闭＃780。</p></li>
<li><p>修复了RST阅读器和Markdown编写器中涉及代码块属性的间隔错误。关闭%s</p></li>
<li><p>Windows软件包：由于Fyodor Sheremetyev的各种改进。</p>
<ul>
<li>自动设置安装路径（程序文件或本地应用程序数据）。</li>
<li>为所有用户安装时设置系统PATH环境变量。</li>
<li>Pandoc可以使用以下命令为所有用户安装。 <code>msiexec /i pandoc-1.11.msi ALLUSERS=1</code> 。</li>
</ul></li>
<li><p>碰撞QuickCheck版本绑定。</p></li>
</ul>
<h1 id="pandoc-1.11-2013-03-09">pandoc 1.11（2013-03-09）</h1>
<ul>
<li><p>增加了<code>--number-offset</code>选项。（有关说明，请参见自述文件。）</p></li>
<li><p>新增<code>--default-image-extension</code>选项。（有关说明，请参见自述文件。）</p></li>
<li><p><code>--number-sections</code>行为改变：具有类<code>unnumbered</code>标头不会被编号。</p></li>
<li><p><code>--version</code>现在报告默认的数据目录。</p></li>
<li><p><code>Text.Pandoc。Parsing</code>不再暴露。（API更改）</p></li>
<li><p><code>Text.Pandoc。Highlighting</code>不再暴露。（API更改）</p></li>
<li><p><code>Text.Pandoc。Shared</code> ：更改<code>Element</code>类型。<code>Sec</code>现在包含一个<code>Attr</code>字段，而不仅仅是<code>String</code> 。（API更改）</p></li>
<li><p>添加<code>markdown_github</code>作为输入格式。这是1.10中的一个意外遗漏。</p></li>
<li><p>将<code>readerDefaultImageExtension</code>字段添加到<code>ReaderOptions</code> 。（API更改）</p></li>
<li><p>在<code>WriterOptions</code>添加了<code>writerNumberOffset</code>字段。（API更改）</p></li>
<li><p>Beamer模板：</p>
<ul>
<li>固定标题与longtable。感谢Joost Kremers。</li>
<li>在LaTeX模板中提供<code>\Oldincludegraphics</code> （Benjamin Bannier）。</li>
</ul></li>
<li><p>乳胶模板：</p>
<ul>
<li>加载字体后的微缩模型。Microtype需要知道正在使用什么字体。感谢dfc的补丁。</li>
<li>如果指定了<code>secnumdepth</code> <code>--number-sections</code> <code>secnumdepth</code>设置为5。这产生了相当于其他作家的行为，也编号为4和5头。关闭%s</li>
</ul></li>
<li><p>HTML阅读器：</p>
<ul>
<li>处理<code>&lt;colgroup&gt;</code>标记。</li>
<li>保留所有标题属性。</li>
</ul></li>
<li><p>乳胶读者：</p>
<ul>
<li>解析<code>\hrule</code>作为<code>HorizontalRule</code> 。关闭%s</li>
<li>解析<code>\section</code>星号变体等作为属性<code>unnumbered</code>标题。</li>
<li>阅读可选属性<code>lstlisting</code>和<code>Verbatim</code>环境。我们将这些转换为pandoc标准名称，例如<code>numberLines</code> <code>numbers=left</code> <code>startFrom=100</code> ， <code>startFrom=100</code>的<code>firstnumber=100</code> 。</li>
<li>处理列表的语言属性。</li>
<li>更好的支持逐字和环境。关闭%s</li>
</ul></li>
<li><p>降价阅读器：</p>
<ul>
<li><code>-</code>在一个属性上下文= <code>.unnumbered</code> 。这一点就是提供一种在非英文文档中指定无编号标题的方法。</li>
<li>修复了解析键/值属性的bug。如果在最后一个“}”之前有一个没有引号的属性，解析失败。</li>
<li>使反斜杠转义在属性中工作。</li>
<li>修正标题块解析。现在，如果<code>mmd_title_blocks</code>指定，pandoc会如果看到一个解析MMD标题块，即使<code>pandoc_title_blocks</code>启用。</li>
<li>重构： <code>litChar</code>现在包括实体，所以我们并不需要使用<code>fromEntities</code>如在标题。</li>
<li>在管道表中允许边界周围的空格。关闭%s</li>
<li>允许所有的尖括号自动链接中的标点符号。之前的事情<code>----</code>不允许，因为uri解析器将它们视为尾标点。关闭%s</li>
<li>使标题具有显式标识符时，使<code>implicit_header_references</code>正常工作。</li>
<li>在行块之前检查表格。否则一些管道表被视为线路块。</li>
<li>允许<code>&amp;</code>在电子邮件（为实体）。</li>
<li>正确处理标题和链接中的实体。一个降价链接<code>&lt;http://g&amp;ouml;ogle.com&gt;</code>应该是<code>http://göogle.com</code>的链接。关闭%s</li>
</ul></li>
<li><p>纺织阅读器：</p>
<ul>
<li>处理标题的属性。</li>
</ul></li>
<li><p>乳胶读者：</p>
<ul>
<li>添加<code>fig:</code>作为带标题图像的标题。这是他们需要作为数字呈现。关闭%s</li>
<li>切勿发出空白段落。（参见9.3。）</li>
<li>图中的图像处理<code>\caption</code> 。关闭%s</li>
<li>解析<code>\section*</code>等作为未编号的部分。</li>
</ul></li>
<li><p>HTML编写器：</p>
<ul>
<li>支持标题属性。如果指定了<code>--section-divs</code> ，属性会放在封闭<code>section</code>或<code>div</code>标签上。</li>
<li>修复了html + lhs输出中的回归（现在才被注意到）。以前，鸟的踪迹被遗漏。</li>
</ul></li>
<li><p>乳胶作家：</p>
<ul>
<li>省略没有项目的列表以避免LaTeX错误。</li>
<li>用 - <code>--listings</code>支持行号。如果<code>numberLines</code>类存在，我们添加<code>numbers=left</code> ;如果<code>startFrom</code>存在，我们添加<code>firstnumber=</code> 。（＃763）</li>
</ul></li>
<li><p>ConTeXt作家：</p>
<ul>
<li>删除了<code>\placecontent</code> 。这产生了一个重复的toc，与<code>\placelist</code>结合在一起。</li>
<li>使用<code>\title</code> ， <code>\subject</code>等标题与<code>unnumbered</code>类。</li>
</ul></li>
<li><p>纺织作家：</p>
<ul>
<li>支持标题属性。</li>
</ul></li>
<li><p>减价作家：</p>
<ul>
<li>在需要时使用网格表，如果启用。关闭%s</li>
<li>将引用呈现为pandoc-markdown引用。此前，引文被默认呈现为citeproc格式的引文。现在我们将它们渲染为pandoc引用，例如<code>[@item1]</code> ，除非<code>citations</code>扩展被禁用。如果您仍然希望在减价输出中使用格式化的引文，请使用<code>pandoc -t markdown-citations</code> 。</li>
</ul></li>
<li><p>RST作家：</p>
<ul>
<li>支持<code>:number-lines:</code>在代码块中。</li>
</ul></li>
<li><p>Docx作家：</p>
<ul>
<li>更好地处理显示数学。在段落中显示数学现在被放在一个单独的段落中，所以它将正确渲染（居中，没有多余的空行）。部分地址＃742。</li>
<li>内容类型和文档资源的XML文件现在是从头开始创建，而不是从<code>reference.docx</code>接管。这解决了在使用Word编辑<code>reference.docx</code>时出现的问题。</li>
<li>我们现在也为每个单独的图像编码MIME类型，而不是使用默认值。这应该使我们能够处理更广泛的图像类型（包括PDF）。关闭%s</li>
<li>在<code>reference docx</code>更改样式名称。<code>FootnoteReference</code> - &gt; <code>FootnoteRef</code> ， <code>Hyperlink</code> - &gt; <code>Link</code> 。在编辑<code>reference.docx</code>时，旧名称被Word更改。关闭%s</li>
</ul></li>
<li><p>EPUB作家：</p>
<ul>
<li>修复部分编号。以前，编号从每章中的1（带有<code>--number-sections</code> ）重新开始，尽管目录中的数字是正确的。</li>
<li>具有“未编号”属性的标题未被编号。（它们也不会导致运行编号的增量。）即使在第一个编号部分之前有材料，部分编号现在也能正常工作。</li>
<li>包括HTML TOC，甚至在epub2中。TOC包含在<code>&lt;spine&gt;</code> ，但<code>linear</code>设置为<code>no</code>除非指定了<code>--toc</code>选项。在OPF中包含<code>&lt;guide&gt;</code>元素。这应该允许TOC在Kindlegen转换时可用于Kindles。关闭%s</li>
</ul></li>
<li><p><code>Text.Pandoc。Parsing</code> ：优化<code>oneOfStringsCI</code> 。这大大降低了启用<code>autolink_bare_uris</code>扩展所带来的速度损失。罚款仍然很大（在一个测试中，从0.33s到0.44s），但远不及以前。RST阅读器现在也快得多，因为它自动检测URI。</p></li>
<li><p><code>Text.Pandoc。Shared</code> ： <code>hierarchicalize</code>不会编号的部分与“未编号”的类。未编号的部分获得<code>[]</code>的部分编号。</p></li>
<li><p><code>Text.Pandoc。漂亮？</p>
<ul>
<li>修正了<code>chomp</code>所以它在<code>Prefixed</code>元素内部<code>Prefixed</code> 。</li>
<li>更改<code>Show</code>实例，所以它是更好的调试。</li>
</ul></li>
<li><p><code>Text.Pandoc。ImageSize</code> ：添加了<code>Pdf</code>到<code>ImageType</code> 。</p></li>
<li><p><code>Text.Pandoc。UTF8</code> ：剥离BOM（如果存在）。关闭%s</p></li>
<li><p>Windows安装程序改进：</p>
<ul>
<li>安装者现在已经签署了证书（感谢Fyodor Sheremetyev）。</li>
<li>用WiX代替InnoSetup。安装程序现在是一个标准的msi文件。</li>
<li>版本号现在是自动检测的，不需要单独更新。</li>
</ul></li>
<li><p>OSX安装程序改进：</p>
<ul>
<li>包和pandoc可执行文件现在用一个证书签名（感谢Fyodor Sheremetyev）。</li>
<li>使用RTF版本的许可证。</li>
<li>在<code>InstallationCheck</code>脚本（jonahbull）中使用sysctl的完整路径。关闭%s</li>
</ul></li>
<li><p>将COPYING转换为降价。</p></li>
<li><p>pandoc.cabal：要求最新版本的突出显示kate，texmath，citeproc-hs，zip-archive。</p></li>
</ul>
<h1 id="pandoc-1.10.1-2013-01-23">pandoc 1.10.1（2013-01-23）</h1>
<ul>
<li><p>降价阅读器：各种优化，导致显着的性能提升。</p></li>
<li><p>RST阅读器：允许匿名形式的内联链接： <code>`hello &lt;url&gt;`__</code>关闭＃724。</p></li>
<li><p>Mediawiki阅读器：不要求在表格之后换行。感谢jrunningen的补丁。关闭%s</p></li>
<li><p>修正了LaTeX宏解析。现在LaTeX宏定义在输出为LaTeX时被保留，当它是另一种格式时被应用。部分地址＃730。</p></li>
<li><p>Markdown和RST阅读器：添加解析器来<code>block</code>空白行。这修复了一个涉及具有空单元的网格表的细微回归。还添加了与空单元格的网格表的测试。关闭%s</p></li>
<li><p>RST作者：使用<code>.. code:: language</code>代码块与语言。关闭%s</p></li>
<li><p>DocBook编辑器：固定强行换行输出，在<code>&lt;literallayout&gt;</code>标签之间添加换行符。</p></li>
<li><p>Markdown作家：链接文字匹配url时使用自动链接。以前我们也检查过一个空标题，但是这个测试在citeproc-hs在参考书目中产生的链接上失败了。所以，如果链接有一个标题，转换为自动链接将丢失，但似乎没问题。</p></li>
<li><p>降价作家：像以前一样设置标题，作者，日期变量。由于我们使用了标题栏，所以这些已经不再用于默认模板了，但是我们仍然为那些使用自定义模板的人设置了它们。</p></li>
<li><p>LaTeX作家：避免在表格单元格的开始/结尾有额外的空间。感谢Nick Bart建议使用@ {}。</p></li>
<li><p><code>Text.Pandoc。分析中</p>
<ul>
<li>更高效的<code>anyLine</code>版本。</li>
<li><code>macro</code>类型已经改变;解析器现在返回<code>Blocks</code>而不是<code>Block</code> 。</li>
</ul></li>
<li><p>宽松的旧版本绑定，允许1.0。*。</p></li>
<li><p>删除了过时的<code>hsmarkdown</code>脚本。那些需要<code>hsmarkdown</code>应该创建一个符号链接，如自述文件中所述。</p></li>
</ul>
<h1 id="pandoc-1.10.0.5-2013-01-23">pandoc 1.10.0.5（2013-01-23）</h1>
<ul>
<li><p>Markdown阅读器：在<code>lhsCodeBlock</code>之前尝试<code>rawTeXBlock</code> 。否则<code>\begin{code}...\end{code}</code>在markdown + lhs中处理不当。感谢Daniel Miot注意到这个错误并提出修复建议。</p></li>
<li><p>降价阅读器：修正无标题网格表的错误。1.10代码假定每个表格标题单元格只包含一个块。对于无标题表格（0）以及在标题单元格中具有多个块的表格失败。代码是固定的，并提供测试。感谢Andrew Lee指出错误。</p></li>
<li><p>降价阅读器：修复了围栏代码块的回归。关闭%s</p>
<ul>
<li>Tilde代码隔离可以再次使用一个<code>~~~ {.haskell}</code>语言字符串（ <code>~~~ haskell</code> ），而不仅仅是花括号的属性（ <code>~~~ {.haskell}</code> ）。</li>
<li>反引号代码块可以采用大括号内的属性。</li>
<li>反引号代码块<em>不需要</em>语言。</li>
<li>两种围栏代码块的合并代码。</li>
</ul></li>
<li><p>LaTeX模板：使用<code>\urlstyle{same}</code>来避免等宽的URL。</p></li>
<li><p>降价作家：使用比例字体电子邮件自动链接混淆。关闭%s</p></li>
<li><p>在README中更正了<code>blank_before_blockquote</code>名称。关闭＃718。</p></li>
<li><p><code>Text.Pandoc。Shared</code> ：修复了<code>uri</code>解析器中的错误。该错误阻止了一个字符串末尾的自动链接（例如，在一个行代码行的末尾）作为链接计数。关闭%s</p></li>
<li><p>使用<code>hsb2hs</code>预处理器而不是TH来处理embed_data_files。这应该在Windows上工作，不像TH解决方案与文件嵌入。</p></li>
<li><p>在测试套件中不使用TH。</p></li>
<li><p>新增<code>Text.Pandoc。如果选择了<code>embed_data_files</code>标志， Data</code> （非导出）将保存嵌入数据文件的关联列表。这将需要特殊处理的代码与文件嵌入或<code>hsb2hs</code> 。</p></li>
<li><p>更改<code>make-windows-installer.bat</code> 。</p>
<ul>
<li>如果任何cabal-dev安装失败，请退出批处理文件。</li>
<li>不再需要重新安装<code>highlighting-kate</code> 。</li>
<li>不要从一个<code>cabal update</code>开始;留给用户。</li>
<li>强制重新安装pandoc。</li>
</ul></li>
<li><p>修复了EPUB编写器，所以它使用blaze-html 0.4.x编译。感谢Jens Petersen。</p></li>
</ul>
<h1 id="pandoc-1.10.0.4-2013-01-20">pandoc 1.10.0.4（2013-01-20）</h1>
<ul>
<li>修正了在LaTeX阅读器中转义％的错误。关闭%s</li>
</ul>
<h1 id="pandoc-1.10.0.3-2013-01-20">pandoc 1.10.0.3（2013-01-20）</h1>
<ul>
<li>将更多缺少的fb2测试添加到cabal文件。</li>
</ul>
<h1 id="pandoc-1.10.0.2-2013-01-20">pandoc 1.10.0.2（2013-01-20）</h1>
<ul>
<li>添加fb2测试cabal文件的额外源文件。</li>
</ul>
<h1 id="pandoc-1.10.0.1-2013-01-20">pandoc 1.10.0.1（2013-01-20）</h1>
<ul>
<li>凹凸版本绑定在测试框架包上。</li>
</ul>
<h1 id="pandoc-1.10-2013-01-19">pandoc 1.10（2013-01-19）</h1>
<h2 id="new-features-4">新功能</h2>
<ul>
<li><p>新的输入格式： <code>mediawiki</code> （MediaWiki标记）。</p></li>
<li><p>新的输出格式： <code>epub3</code> （带有MathML的EPUB v3）， <code>fb2</code> （FictionBook2电子书）。</p></li>
<li><p>新增<code>--toc-depth</code>选项，指定要在目录中包含多少级别的标题。</p></li>
<li><p>新的<code>--epub-chapter-level</code>选项，指定将EPUB分割成单独文件的标题级别。请注意，这通常只影响性能，而不影响阅读器中EPUB的可视化表示。</p></li>
<li><p>删除了<code>--strict</code>选项。现在可以使用格式名称<code>markdown_strict</code>作为输入或输出，而不是使用<code>--strict</code> 。这给了更细粒度的控制是<code>--strict</code>那样，允许一个从pandoc的降价转换到严格的降价，反之亦然。</p></li>
<li><p>现在可以通过将附加（或<code>+</code>或<code>-</code> ）作者或读者姓名来启用或禁用特定的语法扩展。例如：</p>
<pre><code>pandoc -f markdown-footnotes + hard_line_breaks</code></pre>
<p>禁用脚注，并使对待换行符成为强硬的换行符。有识字的Haskell扩展现在也以这种方式实现，使用<code>+lhs</code>或<code>+literate_haskell</code> 。有关扩展名的列表，请参阅“Pandoc Markdown”下的自述文件。</p></li>
<li><p>已经为特定的降价扩展组合引入了以下别名： <code>markdown_phpextra</code> ， <code>markdown_github</code> ， <code>markdown_mmd</code> ， <code>markdown_strict</code> 。这些别名就像常规的读写器名称一样工作，并可以使用扩展修饰符进行修改，如上所述。（请注意，从一个减号方言转换到另一个减号方法并不完美，因为除了扩展名之外，减号解析器也存在差异，而且由于pandoc的内部文档模型不够丰富，无法捕获所有的扩展名。</p></li>
<li><p>新的<code>--html-q-tags</code>选项。之前的默认设置是在HTML5中使用<code>&lt;q&gt;</code>标签进行智能报价。但<code>&lt;q&gt;</code>标签也是有效的HTML4。而且，由于一些用户代理不支持这些引用，所以它们不是一种可靠的引号排版方式，并且一些CSS重置（例如引导）会阻止pandoc的引用CSS正常工作。我们现在只是在<code>html</code>和<code>html5</code>输出中插入字面引号字符，但是这个选项是为那些仍然需要<code>&lt;q&gt;</code>标签的人提供的。</p></li>
<li><p>降价阅读器现在打印有关重复链接和注释引用的警告（至stderr）。关闭%s</p></li>
<li><p>Markdown语法扩展：</p>
<ul>
<li><p>添加了管道表。感谢FrançoisGannaz的最初补丁。这些符合PHP Markdown Extra的管道表语法。还支持org-mode表语法的子集，这意味着您可以使用org-mode的好表编辑器来创建表。</p></li>
<li><p>增加了对RST风格线块的支持。这些对诗句和地址很有用。</p></li>
<li><p>现在可以为标题指定属性，使用与代码块中相同的语法。（但是，目前只有标识符对大多数作者有效。）例如：</p>
<pre><code>＃我的标题{#foo}见[上面的标题]（＃foo）。</code></pre></li>
<li><p>现在，Pandoc将像没有显式标识符的所有标题一样定义链接引用。所以，你可以这样做：</p>
<pre><code>＃我的标题链接到[我的标题]。另一个链接到[它] [我的标题]。</code></pre>
<p>关闭%s</p></li>
</ul></li>
<li><p>乳胶读者：</p>
<ul>
<li>命令宏现在可以在任何地方工作，包括非数学。环境宏仍然不受支持。</li>
<li><code>\input</code>现在<code>\input</code>工作，以及<code>\include</code> 。TEXINPUTS被使用。Pandoc将递归地查看包含的文件以获取更多的包含文件。</li>
</ul></li>
</ul>
<h2 id="behavior-changes-4">行为模式的改变</h2>
<ul>
<li><p>Markdown阅读器不再将自动链接的文本放在<code>Code</code> 。这意味着自动链接将不再以等宽字体显示。</p></li>
<li><p>字符<code>/</code>现在可以出现在降价引用键中。</p></li>
<li><p>strict_markdown中的HTML块不再需要从左边距开始。从技术上讲，这是必需的，根据<code>Markdown.pl</code>语法文档，但<code>Markdown.pl</code>和其他降价处理器是更加宽松的。</p></li>
<li><p><code>-V</code>选项已被更改，因此如果有重复的变量，则稍后在命令行中指定的变量优先。</p></li>
<li><p>现在紧张的列表在LaTeX和ConTeXt输出中工作。</p></li>
<li><p>LaTeX作家不再依赖于<code>enumerate</code>包。相反，它使用标准的LaTeX命令来更改列表编号样式。</p></li>
<li><p>LaTeX作家现在使用<code>longtable</code>而不是<code>ctable</code> 。这允许表格被分割成页面边界。</p></li>
<li><p>RST作家现在使用一个行块来渲染包含换行符的段落（以前根本不支持）。</p></li>
<li><p>降价<code>--id-prefix</code>现在将<code>--id-prefix</code>应用于脚注ID。关闭%s</p></li>
<li><p>原作者不再使用反斜线转义换行符（这不是很“简单”）。</p></li>
<li><p><code>Text.Pandoc。UTF8</code> ：对于无效的UTF8更好的错误消息。读取字节串并使用<code>Text</code>的decodeUtf8而不是使用<code>System.IO.hGetContents</code> 。这样你会得到一个消息，说“无效的UTF-8流”，而不是“无效的字节序列”。你也被告知哪个字节导致了这个问题。</p></li>
<li><p>Docx，ODT和EPUB编写者现在下载由URL指定的图像，而不是跳过它们或引发错误。</p></li>
<li><p>EPUB作家：</p>
<ul>
<li>现在默认的CSS左对齐标题，而不是居中。这与其他作者更为一致。</li>
<li><code>toc.ncx</code>现在使用适当的多级目录。每章开头不再有附件目录。</li>
<li>代码高亮现在默认工作。</li>
<li>为了更好的语义标记，部分div被默认使用。</li>
<li>目录中使用标题而不是“标题页”。否则，我们有一个硬编码的英文字符串，在用其他语言编写的电子书中看起来很奇怪。关闭%s</li>
</ul></li>
<li><p>HTML编写器：</p>
<ul>
<li>把mathjax与班级“数学”放在一起。关闭%s</li>
<li>把引文放在“引用”类的范围内。在HTML5中，还包含一个具有空格分隔的引用键列表的<code>data-cite</code>属性。</li>
</ul></li>
<li><p><code>Text.Pandoc。UTF8</code> ：在阅读中使用universalNewlineMode。无论我们在哪个平台上运行，这都将<code>\r\n</code>和<code>\n</code>当作<code>\n</code>来输入。</p></li>
<li><p>引文处理现在在Markdown和LaTeX读者中完成，而不是在<code>pandoc.hs</code> 。这使得图书馆用户更容易使用引文。</p></li>
</ul>
<h2 id="template-changes-3">模板更改</h2>
<ul>
<li><p>HTML：为模板添加了css来保留<code>&lt;code&gt;</code>标签中的空格。感谢Dirk Laurie。</p></li>
<li><p>Beamer：在章节页面中删除以英文为中心的字符串。部分页面曾经有“部分”和一个数字以及部分标题。现在他们只有标题。类似的部分和子部分。关闭%s</p></li>
<li><p>LaTeX，ConTeXt：增加纸张大小​​变量。</p></li>
<li><p>LaTeX，Beamer模板：使用longtable而不是ctable。</p></li>
<li><p>LaTeX，Beamer模板：不要求“浮动”包表。我们实际上并没有使用“[H]”选项。</p></li>
<li><p>降价，简单：固定的标题栏，所以它只是一个单一的字符串。以前使用单独的标题，作者和日期变量，但是这不允许不同类型的标题块。</p></li>
<li><p>EPUB：</p>
<ul>
<li>合理化的模板。以前有三个不同的模板涉及epub制作。现在只有一个模板， <code>default.epub</code>或<code>default.epub3</code> 。现在可以使用覆盖<code>--template</code> ，就像其他模板。标题页现在被折叠到默认模板中。一个<code>titlepage</code>变量选择它。</li>
<li>UTF-8，lang标签，元标签，标题元素。</li>
</ul></li>
<li><p>增加了对投影模板的比例缩放功能</p></li>
</ul>
<h2 id="api-changes-4">API更改</h2>
<ul>
<li><p><code>Text.Pandoc。Definition</code> ：将<code>Attr</code>字段添加到<code>Header</code> 。以前的标题标识是由作者自动生成的。现在他们被添加到读者（自动或显式）。</p></li>
<li><p><code>Text.Pandoc。模拟器</p>
<ul>
<li><code>Inlines</code>和<code>Blocks</code>现在是同义词<code>Many Inline</code>和<code>Many Block</code> 。<code>Many</code>是围绕<code>Seq</code>包装，具有<code>Many Inline</code>和<code>Many Block.自定义Monoid实例<code>Many Block.This allows</code>许多<code>to be made an instance of</code>可折叠<code>and</code>穿越<code>to be made an instance of</code> 。</li>
<li>旧的<code>Listable</code>类已被删除。</li>
<li>模块现在导出<code>isNull</code> ， <code>toList</code> ， <code>fromList</code> 。</li>
<li>旧的<code>Read</code>和<code>Show</code>实例已被删除;现在使用派生实例。</li>
<li>添加了<code>headerWith</code> 。</li>
</ul></li>
<li><p>读者现在采用<code>ReaderOptions</code>而不是<code>ParserState</code>作为参数。事实上，并不是所有的解析器都使用<code>ParserState</code>类型。一些有自定义的状态。此更改的动机是将用户可指定的选项与解析器状态的记帐功能分开。</p></li>
<li><p>新模块<code>Text.Pandoc。选项）这包括以前在<code>Text.的<code>WriterOptions</code> <code>Text.Pandoc。Shared</code>及其关联的数据类型。它还包括一个新的类型<code>ReaderOptions</code> ，它包含以前在<code>ParserState</code>中的许多选项及其相关的数据类型：</p>
<ul>
<li><code>ParserState.stateParseRaw</code> - &gt; <code>ReaderOptions.readerParseRaw</code> 。</li>
<li><code>ParserState.stateColumns</code> - &gt; <code>ReaderOptions.readerColumns</code> 。</li>
<li><code>ParserState.stateTabStop</code> - &gt; <code>ReaderOptions.readerTabStop</code> 。</li>
<li><code>ParserState.stateOldDashes</code> - &gt; <code>ReaderOptions.readerOldDashes</code> 。</li>
<li><code>ParserState.stateLiterateHaskell</code> - &gt; <code>ReaderOptions.readerLiterateHaskell</code> 。</li>
<li><code>ParserState.stateCitations</code> - &gt; <code>ReaderOptions.readerReferences</code> 。</li>
<li><code>ParserState.stateApplyMacros</code> - &gt; <code>ReaderOptions.readerApplyMacros</code> 。</li>
<li><code>ParserState.stateIndentedCodeClasses</code> - &gt; <code>ReaderOptions.readerIndentedCodeClasses</code> 。</li>
<li>增加了<code>ReaderOptions.readerCitationStyle</code> 。</li>
</ul></li>
<li><p><code>WriterOptions</code>现在包括<code>writerEpubVersion</code> ， <code>writerEpubChapterLevel</code> ， <code>writerEpubStylesheet</code> ， <code>writerEpubFonts</code> ， <code>writerReferenceODT</code> ， <code>writerReferenceDocx</code>和<code>writerTOCDepth</code> 。 <code>writerEPUBMetadata</code>已被重命名为<code>writerEpubMetadata</code>以保持一致性。</p></li>
<li><p>因为它们不再将样式表，字体，参考文件作为单独的参数，所以更改了<code>writeODT</code> ， <code>writeDocx</code>和<code>writeEPUB</code>签名。</p></li>
<li><p>删除<code>writerLiterateHaskell</code>从<code>WriterOptions</code> ，并<code>readerLiterateHaskell</code>从<code>ReaderOptions</code> 。LHS现在由一个扩展（ <code>Ext_literate_haskell</code> ）处理。</p></li>
<li><p>删除了不推荐的<code>writerXeTeX</code> 。</p></li>
<li><p>删除<code>writerStrict</code>从<code>WriterOptions</code> 。增加了<code>writerExtensions</code> 。严格现在通过扩展来处理。</p></li>
<li><p><code>Text.Pandoc。Options</code>出口<code>pandocExtensions</code> ， <code>strictExtensions</code> ， <code>phpMarkdownExtraExtensions</code> ， <code>githubMarkdownExtensions</code>和<code>multimarkdownExtensions</code> ，还有<code>Extensions</code>型。</p></li>
<li><p>新<code>Text.Pandoc。阅读器，MediaWiki</code>模块，导出<code>readMediaWiki</code> 。</p></li>
<li><p>新<code>Text.Pandoc。编剧FB2</code>模块，输出<code>writeFB2</code> （感谢Sergey Astanin）。</p></li>
<li><p><code>Text.Pandoc</code> ：</p>
<ul>
<li>将<code>getReader</code> ， <code>getWriter</code>添加到<code>Text.Pandoc</code> 。</li>
<li><code>writers</code>现在是一个关联列表<code>(String, Writer)</code> 。<code>Writer</code>可以是<code>PureStringWriter</code> ， <code>IOStringWriter</code>或<code>IOByteStringWriter</code> 。所有作家现在都在“作家”列表中，包括二进制作家和FB2作家。这允许简化<code>pandoc.hs</code>代码。</li>
<li>改变了<code>readers</code>类型，所以所有的阅读器都在IO中。需要纯粹阅读器的用户仍然可以使用阅读器模块;这只是影响了<code>getReader</code>函数，它根据格式名称查找阅读器。这个改变的重点是使解析器打印警告成为可能。</li>
</ul></li>
<li><p><code>Text.Pandoc。分析中</p>
<ul>
<li><code>Text.Parsec</code>现在导出所有在pandoc代码中使用的Parsec函数。没有其他模块直接导入Parsec。如果我们愿意，这可以使将来更改解析后端更容易。</li>
<li><code>Text.Parsec</code>而不是<code>Text.ParserCombinators。Parsec</code> 。</li>
<li>导出类型同义词<code>Parser</code> 。</li>
<li>导出<code>widthsFromIndices</code> ， <code>NoteTable'</code> ， <code>KeyTable'</code> ， <code>Key'</code> ， <code>toKey'</code> ， <code>withQuoteContext</code> ， <code>singleQuoteStart</code> ， <code>singleQuoteEnd</code> ， <code>doubleQuoteStart</code> ， <code>doubleQuoteEnd</code> ， <code>ellipses</code> ， <code>apostrophe</code> ， <code>dash</code> ， <code>nested</code> ， <code>F(..)</code> ， <code>askF</code> ， <code>asksF</code> ， <code>runF</code> ， <code>lineBlockLines</code> 。</li>
<li><code>ParserState</code>不再是<code>Show</code>一个实例。</li>
<li>新增<code>stateSubstitutions</code>和<code>stateWarnings</code>到<code>ParserState</code> 。</li>
<li><code>withQuoteContext</code>通用类型。</li>
<li>增加了<code>guardEnabled</code> ， <code>guardDisabled</code> ， <code>getOption</code> 。</li>
<li>删除了<code>failIfStrict</code> 。</li>
<li><code>lookupKeySrc</code>和<code>fromKey</code>不再导出。</li>
</ul></li>
<li><p><code>Data现在为<code>ReaderOptions</code> ， <code>WriterOptions</code>和<code>ParserState</code>提供了Default</code>实例。<code>Text.Pandoc</code>转出<code>def</code> 。现在你可以使用<code>def</code> （这是由<code>Text.重新导出<code>Text.Pandoc</code> ）而不是<code>defaultWriterOptions</code> （它仍然是定义的）。关闭%s</p></li>
<li><p><code>Text.Pandoc。共享</p>
<ul>
<li>增加了<code>safeRead</code> 。</li>
<li>将<code>removedLeadingTrailingSpace</code>重命名为<code>trim</code> ， <code>removeLeadingSpace</code>为<code>triml</code> ， <code>removeTrailingSpace</code>为<code>trimr</code> 。</li>
<li>数<code>\r</code>作为空间<code>trim</code>的功能。</li>
<li>从HTML阅读器和<code>Text.移动<code>renderTags'</code> <code>Text.Pandoc。SelfContained</code> <code>Shared</code> 。</li>
<li>删除了<code>failUnlessLHS</code> 。</li>
<li>导出<code>compactify'</code> ，以前在Markdown阅读器。</li>
<li>导出<code>isTightList</code> 。</li>
<li>不要导出<code>findDataFile</code> 。</li>
<li><code>readDataFile</code>现在返回一个严格的ByteString。</li>
<li>导出<code>readDataFileUTF8</code> ，它返回一个String，就像旧的<code>readDataFile</code> 。</li>
<li>导出<code>fetchItem</code>和<code>openURL</code> 。</li>
</ul></li>
<li><p><code>Text.Pandoc。ImageSize</code> ：使用严格而不是惰性的字节串。删除了<code>readImageSize</code> 。</p></li>
<li><p><code>Text.Pandoc。UTF8</code> ：导出<code>encodePath</code> ， <code>decodePath</code> ， <code>decodeArg</code> ， <code>toString</code> ， <code>fromString</code> ， <code>toStringLazy</code> ， <code>fromStringLazy</code> 。</p></li>
<li><p><code>Text.Pandoc。UTF8</code>现在是一个公开的模块。</p></li>
<li><p><code>Text.Pandoc。Biblio</code> ：</p>
<ul>
<li>csl参数现在是一个<code>String</code>而不是一个<code>FilePath</code> 。</li>
<li>更改了<code>processBiblio</code>类型。它不再在IO monad中。它现在需要一个<code>Maybe Style</code>参数，而不是CSL和缩写文件名的参数。 （ <code>pandoc.hs</code>现在调用解析样式文件并添加缩写的函数。）</li>
</ul></li>
<li><p>Markdown阅读器现在导出<code>readMarkdownWithWarnings</code> 。</p></li>
<li><p><code>Text.Pandoc。RTF</code>现在导出<code>writeRTFWithEmbeddedImages</code>而不是<code>rtfEmbedImage</code> 。</p></li>
</ul>
<h2 id="bug-fixes-3">Bug修复</h2>
<ul>
<li><p>使<code>--ascii</code>正常工作 - <code>--self-contained</code> 。关闭%s</p></li>
<li><p>降价阅读器：</p>
<ul>
<li><p>固定链接解析器，以避免指数减速。关闭%s以前解析器会像这样挂在输入上：</p>
<pre><code>嗨...</code></pre>
<p>我们通过在平衡括号（跳过内联代码跨度中的括号）之间设置链接解析器分析器字符，然后将结果解析为内联列表来解决这个问题。一个变化就是</p>
<pre><code>[hi * there] * bud]（/ url）</code></pre>
<p>现在不再被解析为链接。但在这方面，无论如何，pandoc的表现与大多数其他实施方式有所不同，所以看起来没问题。</p></li>
<li><p>在表格之前寻找原始的html / latex块。否则，以下内容将被解析为一个表格：</p>
<pre><code>\ begin {code} --------------  - 我的评论。\ {端代码}</code></pre>
<p>关闭%s</p></li>
</ul></li>
<li><p>RST阅读器：</p>
<ul>
<li>增加了对<code>:target:</code> on <code>:target:</code> <code>.. image::</code> blocks和替换的支持。</li>
<li><p>字段列表修复：</p>
<ul>
<li>固定字段列出了在新行（Denis Laxalde）之后正文开头的项目。</li>
<li>在RST阅读器（Denis Laxalde）的字段列表中允许任何字符但'：'。</li>
<li>不要在字段名称中换行。</li>
<li>字段列表字段名称后需要空格。</li>
<li>不要为元数据字段列表创建空的定义列表。以前，仅包括元数据字段（作者，标题，日期）的字段列表将被解析为空的DefinitionList，这在LaTeX中是不合法的，并且不需要任何格式。</li>
</ul></li>
<li>不要识别单词内部的内联标记。例如， <code>2*2 = 4*1</code>不应包含强调部分。增加了“文字符号”的测试用例。关闭%s</li>
<li>在简单表中允许破折号作为分隔符。关闭%s</li>
<li>增加了对<code>container</code> ， <code>compound</code> ， <code>epigraph</code> ， <code>rubric</code> ， <code>highlights</code> ， <code>pull-quote</code> 。</li>
<li>增加了对<code>.. code::</code>支持。</li>
<li>使指令标签不区分大小写。</li>
<li>删除了指令从左边开始的要求。这（正确）不在早期版本中; docutils不作出要求。</li>
<li>增加了对<code>replace::</code>和<code>unicode::</code> substitutions的支持。</li>
<li>忽略未知的解释角色。</li>
<li><p>将图像解析器重命名为<code>subst</code> ，因为它现在处理所有替换引用。</p></li>
</ul></li>
<li><p>纺织阅读器：</p>
<ul>
<li>允许在表中的管道之前换行。关闭%s</li>
<li>修正了包含换行符的列表项的问题。现在，pandoc正确处理列表项中的强行换行。以前他们打破了列表解析。</li>
<li>实施评论块。</li>
<li>修正了以连字符结尾的错误影响的单词。</li>
<li>正确处理与周围括号的链接。当链接没有被空格或标点符号包围，或者URL结尾可能不明确时，需要使用方括号。关闭%s</li>
<li>删除了nullBlock。更好地了解解析问题，而不是在我们卡住时跳过东西。</li>
<li>允许标题上的ID属性。</li>
<li><p>纺织品阅读器：避免破解作为三振。以前是输入</p>
<pre><code>text--文本 - 文本 - 文本 -</code></pre>会用三振而不是破折号来解析。这通过要求一个三振出发分界线来解决这个问题，而不是跟着一个。关闭%s</li>
<li>展开的<code>stringBreakers</code>列表。这修正了一个像“（ <em>你好</em> ）”这样的输入错误，这应该是一个加括号强调的“你好”。新的列表取自纺织2.4的PHP源代码。</li>
<li>修复了自动链接以前，纺织品阅读器和书写器错误地为URL和电子邮件地址实施了RST式自动链接。这已被修复。现在自动链接是这样完成的： <code>"$":http://myurl.com</code> 。</li>
<li><p>修正纺织品中的脚注错误。这影响了标点之前发生的笔记，例如<code>foo[1].</code> 。关闭%s</p></li>
</ul></li>
<li><p>乳胶读者：</p>
<ul>
<li>更好地处理引用命令。</li>
<li>更好地处理<code>\noindent</code> 。</li>
<li>在rawLaTeXBlock中添加了一个'try'，所以我们可以处理<code>\begin</code> without <code>{</code> 。关闭%s</li>
<li>使<code>rawLaTeXInline</code>尝试解析块命令。这通常是我们想要的，因为<code>rawLaTeXInline</code>在减价和纺织品阅读器中是如何使用的。如果在段落中间使用块级别的LaTeX命令（例如<code>\subtitle</code>内的<code>\subtitle</code> ），我们可以将其视为原始内联LaTeX。</li>
<li>处理命令。关闭%s</li>
<li>基本<code>\enquote</code>支持。</li>
<li>修复了从一个组开始的段落的解析。关闭%s</li>
<li>用直引号括起来。</li>
<li>支持obeylines环境。关闭%s</li>
<li>在inlineCommand和blockCommand中防止“开始”，“结束”。</li>
<li>更好的错误消息的环境。现在它应该告诉你它正在寻找\ end {env}，而不是给出“未知的解析错误”。</li>
</ul></li>
<li><p>HTML阅读器：</p>
<ul>
<li>将HTML 5标签添加到块级标签列表中。</li>
<li>HTML阅读器：修正了<code>htmlBalanced</code>错误，导致在使用严格模式解析某些降价输入时挂起。</li>
<li>将<code>&lt;q&gt;</code>解析为<code>Quoted DoubleQuote</code> 。</li>
<li>正确处理嵌套的<code>&lt;q&gt;</code>标签。</li>
<li>修改了<code>htmlTag</code>以减少误报。标签必须以<code>&lt;</code>后跟<code>!</code> ， <code>?</code> ， <code>/</code> ，或者一封信。这使得它在维基媒体和降价解析器中更有用。</li>
</ul></li>
<li><p>DocBook阅读器：支持“图”元素中的标题。关闭%s</p></li>
<li><p>MediaWiki作家：</p>
<ul>
<li>后删除换行符<code>&lt;br/&gt;</code>在翻译<code>LineBreak</code>有一个换行符没有特别需要（不是使生成的链接到MediaWiki源好看的人除外），而事实上有时是不正确的：尤其是，它是一个枚举内，列表项不能嵌入换行符。（布伦特Yorgey）</li>
<li>使用<code>&lt;code&gt;</code>而不是<code>&lt;tt&gt;</code>代码。</li>
</ul></li>
<li><p>作家：逃避<code>-</code>作为<code>\-</code> 。未转义的<code>-</code>成为连字符，而<code>\-</code>被留下ascii减号。这对于使用命令行选项更为合适。请参阅<a href="http://lintian.debian.org/tags/hyphen-used-as-minus-sign.html" class="uri">http://lintian.debian.org/tags/hyphen-used-as-minus-sign.html</a> 。感谢Andrea Bolognani提出这个问题。</p></li>
<li><p>RST作家：</p>
<ul>
<li>改进了行块输出。使用不间断空格作为初始缩进（否则在HTML和LaTeX中丢失）。允许在一个单行块中的多个段落。在行块中允许软续行。</li>
<li>正确处理没有替代文字的图像。关闭%s</li>
<li>修正了与重复文字链接的问题。我们现在（a）使用匿名链接与内联网址链接，并且（b）如果引用链接需要已经用于不同链接的标签，则使用内联链接而不是引用链接。关闭%s</li>
<li>修正超链接的图像。关闭%s当你有一个简单的链接图像时使用<code>:target:</code> field。</li>
<li>不要添加<code>:align: center</code>和数字。</li>
</ul></li>
<li><p>Texinfo作家：修正了内部交叉引用。现在我们在每个标题之后插入锚点，并使用<code>@ref</code>而不是<code>@uref</code>作为链接。逗号现在只有在需要时才会以<code>@comma{}</code>转义;以前所有的逗号都逃脱了。（这种改变是必要的，部分原因是<code>@ref</code>命令后面必须有真正的逗号或句点。）也从<code>@verbatim</code>环境中插入一个空行。</p></li>
<li><p>DocBook作者：</p>
<ul>
<li>在DocBook中使用-id前缀工作以及HTML。关闭＃607。</li>
<li>不要在图中包含空白字幕。关闭%s</li>
</ul></li>
<li><p>乳胶作家：</p>
<ul>
<li>使用<code>\hspace*</code>的不间断线突破后的空间，因为<code>~</code>线突破后的空间只是忽略。关闭%s</li>
<li>不要在URL或超参考标识符中转义<code>_</code></li>
<li>正确地转义字符串里面。关闭%s</li>
<li>仅对包含使用列表呈现的代码的幻灯片使用<code>[fragile]</code> 。关闭%s</li>
<li>逃脱<code>|</code>作为LaTeX数学中的<code>\vert</code> 。这样可以避免与突出显示的kate宏相冲突，这会重新定义<code>|</code>作为简短的逐字分隔符。感谢BjörnPeemöller提出这个问题。</li>
<li>对表中的块容器使用minipage而不是parbox。这允许逐字代码包含在网格表中。关闭%s</li>
<li>防止仅包含换行符或空格的段落。</li>
</ul></li>
<li><p>HTML编写器：</p>
<ul>
<li>还包括代码跨度的<code>highlighting-css</code> 。以前它只包含在代码块中。关闭%s</li>
<li>使用<code>&lt;dd&gt;</code>标签改进了换行符。当有多个定义时，我们现在在<code>&lt;/dd&gt;</code>和<code>&lt;dd&gt;</code>之间加一个换行符。</li>
<li>更改了mathjax cdn url，所以它不使用https。（使用 - <code>--self-contained</code>时会导致问题。）（参见9.3。）</li>
</ul></li>
<li><p>EPUB作家：</p>
<ul>
<li><code>--number-sections</code>现在正常工作。</li>
<li>不要剥夺epub元数据中的meta和link元素。补丁从异常。关闭%s</li>
<li>修复了一些验证错误。</li>
<li>章节文件名使用ch001，ch002等。这改进了一些读者的章节排序，这显然在ch10之后排序。关闭%s</li>
</ul></li>
<li><p>ODT作家：正确设置标题属性（Arlo O'Keeffe）。</p></li>
<li><p>Docx作家：</p>
<ul>
<li><p>修正了嵌套列表的错误。以前像列表一样</p>
<pre><code>1.一 - 一 - 二2.二</code></pre>会弹出一个子弹而不是“2”。感谢罗素艾伦报告错误。</li>
<li>在<code>w:r</code>使用<code>w:cr</code>而不是<code>w:br</code>作为换行符。这似乎解决了在LibreOffice中查看pandoc生成的docx文件的问题。</li>
<li>使用整数ID书签。关闭%s</li>
<li>在abstractNum元素中添加了nsid。这有助于合并Word文档与编号或项目符号列表。关闭%s</li>
<li>注释使用单独的footnotes.xml。这似乎有助于LibreOffice转换文件，即使它之前是有效的docx。关闭%s</li>
<li>r：嵌入图像中使用rIdNN标识符。</li>
<li>当我们已经处理它们时，避免再次读取图像文件。</li>
<li><p>修复了<code>referenc.docx</code>中的错误，导致图像标题无法正常工作。感谢陈华山。</p></li>
</ul></li>
<li><p><code>Text.Pandoc。分析中</p>
<ul>
<li>修正了<code>withRaw</code>错误，没有正确处理没有任何解析的情况。</li>
<li>使<code>emailAddress</code>解析器更正确。现在它基于RFC 822，但它仍然不会在电子邮件地址中实现带引号的字符串。</li>
<li>修订的URI解析器。它现在允许更多的方案，允许大写URI，并且更好地处理裸URI中的尾随标点符号和尾随斜杠。增加了很多测试。</li>
<li>简化和改进的SingleQuoteStart。这使得<code>'s'</code> ， <code>'l'</code>等，正确解析。以前我们有一些以英语为中心的启发式，但不再需要它们。关闭%s</li>
</ul></li>
<li><p><code>Text.Pandoc。Pretty</code> ：为<code>charWidth</code>添加了广泛的标点符号范围。这样可以修复markdown和reST表中的中文逗号，以及导致组合字符被删除的错误。</p></li>
<li><p><code>Text.Pandoc。MIME</code> ：添加.wof和.eot的MIME类型。关闭%s</p></li>
<li><p><code>Text.Pandoc。Biblio</code> ：</p>
<ul>
<li>元数据也运行<code>mvPunc</code>和<code>deNote</code> 。这修正了使用脚注样式的标题注释的错误。</li>
<li>修正了从CSL数据目录中获取CSL文件的问题。</li>
</ul></li>
<li><p><code>pandoc.hs</code> ：提供URL时给<code>writerSourceDirectory</code>提供正确的值。它应该是直到路径的URL。</p></li>
<li><p>固定/简化差异输出的测试。Biblio：确保mvPunc和deNote也在元数据上运行。这修正了使用脚注样式的标题注释的错误。</p></li>
</ul>
<h2 id="under-the-hood-improvements-3">在引擎盖改进之下</h2>
<ul>
<li><p>我们不再依赖于<code>utf8-string</code> 。相反，我们使用<code>Text.定义的函数<code>Text.Pandoc。使用<code>Data. UTF8</code> <code>Data.Text</code>的转换。</p></li>
<li><p>使用<code>safeRead</code>而不是直接使用<code>reads</code> （各种模块）。</p></li>
<li><p>“隐含的数字”（仅在一个段落中的图像）现在处理不同。降价阅读器给他们的标题前缀<code>fig:</code> ;作者在将图像当作一个人物来对待之前寻找这个东西。虽然这有点破解，但它有两个好处：（i）隐式数字可以限制在降价阅读器中，（ii）可以通过关闭<code>implicit_figures</code>扩展来禁用它们。</p></li>
<li><p><code>catch</code> <code>Control.现在使用Exception</code>而不是旧的Preface <code>catch</code> 。</p></li>
<li><p><code>Text.Pandoc。Shared</code> ：为<code>normalizeSpaces</code>和<code>oneOfStrings</code> （现在是非回溯）改进的算法。</p></li>
<li><p><code>Text.Pandoc。Biblio</code> ：删除<code>toCapital</code>解决方法。现在citeproc-hs是固定的上游，所以这不再需要。关闭%s</p></li>
<li><p>纺织品阅读器：提高了<code>hyphenedWords</code>速度。这使纺织品阅读器的速度提高了4倍。</p></li>
<li><p>使用<code>Text.Pandoc。使用RST阅读器进行Builder</code> ，以获得更大的灵活性，更好的性能和自动标准化。</p></li>
<li><p>降价读者主要重写：</p>
<ul>
<li>使用<code>Text.Pandoc。Builder</code>而不是列表。这也意味着一切都自动归一化。</li>
<li>移到单步解析策略，返回读者monad中的值，然后运行（在解析结束时）针对最终解析器状态。</li>
</ul></li>
<li><p>在HTML编写器中，我们现在使用<code>toHtml</code>而不是预先转义。我们的工作围绕着闪耀HTML不必要的逃逸问题<code>'</code>通过预逃避只是<code>'</code>字符，而不是整个字符串。如果闪耀HTML后停止逃跑<code>'</code>字，我们可以简化<code>strToHtml</code>到<code>toHtml</code> 。关闭%s</p></li>
<li><p>移动代码将RTF中的图像从<code>pandoc.hs</code>嵌入到RTF写入器（现在导出<code>writeRTFWithEmbeddedImages</code> ）。</p></li>
<li><p>将引用处理从<code>pandoc.hs</code>移到读者。这使图书馆用户更方便。</p></li>
<li><p>手册页现在由一个可执行的<code>make-pandoc-man-pages</code> ，它在cabal文件中有自己的节，所以依赖可以由Cabal处理。<code>Setup.hs</code>特殊处理可确保永远不会安装此可执行文件;它只是用来创建手册页。</p></li>
<li><p>cabal文件已被修改，以便在构建pandoc可执行文件时使用pandoc库。（这需要移动<code>pandoc.hs</code>从<code>src</code>到<code>.</code> ）。这减少了一半的编译时间。</p></li>
<li><p><code>executable</code>和<code>library</code>标志已被删除。</p></li>
<li><p><code>-threaded</code>已从ghc选项中删除。</p></li>
<li><p>引发了依赖关系的版本限制，现在<code>blaze_html_0_5</code>标志默认为True。Pandoc现在编译在GHC 7.6上。</p></li>
<li><p>我们现在需要base&gt; = 4.2。</p></li>
<li><p>将基准程序集成到cabal中。现在可以做：</p>
<pre><code>cabal configure --enable-benchmarks &amp;&amp; cabal build cabal bench --benchmark-option ='markdown'--benchmark-option =' -  s 20'</code></pre>
<p>现在基准测试使用README +测试套件，因此旧版本的基准测试结果不具有可比性。</p></li>
<li><p>与cabal的综合测试套件。要运行测试，请使用<code>--enable-tests</code>配置，然后进行<code>cabal test</code> 。您可以使用<code>--test-options='-t markdown'</code>来指定特定的测试。除非测试失败，否则不显示输出。Haskell测试模块已经从<code>src/</code>移动到<code>tests/</code> 。</p></li>
<li><p>将所有数据文件和模板移动到<code>data/</code>子目录。</p></li>
<li><p>添加了一个<code>embed_data_files</code> cabal标志。这将导致所有的数据文件被嵌入到二进制文件中，以便二进制文件是自给自足的，并且可以在任何地方重新定位，复制到USB密钥等等.Windows安装程序现在使用它。（由于我们不再具有在没有库的情况下构建可执行文件的选项，这是在Windows上获取可重定位二进制文​​件的唯一方法。）</p></li>
<li><p>从windows包中删除了pcre3.dll。除非突出显示kate是用<code>pcre-light</code>标志编译的，否则不需要。默认情况下，使用regex-prce-builtin。</p></li>
</ul>
<h1 id="pandoc-1.9.4.5-2012-10-21">pandoc 1.9.4.5（2012-10-21）</h1>
<ul>
<li>在网络上提高了版本的限制，base64-bytestring，json和template-haskell。</li>
</ul>
<h1 id="pandoc-1.9.4.4-2012-10-20">pandoc 1.9.4.4（2012-10-20）</h1>
<ul>
<li><p>删除了<code>tests</code>标志，并将测试套件合并到一个合适的cabal测试套件中，现在可以使用<code>--enable-tests</code>和<code>cabal test</code>运行。</p></li>
<li><p>将手册页创建从<code>Setup.hs</code>移出，并移入由Cabal构建的可执行文件，但从未安装过。这允许指定依赖关系，并解决了1.9.4.3的问题，只有在<code>data-default</code>安装<code>data-default</code>才能安装。</p></li>
<li><p>更新<code>lhs-latex.tex</code>测试以获取反引号的最新突出显示kate表示。</p></li>
</ul>
<h1 id="pandoc-1.9.4.3-2012-10-20">pandoc 1.9.4.3（2012-10-20）</h1>
<ul>
<li><p>从默认编译标记中删除了<code>-threaded</code> 。</p></li>
<li><p>用GHC 7.6和最新版本的时间包编译修改的模块。</p></li>
</ul>
<h1 id="pandoc-1.9.4.2-2012-06-29">pandoc 1.9.4.2（2012-06-29）</h1>
<ul>
<li><p>如果base&gt; = 4.4，则不要编码/解码文件路径。在4.4之前，文件路径和命令行参数被视为未编码的字节列表，而不是unicode字符串，所以我们必须通过对它们进行编码和解码来解决这个问题。这个提交添加了CPP检查的基本版本，明智地启用编码/解码需要时。修复了使用ghc 7.4（＃540）编译pandoc时多语言文件名的错误。</p></li>
<li><p>hrule幻灯片中断后不要生成空的H1。我们现在使用带有内容<code>[Str "\0"]</code>的幻灯片标题来标记一个hrule中断。这避免了在这些上下文中创建一个空的H1。关闭%s</p></li>
<li><p>Docbook阅读器：增加了对“大胆”重点的支持。感谢mb21。</p></li>
<li><p>在make_osx_package.sh中，确保citeproc-hs是使用embed_data_files标志构建的。</p></li>
<li><p>MediaWiki作家：在子列表之后避免多余的空行（Gavin Beatty）。</p></li>
<li><p>ConTeXt作家：不要逃避<code>&amp;</code> ， <code>^</code> ， <code>&lt;</code> ， <code>&gt;</code> ， <code>_</code> ，简单的转义<code>}</code>和<code>{</code> to <code>\{</code> and <code>\}</code> （Aditya Mahajan）。</p></li>
<li><p>修复了在CSS导入中绝对URL的处理方式 - <code>--self-contained</code> 。关闭%s</p></li>
<li><p>添加了webm到MIME类型。关闭%s</p></li>
<li><p>向cabal文件添加了一些缺失的导出和测试（Alexander V Vershilov）。</p></li>
<li><p>与编译<code>-rtsopts</code>和<code>-threaded</code>默认。</p></li>
</ul>
<h1 id="pandoc-1.9.4.1-2012-06-08">pandoc 1.9.4.1（2012-06-08）</h1>
<ul>
<li><p>降价阅读器：增加了<code>cf.</code>和<code>cp.</code>到可能的缩写列表。</p></li>
<li><p>LaTeX模板：增加了<code>linkcolor</code> ， <code>urlcolor</code>和<code>links-as-notes</code>变量。使TOC链接变黑。</p></li>
<li><p>乳胶模板的改进。</p>
<ul>
<li>不要打印日期，除非在文档中明确给出。</li>
<li>简化的模板。</li>
<li>默认使用fontenc [T1]，lmodern。</li>
<li>如果可用，使用微型。</li>
</ul></li>
<li><p>文献记录：</p>
<ul>
<li>在逗号后加逗号，例如<code>@item1 [50]</code> 。动机： <code>@item1 [50]</code>应尽可能靠近<code>[@item1, 50]</code> 。</li>
<li>为citeproc-hs 0.3.4中的一个bug添加了解决方法，导致脚注以引用开头为空。关闭%s</li>
</ul></li>
<li><p>修正混合列表上的文档。关闭%s</p></li>
</ul>
<h1 id="pandoc-1.9.4-2012-06-03">pandoc 1.9.4（2012-06-03）</h1>
<ul>
<li><p>简体<code>Text.Pandoc。Biblio</code>并在脚注和标题中引用了引用。我们现在通过在初始引文处理期间插入脚注来处理注释引用，稍后再做一个单独的通行证来删除注释内的注释。</p></li>
<li><p>从突出的凯特添加“zenburn”突出风格。</p></li>
<li><p>添加幻灯片作家。Slideous是一个HTML + javascript幻灯片放映格式，类似于Slidy，但可以与IE 7一起使用。（Jonas Smedegaard）</p></li>
<li><p>乳胶作家：</p>
<ul>
<li>确保在单元格末尾没有多余的空白行。这可能会导致LaTeX错误，因为它们被解释为新的段落。</li>
<li>更一致的interblock间距。</li>
<li>需要突出显示kate&gt; = 0.5.1，才能在LaTeX中正确突出显示内联代码。关闭＃527。</li>
<li>确保脚注末尾的逐字符后面跟有换行符。（修复了以前版本中的回归。）</li>
<li>在默认模板中，使用黑色作为内部链接和TOC。添加注释掉的代码来使用脚注作为链接，这在打印输出中是适用的。</li>
</ul></li>
<li><p>投影机作家：当使用 - <code>--incremental</code> ，块引用内的列表应该一次出现。（这使得Beamer输出与HTML幻灯片格式一致。）</p></li>
<li><p>ConTeXt作家：</p>
<ul>
<li>Escape <code>%</code> as <code>\letterpercent{}</code> not <code>\letterpercent</code> ，避免在<code>%</code>符号后面出现空白的空格。</li>
<li>确保<code>\stopformula</code>之后的空间。</li>
</ul></li>
<li><p>减价作家：</p>
<ul>
<li>在定义列表中使用<code>:</code> form而不是<code>~</code> ，以便与其他markdown实现更好地兼容。</li>
<li>不要用这个术语来包装，因为它打破了定义列表。</li>
<li>使用非零空格来防止在有序列表中错误识别列表标记。关闭%s</li>
</ul></li>
<li><p>组织作家：在语言名称前添加空格。关闭%s</p></li>
<li><p>Docx作家：简化的项目符号字符，使他们与Word 2007正常工作。关闭%s</p></li>
<li><p>乳胶读者：支持<code>\centerline</code> 。</p></li>
<li><p>RST阅读器：处理数字。关闭%s</p></li>
<li><p>纺织品阅读器：修复<code>&lt;notextile&gt;</code>和<code>==</code> 。关闭%s（Paul Rivier）</p></li>
</ul>
<h1 id="pandoc-1.9.3-2012-05-12">pandoc 1.9.3（2012-05-12）</h1>
<ul>
<li><p>添加了docbook阅读器（来自Mauro Bieg的贡献）。</p></li>
<li><p>修正<code>fromEntities</code>错误。以前的版本会变<code>hi &amp; low you know;</code>进入<code>hi &amp;</code> 。</p></li>
<li><p>HTML阅读器：</p>
<ul>
<li>不要跳过不间断的空格。以前一段只包含<code>&amp;nbsp;</code>会呈现为空白段落。感谢Paul Vorbach指出错误。</li>
<li>支持表格中的<code>&lt;col&gt;</code>和<code>&lt;caption&gt;</code> 。关闭%s</li>
</ul></li>
<li><p>降价阅读器：</p>
<ul>
<li>不要在分隔的代码块中识别引用。</li>
<li>允许列表项以列表开始。</li>
</ul></li>
<li><p>乳胶读者：</p>
<ul>
<li>处理<code>\bgroup</code> ， <code>\egroup</code> ， <code>\begingroup</code> ， <code>\endgroup</code> 。</li>
<li>控制顺序不能跟一个字母。这修复了<code>\begingroup</code>被解析为<code>\begin</code>后跟<code>group</code> 。</li>
<li>将“维度”参数解析为未知命令。例如<code>\parindent0pt</code></li>
<li>使<code>\label</code>和<code>\ref</code>对<code>--parse-raw</code>敏感。如果选择了<code>--parse-raw</code> ，这些将被解析为原始乳胶内联，而不是括号内的文本。</li>
<li>不要在<code>\author</code>内的未知块命令（如<code>\vspace{10pt}</code> ）上崩溃;只是跳过他们。关闭%s</li>
</ul></li>
<li><p>纺织阅读器：</p>
<ul>
<li>用<code>==</code>和<code>&lt;notextile&gt;</code>实现文字转义。关闭%s</li>
<li>增加了对LaTeX块和内联的支持（Paul Rivier）。</li>
<li>更好的符合RedCloth内联分析（Paul Rivier）。</li>
<li>解析“+文本+”强调（应加下划线，但这比在输出中留下文字加字符更好。</li>
</ul></li>
<li><p>Docx writer：修复了多段列表项。以前他们每个人都有一个列表标记。关闭%s</p></li>
<li><p>乳胶作家：</p>
<ul>
<li>添加<code>--no-tex-ligatures</code>选项以避免用TeX连字替换引号和破折号。</li>
<li>使用<code>fixltx2e</code>包提供'。</li>
<li>改善LaTeX块环境的空间：引号，逐字，逐项，描述，枚举。关闭%s</li>
<li>在latex / pdf输出中使用蓝色而不是粉红色作为URL链接。</li>
</ul></li>
<li><p>ConTeXt作家：修正<code>%</code>转义。在文本中， <code>%</code>需要以<code>\letterpercent</code> ，而不是<code>\%</code>在URL内部， <code>%</code>需要转义为<code>\%</code>感谢jmarca和adityam的修复。关闭%s</p></li>
<li><p>Texinfo写入器：转义节点标题中的特殊字符。这解决了Joost Kremers指出的一个问题。Pandoc用于在章节标题中转义“@”，但不在相应的节点标题中，导致无效的texinfo。</p></li>
<li><p>固定texinfo模板中的文档编码。解决Debian Bug＃667816。</p></li>
<li><p>减价作家：</p>
<ul>
<li>不要强制分隔的代码块左移。修正列表内的分隔代码块等问题</li>
<li>Escape <code>&lt;</code>和<code>$</code> 。</li>
</ul></li>
<li><p>LaTeX作家：使用<code>\hyperref[ident]{text}</code>作为内部链接。以前，我们使用<code>\href{\#ident}{text}</code> ，这在所有系统上都不起作用。感谢Dirk Laurie。</p></li>
<li><p>RST作家：不要包装链接引用。关闭%s</p></li>
<li><p>更新为使用最新版本的blaze-html，mtl。</p></li>
</ul>
<h1 id="pandoc-1.9.2-2012-04-05">pandoc 1.9.2（2012-04-05）</h1>
<ul>
<li><p>乳胶读者：</p>
<ul>
<li>使<code>lstlisting</code>工作成为适当的逐字环境。</li>
<li>修正了用一列解析LaTeX表的问题。</li>
</ul></li>
<li><p>乳胶作家：</p>
<ul>
<li>围绕<code>ctable</code>标题使用<code>{}</code> ，以便可以使用格式。</li>
<li>不要求eurosym包裹，除非文件有€。</li>
</ul></li>
<li><p>LaTeX模板：为<code>geometry</code> ， <code>romanfont</code> ， <code>sansfont</code> ， <code>mathfont</code> ， <code>mainfont</code>添加变量，以便用户可以更容易地自定义字体。</p></li>
<li><p>PDF作家：</p>
<ul>
<li>至少运行两次乳胶引擎，以确保PDF文件具有超链接的书签。</li>
<li>在LaTeX standalone + PDF输出中添加了PDF元数据（标题，作者）。</li>
</ul></li>
<li><p>Texinfo写入器：保留图像路径中的目录。（彼得王）</p></li>
<li><p>RST作者：根据docutils的“内联标记识别规则”（尽管我们没有完全实现unicode规则），更好地处理内联格式。现在<code>hi*there*hi</code>得到渲染正确<code>hi\ *there*\ hi</code> ，并且不必要的<code>\</code>是避免周围<code>:math:</code> ， <code>:sub:</code> ， <code>:sup:</code></p></li>
<li><p>RST阅读器：</p>
<ul>
<li>解析<code>\</code>为空，不能逃脱的空间。</li>
<li>允许<code>:math:`...`</code>即使没有后跟空白或<code>\</code> 。这没有实现复杂的规则docutils遵循，但它应该是足够好的大多数目的。</li>
<li>添加对rST default-role指令的支持。（Greg Maslov）</li>
</ul></li>
<li><p>Text.Pandoc。解析：添加<code>stateRstDefaultRole</code>字段到<code>ParserState</code> 。（Greg Maslov）</p></li>
<li><p>降价阅读器：正确处理嵌套在其他内联元素中的引用。</p></li>
<li><p>降价作家：不要用“图像”替换图像中的空白ALT。</p></li>
<li><p>DZSlides：更新了默认模板中的template.html和样式。删除离奇的CSS <code>q</code>在dzslides模板。</p></li>
<li><p>避免在HTML幻灯片的部分和标题中重复的<code>id</code>属性。</p></li>
<li><p>自述文件的改进：关于内部链接的新指令，删除了关于数学的误导性说明。</p></li>
<li><p>构建系统：</p>
<ul>
<li>修复了Windows安装程序，以便dzslides工作。</li>
<li>删除了stripansi.sh。</li>
<li>为Travis持续集成支持添加了.travis.yml ..</li>
<li>修正了zlib的上限（Sergei Trofimovich）。</li>
<li>修正了测试框架的上限。</li>
<li>更新haddock-2.10（谢尔盖·特罗菲莫维奇）的haddocks。</li>
</ul></li>
</ul>
<h1 id="pandoc-1.9.1.2-2012-03-09">pandoc 1.9.1.2（2012-03-09）</h1>
<ul>
<li><p>添加了<code>beamer+lhs</code>作为输出格式。</p></li>
<li><p>不要逃避<code>&lt;</code>在<code>&lt;style&gt;</code>与标签<code>--self-contained</code> 。这修复了一个bug，在使用<code>--self-contained</code>时候会阻止突出显示。</p></li>
<li><p>PDF：如果指定了<code>--toc</code>则运行乳胶引擎三次。这修正了目录中的页码。</p></li>
<li><p>Docx编写器：为表添加TableNormal样式。</p></li>
<li><p>LaTeX数学环境修复。现在使用<code>aligned</code>而不是不存在的<code>aligned*</code> 。 <code>multline</code>而不是不存在的<code>multiline</code> 。</p></li>
<li><p>LaTeX的作家：使用<code>\textasciitilde</code>字面<code>~</code> 。</p></li>
<li><p>HTML编写器：不要用-gladtex转义EQ标签的内容。这修正了从1.8的回归。</p></li>
<li><p>为引用的HTML5输出项使用<code>&lt;q&gt;</code>标记。引用样式可以通过修改模板或包含一个css文件来改变。包含一个默认的引用样式。</p></li>
<li><p>LaTeX阅读器：修正口音（〜{a}， <code>\c{c}</code> ）。正确处理^ {}。支持“铸造”作为一个LaTeX逐字块。</p></li>
<li><p>更新了LaTeX模板，以获得更好的语言支持。使用<code>polyglossia</code>而不是<code>babel</code>用的XeTEX。将<code>lang</code>设置为documentclass选项。 <code>\setmainlanguage</code>将使用逗号分隔的语言列表的最后一个。感谢FrançoisGannaz。</p></li>
<li><p>修复了默认的LaTeX模板，使<code>\euro</code>和<code>€</code>工作。如果使用pdflatex，则需要使用<code>eurosym</code>软件包。</p></li>
<li><p>修正了人类作家的时期逃离（感谢迈克尔·汤普森）。</p></li>
<li><p>在投影仪中固定列表标签位置。</p></li>
<li><p>在上下文<code>mainlang</code>中设置<code>mainlang</code>变量。这与乳胶作家的行为相似。 <code>mainlang</code>是lang中逗号分隔的最后一个语言列表。</p></li>
<li><p>EPUB language metadat：将例如<code>en_US</code>从locale转换为<code>en-US</code> 。</p></li>
<li><p>更改<code>-V</code>以便您可以指定一个没有值的键。这样的键得到<code>true</code>值。</p></li>
<li><p>修复了安装的手册页的权限 - 感谢Magnus Therning。</p></li>
<li><p>Windows安装程序：需要XP或更高版本。现在，安装程序在Windows 7机器上编译，该机器使用Windows 7上的引用函数修复了一个问题。</p></li>
<li><p>OSX软件包：安装前检查64位Intel CPU。</p></li>
</ul>
<h1 id="pandoc-1.9.1.1-2012-02-11">pandoc 1.9.1.1（2012-02-11）</h1>
<ul>
<li><p>在降价中更好地处理原料乳胶环境。现在</p>
<pre><code>\ begin {equation} a_1 \ end {equation}</code></pre>
<p>如预期的那样变成原始乳胶块。</p></li>
<li><p>改进LaTeX阅读器：</p>
<ul>
<li>在块命令之后跳过选项。</li>
<li>正确处理支撑<code>{\\}</code> 。</li>
<li>添加了一个需要的“尝试”。</li>
<li>引文：添加<code>,</code>以后缀如果不空格或标点符号开始。否则，我们在作者日期样式中的年份和后缀之间没有空格。</li>
</ul></li>
<li><p>为S5增加了两个所需的数据文件。这解决了<code>pandoc -t s5 --self-contained</code> 。还删除了不再使用的<code>slides.min.js</code> 。</p></li>
<li><p>修复了<code>reference.docx</code>一些小问题：“Date”风格的名称， <code>xCs</code>而不是<code>xIs</code> 。</p></li>
<li><p>修复了使用Word修改的引用docx创建docx文件的问题。问题似乎是Word修改<code>_rels/.rels</code> ，将关系的类型更改为<code>docProps/core.xml</code> 。Pandoc现在将其更改回正确的值，如果它已被修改，解决问题。</p></li>
<li><p>修正了html5模板，使其突出显示正常工作。</p></li>
</ul>
<h1 id="pandoc-1.9.1-2012-02-09">pandoc 1.9.1（2012-02-09）</h1>
<ul>
<li><p>乳胶读者：</p>
<ul>
<li>固定回归1.9;妥善处理在乳胶数学逃脱$。</li>
<li>把LaTeX诗歌的环境放在大块的地方。</li>
</ul></li>
<li><p>降价阅读器：</p>
<ul>
<li>限制strong / emph的嵌套。这避免了寄生情况下的指数式前瞻，如<code>a**a*a**a*a**a*a**a*a**a*a**a*a**a*a**</code> 。</li>
<li>改进的属性语法（以代码块/跨度）：（1）属性可以包含换行符。（2）键值属性中的值可以用双引号或单引号括起来，如果不包含空格，则不加引号。</li>
</ul></li>
<li><p>标题不再包装在降价或RST作家。</p></li>
<li><p>新增<code>stateMaxNestingLevel</code>到<code>ParserState</code> 。我们把它设置为6，所以<code>Emph</code>里面仍然可以有<code>Emph</code> ，而不是无限期的。</p></li>
<li><p>在<code>Text.更高效地实现<code>nowrap</code> <code>Text.Pandoc。漂亮？</p></li>
<li><p><code>Text.Pandoc。PDF</code> ：如果存在<code>\tableofcontents</code>运行两次胶乳。</p></li>
<li><p>需要突出显示kate&gt; = 0.5.0.2，texmath&gt; = 0.6.0.2。</p></li>
</ul>
<h1 id="pandoc-1.9.0.5-2012-02-06">pandoc 1.9.0.5（2012-02-06）</h1>
<ul>
<li><p>除非使用测试标志，否则更改cabal文件以便不需要测试程序的构建依赖。</p></li>
<li><p>LaTeX作家：在相邻的连字符之间插入<code>{}</code> ，以便它们不会在代码跨度中形成连字符（破折号）。</p></li>
</ul>
<h1 id="pandoc-1.9.0.4-2012-02-06">pandoc 1.9.0.4（2012-02-06）</h1>
<ul>
<li><p>Rails版本绑定在测试框架上，以避免在GHC 7.4.1上编译测试时出现问题。</p></li>
<li><p>LaTeX阅读器：使用原始LaTeX作为Cites的后备内联文本，因此引用不会消失，除非使用citeproc进行处理。忽略<code>\bibliographystyle</code> <code>\nocite</code> 。</p></li>
<li><p>简化的tex2pdf;它将始终运行latex两次以解析目录和超级参数。</p></li>
</ul>
<h1 id="pandoc-1.9.0.3-2012-02-06">pandoc 1.9.0.3（2012-02-06）</h1>
<ul>
<li><p>要求Cabal&gt; = 1.10。</p></li>
<li><p>调整cabal文件，以满足Cabal 1.10的要求。</p></li>
</ul>
<h1 id="pandoc-1.9.0.2-2012-02-05">pandoc 1.9.0.2（2012-02-05）</h1>
<ul>
<li>允许使用json 0.4或0.5构建。否则我们不能用ghc 6.12来编译。</li>
</ul>
<h1 id="pandoc-1.9-2012-02-05">pandoc 1.9（2012-02-05）</h1>
<h2 id="new-features-5">新功能</h2>
<ul>
<li><p>添加了一个Microsoft Word <code>docx</code>作家。作者包括对突出显示的代码和数学的支持（使用texmath的新的OMML模块将其从TeX转换为OMML，Office的本地数学标记语言）。一个新选项<code>--reference-docx</code>允许用户自定义样式。</p></li>
<li><p>添加了一个<code>asciidoc</code>作家（ <a href="http://www.methods.co.nz/asciidoc/" class="uri">http://www.methods.co.nz/asciidoc/</a> ）。</p></li>
<li><p>更好地支持幻灯片放映：</p>
<ul>
<li><p>增加了一个<code>dzslides</code>作家。由于Paul Rouget（ <a href="http://paulrouget.com/dzslides/" class="uri">http://paulrouget.com/dzslides/</a> ），DZSlides是一个轻量级的HTML5 / javascript幻灯片放映格式。</p></li>
<li><p>添加了一个LaTeX <code>beamer</code>作家。Beamer是用于创建幻灯片演示文稿的LaTeX包。</p></li>
<li><p>新的，灵活的规则将文档分割成片段和幻灯片（请参阅“用户指南”中的“构建幻灯片”）。这些向后兼容旧规则，但它们允许将幻灯片放映到包含多张幻灯片的部分和小节中。</p></li>
<li><p>新的<code>--slide-level</code>选项允许用户覆盖默认值，并在第一个标题级别下面选择包含内容的幻灯片级别。</p></li>
</ul></li>
<li><p>一个新的 - <code>--self-contained</code>选项产生HTML输出不依赖于互联网连接或任何外部文件的存在。链接的图像，CSS和JavaScript被下载（或本地获取）并以<code>data:</code> URI编码。这对制作可移植的<code>HTML slide shows.很有用<code>HTML slide shows.The --offline</code>选项已被弃用，现在<code>treated as a synonym or --self-contained</code> 。</p></li>
<li><p>支持PDF输出：</p>
<ul>
<li>删除了旧的<code>markdown2pdf</code> 。</li>
<li>现在， <code>pandoc</code>可以创建PDF文件（假设您已经安装了latex和一组适当的软件包）：只需指定一个<code>.pdf</code>扩展名的输出文件即可。</li>
<li>一个新选项<code>--latex-engine</code>允许您指定<code>pdflatex</code> ， <code>xelatex</code>或<code>lualatex</code>作为处理器。</li>
</ul></li>
<li><p>突出显示更改：</p>
<ul>
<li>语法高亮现在是标准功能;编译时不再需要<code>highlighting</code>标志。</li>
<li>新的 - 不<code>--no-highlight</code>选项允许突出显示被禁用。</li>
<li>突出显示现在可以在<code>docx</code> ， <code>latex</code>和<code>epub</code> ，以及<code>html</code> ， <code>html5</code> ， <code>dzslides</code> ， <code>s5</code>和<code>slidy</code> 。</li>
<li>新的<code>--highlight-style</code>高亮<code>--highlight-style</code>选项可以选择不同的高亮颜色主题。</li>
</ul></li>
<li><p>内部链接到部分现在在ConTeXt和LaTeX以及HTML工作。</p></li>
<li><p>现在处理LaTeX <code>\include</code>和<code>\usepackage</code>命令，只要这些文件在工作目录中。</p></li>
<li><p>EPUB改进：</p>
<ul>
<li>内部和外部链接现在可以在EPUB中使用。</li>
<li>原始的HTML是允许的。</li>
<li>新的<code>--epub-embed-font</code>选项。</li>
<li>EPUB页面的可定制模板提供了对格式化的更多控制： <code>epub-page.html</code> ， <code>epub-coverimage.html</code> ， <code>epub-titlepage.html</code> 。</li>
</ul></li>
<li><p><code>--mathml</code>现在可以与DocBook一起使用。</p></li>
<li><p>增加了对RST读写器的数学支持。内联数学使用<code>:math:`...`</code>构造。显示数学用途</p>
<pre><code>Math</code></pre>
<p>或者如果数学是多行的话，</p>
<pre><code>Math</code></pre>
<p>这些结构现在由<code>rst2latex.py</code>支持。</p></li>
<li><p>隔离代码块的Github语法在pandoc的markdown中受支持。你现在可以写</p>
<pre><code>```ruby x = 2```</code></pre>
<p>取代</p>
<pre><code>~~~ {.ruby} x = 2 ~~~~</code></pre></li>
<li><p>更简单的脚本：一个新的<code>toJsonFilter</code>函数使编写Haskell脚本来操纵Pandoc AST变得更容易。请参阅<a href="scripting.html#pandoc-1.9-changes">使用pandoc编写脚本</a> 。</p></li>
</ul>
<h2 id="behavior-changes-5">行为模式的改变</h2>
<ul>
<li><p>修正了Markdown连续列表的解析。Pandoc以前的行为与Markdown.pl的连续列表不同。因此，以下内容将被解析为单个有序列表，而不是有序列表，然后是无序列表：</p>
<pre><code>然后12 12</code></pre>
<p>这个变化使得pandoc的行为更加明智，将其解析为两个列表。列表类型（有序/无序）或列表编号样式中的任何更改都会触发新列表。因此，以下内容也将被解析为两个列表：</p>
<pre><code>一，二，二一个b。二</code></pre>
<p>既然我们认为这是Markdown.pl中的一个bug，而不是任何人都会依赖的，即使选择了<code>--strict</code>的选项，我们也不会保留旧的行为。</p></li>
<li><p><code>--smart</code>和<code>--</code> <code>--smart</code>一起工作方式不同： <code>---</code>总是<code>--smart</code> ，而且总是<code>--smart</code> 。Pandoc不再试图猜测的时候<code>-</code>要短破折号。<em>注意：</em>这可能会改变现有文档在使用pandoc进行处理时的外观。为旧文档提供了一个新选项<code>--old-dashes</code> 。</p></li>
<li><p>降价编辑器现在使用setext标题为1-2级。旧的行为（所有级别的ATX头文件）都可以使用新的<code>--atx-headers</code>选项进行恢复。</p></li>
<li><p>链接现在允许在降价图像标题。他们也被允许链接，但会在那里出现作为正规文本。那么</p>
<pre><code>[链接到[链接]（/ url）]（/网址）</code></pre>
<p>将变成</p>
<pre><code>&lt;p&gt; &lt;a href="/url"&gt;链接&lt;/a&gt; &lt;/ p&gt;</code></pre></li>
<li><p>使用<code>citeproc-hs-0.3.4</code>改进了对引用的处理。新增 - <code>--citation-abbreviations</code>选项。</p></li>
<li><p>引文关键字不能以标点符号结尾。这意味着<code>@item1.</code>将被解析为带有“item1”键的引文，后面跟着一个句点，而不是引用“item1”键，就像以前一样。</p></li>
<li><p>在HTML输出中，现在将引用放在<code>citation</code>类的范围内。</p></li>
<li><p>减价阅读器现在可以识别DocBook块和内联标签。将原始DocBook标签包含在markdown文档中始终是可能的，但是现在，pandoc将能够区分内嵌标签和相应的行为。因此，例如，</p>
<pre><code>&lt;sidebar&gt; hello &lt;/ sidebar&gt;</code></pre>
<p>将不会被封装在<code>&lt;para&gt;</code>标签中。</p></li>
<li><p>LaTeX解析器已被完全重写;它现在更加精确，健壮和可扩展。然而，它如何对待未知的乳胶有两个重要的变化。 （1）以前，未知的环境变成了BlockQuote元素;现在，他们被视为“透明”，所以<code>\begin{unknown}xyz\end{unknown}</code>和<code>xyz</code>是一样的。（2）以前，不明命令的论点是用大括号传递的;现在，大括号被剥离。</p></li>
<li><p><code>--smart</code> <code>man</code>输出不再自动选择<code>--smart</code> 。</p></li>
<li><p>已弃用的<code>--xetex</code>选项已被删除。</p></li>
<li><p><code>--html5</code> / <code>-5</code>选项已被弃用。使用<code>-t html5</code>来代替。 <code>html5</code>和<code>html5+lhs</code>现在是单独的输出格式。</p></li>
<li><p>单引号不再在HTML输出中转义。他们不需要在属性之外逃脱。</p></li>
<li><p>Pandoc将不再变换导致换行符代码块<code>&lt;br/&gt;</code>标签。</p></li>
<li><p>ODT编写器现在使用嵌入在图像中的图像大小和DPI信息来适当地调整图像的大小。</p></li>
<li><p><code>--standalone</code>对于非文本输出格式（ODT，EPUB）又是隐式的。您可以再次执行<code>pandoc test.txt -o test.odt</code>并获取独立的ODT文件。</p></li>
<li><p>Docbook作者现在使用<code>&lt;sect1&gt;</code> ， <code>&lt;sect2&gt;</code>等来代替<code>&lt;section&gt;</code> 。</p></li>
<li><p>HTML编写器现在使用<code>&lt;del&gt;</code>进行删除。</p></li>
<li><p>在带有<code>--section-divs</code> HTML输出中，classes <code>section</code>和<code>level[1,2,..6]</code>被放在<code>div</code>标签上，这样他们就可以被样式化。在使用<code>--section-divs</code> HTML 5输出中，类<code>level[1,2,...6]</code>放在<code>section</code>标签上。</p></li>
<li><p>EPUB作家更改：</p>
<ul>
<li><code>lang</code>变量现在在元数据中设置语言（如果没有设置，我们默认为语言环境）。</li>
<li>EPUB：使用UTF-8而不是十进制实体。</li>
</ul></li>
<li><p>在S5模板中为标题幻灯片添加了<code>titleslide</code>类。</p></li>
<li><p>在HTML，EPUB和docx元数据中，如果可能的话，将日期标准化为YYYY-MM-DD格式。（这是验证所必需的。）</p></li>
<li><p>突出显示的代码块中的属性现在保存在HTML中。容器元素将具有您在分隔代码块中指定的类，标识和键值属性。以前这些被剥离。</p></li>
<li><p>HTML书写器中的参考反向链接不再具有特殊的<code>footnoteBacklink</code> Backlink类。</p></li>
<li><p>HTML模板已经被分成<code>html</code>和<code>html5</code>模板。</p></li>
<li><p>作者和日期在HTML模板中处理更一致。作者现在是<code>&lt;h2&gt;</code> ，日期<code>&lt;h3&gt;</code> 。</p></li>
<li><p>在ConTeXt作家（B. Scott Michel）中使用URL作为连字符。</p></li>
<li><p>在<code>Text.Pandoc。Builder</code> ， <code>+++</code>已被<code>&lt;&gt;</code>所取代。</p></li>
</ul>
<h2 id="bug-fixes-4">Bug修复</h2>
<ul>
<li><p>更好地支持在降价和重新组合字符和东亚宽字符。</p></li>
<li><p>更好地处理单引号 - <code>--smart</code> 。以前， <code>D'oh l'*aide*</code>将用左右单引号而不是撇号来解析。这种错误现在已经修复。</p></li>
<li><p>突出显示：使用<code>reads</code>而不是<code>read</code>更好的错误处理。修复了<code>startNum="abc"</code>崩溃。</p></li>
<li><p>在第一个模板中的指令之后添加空白注释。</p></li>
<li><p><code>refId</code>实体在引用<code>refId</code> 。该<code>refId</code>期从citeproc来包含XML数字实体，而这些数据不被pandoc解析的引用密钥匹配。解决方案是揪住他们。</p></li>
<li><p>HTML阅读器：修复了使用thead和tbody解析表的bug。</p></li>
<li><p>降价阅读器：</p>
<ul>
<li>更好地处理链接网址和标题中的转义。</li>
<li>修复了参考链接中的反斜杠转义。</li>
<li>通过检查表的最上面一行没有跟着一个空白行来修正table / hrule解析中的错误。这个错误导致了一些文件和表格的放慢，因为pandoc试图将hrules解释为多行表格的顶端。</li>
<li>修复了代码块属性分析器中的错误。以前ID属性如果没有先到，就会丢失。现在属性可以以任何顺序来进行。</li>
</ul></li>
<li><p>RST阅读器：允许脚注后跟换行符，不带空格字符。</p></li>
<li><p>乳胶读者：</p>
<ul>
<li>忽略空组{}，{}。</li>
<li>LaTeX阅读器：Handle <code>\@</code> 。</li>
<li>LaTeX阅读器：不要像<code>\itemsep</code>这样的命令崩溃。</li>
<li>LaTeX阅读器：更好地处理字母环境。</li>
</ul></li>
<li><p>RST作家：修正了涉及空表格单元格的错误。简单的计算方式是假定没有非空单元格。</p></li>
<li><p>ConTeXt作家：</p>
<ul>
<li>使<code>--toc</code>工作，即使没有<code>--number-sections</code> 。</li>
<li>在链接网址中转义＃。</li>
<li>对包含代码块的脚注使用缓冲。</li>
<li>将“descr”更改为“description”，固定对齐。</li>
</ul></li>
<li><p>乳胶作家：</p>
<ul>
<li>转义欧元字符。</li>
<li>不要逃避<code>~</code>里面<code>\href{...}</code></li>
<li>在href网址中转义<code>#</code> 。</li>
<li>改进了书类的检测。我们现在检查<code>documentclass</code>变量，如果没有设置，我们通过模板本身来查看。另外，我们增加了KOMA类scrreprt和scrbook。您现在可以使用<code>pandoc -V documentclass:book mybook.txt -o mybook.pdf</code>制作一本书<code>pandoc -V documentclass:book mybook.txt -o mybook.pdf</code></li>
<li>LHS文件现在设置了“列表”变量，以便<code>code</code>环境的定义将被包含在模板中。</li>
<li>链接默认为蓝色（这可以通过修改模板中的<code>hyperref</code>设置来改变）。</li>
<li>在LaTeX模板中添加了<code>lang</code>变量。</li>
</ul></li>
<li><p>HTML编写器：</p>
<ul>
<li>修复了html5和mathml的HTML模板中的错误。</li>
<li>不要为HTML5使用自动关闭img，br，hr标记。</li>
<li>如果HTML5使用脚注，请使用<code>&lt;section&gt;</code> 。</li>
<li>更新HTML模板以使用Content-Style-Type元标记。</li>
<li>为元日期，元作者使用单独的变量。这使脚注在作者和日期字段中工作。</li>
<li>在WebTeX数学中使用'vertical-align：middle'来更好的对齐。</li>
</ul></li>
<li><p>S5 /斯莱特作家：让脚注在单独的幻灯片上出现。</p></li>
<li><p>MIME：添加了“布局缓存”getMimeType。这确保了ODT文件的META-INF / manifest.xml将具有所需的所有内容，以便LibreOffice修改的ODT文件可以用作<code>--reference-odt</code> 。</p></li>
<li><p><code>Text.Pandoc。Templates</code> ：为json模板返回空字符串。</p></li>
<li><p><code>Text.Pandoc。Biblio</code> ：</p>
<ul>
<li>在嵌套内联中递归地引用引用。</li>
<li>在解析locator和suffix时将<code>\160</code>作为空格。这修复了“p。 33“ - 当使用<code>--smart</code>时。以前整个“p。 33“将包含在后缀中，没有定位器。</li>
<li>将整个作者在文中的引文放在一个引文中。以前只是日期和其他信息在引用。</li>
<li>如果以标点符号结束，则不要将逗号+空格添加到前缀中。</li>
</ul></li>
<li><p>更新了chicago-author-date.csl。旧版本无法正确编辑没有作者的卷。</p></li>
<li><p>EPUB作家：</p>
<ul>
<li>将日期添加到EPUB主页和元数据。</li>
<li>在EPUB页面模板中添加TOC标识符。</li>
<li>不要生成多余的文件<code>cover-image.jpg</code> 。</li>
</ul></li>
</ul>
<h2 id="under-the-hood-improvements-4">在引擎盖改进之下</h2>
<ul>
<li><p>修改<code>make_osx_package.sh</code>以使用cabal-dev。项目不再以root身份安装。手册页被压缩并给予适当的权限。</p></li>
<li><p>修改Windows安装程序生成器使用cabal-dev。</p></li>
<li><p>设置：现在制作手册页与cabal-dev（至少在OSX上）一起工作。在Setup.hs中，我们现在以一种指向正确的包数据库的方式调用“runghc”，而不是总是回退到默认的用户包db。</p></li>
<li><p>已更新为与GHC 7.4.1一起使用。</p></li>
<li><p>删除了对旧时间的依赖。</p></li>
<li><p>删除了对dlist的依赖关系。</p></li>
<li><p>新的滑动目录为“独立”。</p></li>
<li><p>TeXMath编写器：使用unicode细空间来处理细小空间。</p></li>
<li><p>降价引用：不要剥离定位器的初始空间。</p></li>
</ul>
<h2 id="api-changes-5">API更改</h2>
<ul>
<li><p>除去<code>Apostrophe</code> ， <code>EmDash</code> ， <code>EnDash</code> ，和<code>Ellipses</code>从天然<code>Inline</code>在pandoc类型类型。现在我们使用带有Unicode的<code>Str</code>元素。</p></li>
<li><p>对<code>Text.改进<code>Text.Pandoc。模拟器</p>
<ul>
<li><code>Inlines</code>和<code>Blocks</code>现在是新类型（不是序列的同义词）。</li>
<li>实例是为<code>IsString</code> ， <code>Show</code> ， <code>Read</code> ， <code>Monoid</code>和一个新的<code>Listable</code>类定义的，它允许这些类在某种程度上像列表一样被操纵。幺半群追加包括自动归一化。</li>
<li><code>+++</code>已被<code>&lt;&gt;</code> （mappend）所取代。</li>
</ul></li>
<li><p>使用blaze-html代替xhtml生成HTML。这改变了<code>writeHtml</code>的类型。</p></li>
<li><p><code>Text.Pandoc。共享</p>
<ul>
<li>增加了<code>warn</code>和<code>err</code> 。</li>
<li>删除了<code>unescapeURI</code> ，修改了<code>escapeURI</code> 。 （见上面的<a href="#behavior-changes-5">行为变化</a> 。）</li>
</ul></li>
<li><p>URI转义的变化：以前，读者通过将unicode字符转换为八位字节，然后百分比编码来转义URI。现在unicode字符保持<code>escapeURI</code> ， <code>escapeURI</code>只对百分号进行编码。这给了更多可读的URI，并且与现代用户代理一起使用。在转换为<code>markdown</code> ， <code>asciidoc</code> ， <code>rst</code> ， <code>org</code> ，URI不再转义。</p></li>
<li><p>新模块<code>Text.Pandoc。自完备的</p></li>
<li><p>新模块<code>Text.Pandoc。Docx</code> 。</p></li>
<li><p>新模块<code>Text.Pandoc。PDF</p></li>
<li><p>新增<code>writerBeamer</code>到<code>WriterOptions</code> 。</p></li>
<li><p>在<code>Text.添加了<code>normalizeDate</code> <code>Text.Pandoc。共享</p></li>
<li><p>在<code>Text.添加了<code>splitStringWithIndices</code> <code>Text.Pandoc。共享这就像<code>splitWithIndices</code> ，但是它对宽广，合并和普通字符之间的区别很敏感。</p></li>
<li><p><code>Text.Pandoc。漂亮？</p>
<ul>
<li>增加了<code>chomp</code>组合器。</li>
<li>在添加<code>beforeNonBreak</code>组合器之前。这可以让你在非空白之前有条件地包含一些东西。用于RST内联数学。</li>
<li>增加了<code>charWidth</code>函数。在unicode规范EastAsianWidth.txt中标记为W或F的所有字符都获取宽度2。</li>
<li>添加了基于<code>charWidth</code> <code>realLength</code> 。 <code>realLength</code>现在用于计算偏移量。</li>
</ul></li>
<li><p>新模块<code>Text.Pandoc。Slides</code> ，用于将文档分解为幻灯片的常用功能。</p></li>
<li><p>删除<code>Text.Pandoc。S5</code> ，不再需要。</p></li>
<li><p>删除<code>Text.Pandoc。CharacterReferences</code> 。将<code>characterReference</code>移动到<code>Text.Pandoc。Parsing</code> 。 <code>decodeCharacterReferences</code>被替换<code>fromEntities</code>的<code>Text.Pandoc。```xml</p></li>
<li><p>新增<code>Text.Pandoc。图像大小这是为了在<code>docx</code>和<code>odt</code>编写器中使用，所以可以计算图像的大小和dpi。</p></li>
<li><p>删除<code>writerAscii</code>在<code>WriterOptions</code> 。</p></li>
<li><p>增加<code>writerHighlight</code> <code>WriterOptions</code> 。</p></li>
<li><p>新增<code>DZSlides</code>到<code>HTMLSlideVariant</code> 。</p></li>
<li><p><code>writeEPUB</code>有一个嵌入字体文件的新参数。</p></li>
<li><p>新增<code>stateLastStrPos</code>到<code>ParserState</code> 。这让我们可以跟踪是否在定期（非空格，非符号）字符串之后立即解析位置，这对于区分单引号开始的撇号非常有用。</p></li>
<li><p><code>Text.Pandoc。分析中</p>
<ul>
<li><code>escaped</code>现在返回一个<code>Char</code> 。</li>
<li>删除了<code>charsInBalanced'</code> ，添加了一个字符解析器作为<code>charsInBalanced</code>的参数。这是正确处理逃生等所需要的</li>
<li>加上<code>withRaw</code> 。</li>
</ul></li>
<li><p>添加到<code>toEntities</code> <code>Text.Pandoc。```xml</p></li>
<li><p><code>Text.Pandoc。阅读器，乳胶</p>
<ul>
<li>导出<code>handleIncludes</code> 。</li>
<li>导出<code>rawLaTeXBlock</code>而不是<code>rawLaTeXEnvironment'</code> 。</li>
</ul></li>
<li><p>将<code>ToJsonFilter</code>类和<code>toJsonFilter</code>函数添加到<code>Text.Pandoc</code> ，弃用旧的<code>jsonFilter</code>函数。</p></li>
<li><p><code>Text.Pandoc。高亮突出</p>
<ul>
<li>删除了<code>highlightHtml</code> ， <code>defaultHighlightingCss</code> 。</li>
<li>导出<code>formatLaTeXInline</code> ， <code>formatLaTeXBlock</code> ，并<code>highlight</code> ，再加上来自highlighting-kate的关键功能。</li>
<li>改变了突出显示功能的类型。 <code>highlight</code>返回一个<code>Maybe</code> ，而不是<code>Either</code> 。</li>
</ul></li>
</ul>
<h1 id="pandoc-1.8.2.1-2011-08-01">pandoc 1.8.2.1（2011-08-01）</h1>
<ul>
<li><p>调整任意实例以帮助避免在测试中超时。</p></li>
<li><p>增加了<code>Tests.编剧Markdown</code>到cabal文件。</p></li>
<li><p>轻松版本的pandoc类型，测试框架。</p></li>
</ul>
<h1 id="pandoc-1.8.2-2011-07-30">pandoc 1.8.2（2011-07-30）</h1>
<ul>
<li><p>增加了生成OS X包的脚本。</p></li>
<li><p>制作<code>templates</code>目录一个git子模块。这会让人们在默认模板更改时更容易修改自定义模板。</p></li>
<li><p>更改了模板命名方案： <code>FORMAT.template</code> - &gt; <code>default.FORMAT</code> 。 <strong>注意：</strong>如果您在<code>~/.pandoc/templates</code>有现有的模板，您必须重命名它们以符合新的方案！</p></li>
<li><p>默认的模板改进：</p>
<ul>
<li>HTML：在标题之后显示作者和日期。</li>
<li>HTML：制作的目录更加可定制。TOC的容器现在在模板中，所以用户可以插入标题或其他样式。（感谢Bruce D'Arcus的建议。）</li>
<li>HTML，Slidy，S5：将脚本包含在CDATA标签中。</li>
<li>Slidy，S5：增加了<code>s5-url</code>和<code>slidy-url</code>变量，而不是硬编码。例如，如果您想将滑动文件放在slidingy子目录中，则可以执行<code>pandoc -t slidy -V slidy-url=slidy -s</code> 。</li>
<li>LaTeX：使用<code>\and</code>在LaTeX文件（读写器）中分隔作者。关闭%s</li>
<li>乳胶：设置<code>\emergencystretch</code>以防止过满的线。</li>
<li>LaTeX：为<code>xetex</code>使用不同的<code>hyperref</code>选项，解决unicode书签的问题（感谢CircleCode）。</li>
<li>LaTeX：删除了<code>ucs</code>包，使用<code>utf8</code>而不是<code>utf8x</code>与<code>inputenc</code> 。这包括更少的字符，但与其他软件包更强大，而<code>ucs</code>是无人维护的。需要更好的unicode支持的用户应该使用xelatex或者lualatex。</li>
</ul></li>
<li><p>如果没有找到使用<code>--template</code>指定的模板，请在<code>datadir</code>查找。另外，如果不提供扩展，则基于作者提供一个扩展。所以，现在你可以把你<code>special.latex</code>模板<code>~/.pandoc/templates</code> ，并通过从任何目录使用它<code>pandoc -t latex --template special</code> 。</p></li>
<li><p>将<code>nonspaceChar</code>添加到<code>Text.Pandoc。分析中</p></li>
<li><p>修正了智能报价错误，现在正确处理<code>'...hi'</code> 。</p></li>
<li><p>RST阅读器：</p>
<ul>
<li>部分支持标注的脚注。</li>
<li>提高了<code>simpleReferenceName</code>解析器的准确性。</li>
</ul></li>
<li><p>HTML阅读器：</p>
<ul>
<li>用128..159范围内的字符替换正确的unicode字符，即使在HTML中声明为UTF-8的字符也经常出现。</li>
</ul></li>
<li><p>LaTeX阅读器：Handle <code>\subtitle</code>命令（在冒号和换行符之后，字幕被添加到标题中）。关闭%s</p></li>
<li><p>Leaner <code>reference.odt</code> 。</p></li>
<li><p>添加未导出的模块<code>Text.Pandoc。用于ODT编写器的MIME</code> 。</p></li>
<li><p>ODT编写器：根据存档内容构建<code>manifest.xml</code> 。这修复了包含图像的ODT中的一个错误。LibreOffice的最新版本将拒绝这些损坏，因为<code>manifest.xml</code>不包含对图像文件的引用。</p></li>
<li><p>乳胶作家：</p>
<ul>
<li>使逐字环境齐平以避免虚假的空白行。关闭%s</li>
<li>使用<code>\texttt</code>而不是<code>\verb!...!</code> ，这太脆弱了（在命令参数中不起作用）。</li>
<li>如果模板包含<code>csquotes</code>包，请使用<code>\enquote{}</code>作为引号。这为本地引用样式提供了更好的支持。（感谢Andreas Wagner的想法。）</li>
</ul></li>
<li><p>ConTeXt作家：使<code>\starttyping</code> <code>\stoptyping</code>与边缘齐平，防止虚假的空白行。</p></li>
<li><p>Slidy作家：</p>
<ul>
<li>使用带<code>--offline</code>选项的非最小化版本的<code>slidy.css</code> ，用户可以更轻松地编辑它。</li>
<li>还修正了一个错误在CSS中阻止正确的标题居中（现在报告和固定上游）。</li>
</ul></li>
<li><p>S5作家：</p>
<ul>
<li>用新的压缩版本<code>s5/default/slides.min.js</code>替换了<code>s5/default/slides.js.{comment,packed}</code> 。</li>
<li>当指定<code>--offline</code>时，使用<code>data:</code> protocol在<code>&lt;link&gt;</code>标签中嵌入S5 CSS。使用内嵌CSS不适用于Chrome或Safari。这在这些浏览器上修复了离线S5。</li>
</ul></li>
<li><p>HTML编写器：删除脚注反向链接中的英文标题。这在非英文文件中是非常重要的。</p></li>
<li><p>Docbook作者：</p>
<ul>
<li>使用CALS表。（有些老版本的docbook软件在XHTML表格中效果不好。）关闭%s</li>
<li>代码块使用<code>programlisting</code>标记（而不是<code>screen</code> ）。</li>
</ul></li>
<li><p><code>markdown2pdf</code> ：</p>
<ul>
<li>使用<code>-halt-on-error -interaction nonstopmode</code>不<code>-halt-on-error -interaction nonstopmode</code>调用latex，而不是<code>-interaction=batchmode</code> ，这实际上只是忽略了错误，导致了不好的结果。更好地知道什么时候出了问题。</li>
<li>修复了<code>pdflatex</code>非UTF-8输出问题。</li>
<li>更好的错误报告。</li>
</ul></li>
<li><p><code>--mathjax</code>现在接受一个可选的URL参数。如果没有提供，pandoc直接链接到（安全的）mathjax CDN，如现在推荐的（感谢dsanson）。</p></li>
<li><p>弃用<code>--xetex</code>在选项<code>pandoc</code> 。现在不再需要它了，因为LaTeX <code>lualatex</code>现在生成一个可以用<code>latex</code> ， <code>pdflatex</code> ， <code>lualatex</code>或<code>xelatex</code>处理的文件。</p></li>
<li><p>引入了<code>markdown2pdf</code> <code>--luatex</code>选项。这使得<code>lualatex</code>被用来创建PDF。</p></li>
</ul>
<h1 id="pandoc-1.8.1.2-2011-07-16">pandoc 1.8.1.2（2011-07-16）</h1>
<ul>
<li><p>新增<code>--epub-cover-image</code>选项。</p></li>
<li><p>记录<code>--biblatex</code>和<code>--natbib</code>选项。</p></li>
<li><p>允许带有滑动输出的<code>--section-divs</code> 。解决问题＃296。</p></li>
<li><p>禁止使用重复和降价的笔记内的笔记。这些先前造成无限循环和堆栈溢出。例如：</p>
<pre><code>（参见9.3。）</code></pre>
<p>注意引用在reST注释中是允许的，所以这不是reST的完整实现。那可以晚一点。现在我们需要防止堆栈溢出。部分解决问题＃297。</p></li>
<li><p>EPUB作家：允许非纯数学方法。</p></li>
<li><p>禁止（）引用项目键。解决问题＃304： <code>(@item1; @item2)</code>问题，因为最后的paren被解析为项目键的一部分。</p></li>
<li><p>更改了URI解析器，使其不包含尾随标点符号。所以，在RST中， <code>http://google.com.</code>应该被解析为一个链接后跟一个句点。解析器足够聪明，可以识别平衡括号，就像维基百科链接中经常出现的一样： <code>http://foo.bar/baz_(bam)</code> : <code>http://foo.bar/baz_(bam)</code> 。</p></li>
<li><p>Markdown + lhs阅读器：需要反向鸟跟踪之后的空间，以便在markdown + lhs文档的左边缘可以自由使用HTML标签。感谢Conal Elliot的建议。</p></li>
<li><p>降价阅读器：修正脚注顺序的错误（由CircleCode报告）。</p></li>
<li>RST阅读器：<ul>
<li>修正了列表末尾有多行项目的字段列表中的错误。</li>
<li>为RST <code>specialChars</code>添加了括号，因此<code>(http://google.com)</code>将作为<code>specialChars</code>链接进行解析。解决问题＃291。</li>
<li>允许<code>|</code>紧接着在RST line block中换行。</li>
</ul></li>
<li>乳胶读者：<ul>
<li>支持<code>\dots</code> 。</li>
<li>线虫后选项＆空格<code>\\[10pt]</code> 。</li>
</ul></li>
<li>纺织阅读器：<ul>
<li>链接后可以冒号。 （qerub）</li>
<li>链接后可以冒号。（Christoffer Sawicki）</li>
</ul></li>
<li>HTML阅读器：<ul>
<li>跳过<code>&lt;b&gt;</code> ， <code>&lt;emph&gt;</code>等空格</li>
<li>在简单的表格中处理tbody，thead。关闭%s</li>
<li>在某些情况下，隐含的<code>Para</code>而不是<code>Plains</code> 。</li>
</ul></li>
<li><p>OpenDocument作家：大多数非段落块之后，为第一段使用特殊的<code>First paragraph</code>样式。这允许用户指定例如仅在块的第一段之后的段落被缩进。感谢Andrea Rossato的补丁。关闭%s</p></li>
<li><p>LaTeX作家：使用表和图片标题<code>deVerb</code> 。否则，LaTeX会抱怨命令参数中的<code>\verb</code> 。感谢bbanier报告错误。</p></li>
<li><p>降价作家：插入HTML评论btw列表和缩进代码块。这可以防止代码块被解释为列表的一部分。</p></li>
<li><p>EPUB作家：添加一个meta元素指定封面。一些EPUB电子阅读器，如Nook，需要OPF元数据块内的元素来确保封面图像正确显示。（Kelsey Hightower）</p></li>
<li><p>HTML编写器：对使用非图片扩展名的图片使用嵌入标记。 （如PDF）。关闭%s</p></li>
<li><p>乳胶作家：改进表格。</p>
<ul>
<li>线条之间的空间更大，顶部对齐单元格。</li>
<li>使用ctable包，它允许脚注并提供其他选项。</li>
<li>使单元格对齐工作在多行表格中。</li>
<li>关闭%s</li>
</ul></li>
<li><p>在LaTeX，ConTeXt，RTF，Texinfo中的Un-URI转义图像文件名。在将图像文件复制到EPUB和ODT时也要这样做。关闭%s</p></li>
<li><p>更改为github问题跟踪器。</p></li>
<li><p>由于Perry Wagle增加了失败的emph / strong markdown测试用例。</p></li>
<li>滑动改进：<ul>
<li>更新为使用Slidy2。</li>
<li>修正了bug，未封闭的div标签。</li>
<li>在模板中添加<code>duration</code>变量设置这将激活计时器。</li>
<li>为title div使用“titlepage”而不是“cover”。</li>
</ul></li>
</ul>
<h1 id="pandoc-1.8.1.1-2011-02-13">pandoc 1.8.1.1（2011-02-13）</h1>
<ul>
<li><code>markdown2pdf</code> ：删除了意外包含在1.8.1版本中的一些调试线。使用这些行，临时目录在工作目录中创建，并且不会被删除。此修复程序恢复原来的行为。</li>
</ul>
<h1 id="pandoc-1.8.1-2011-02-13">pandoc 1.8.1（2011-02-13）</h1>
<ul>
<li><p>新增了<code>--ascii</code>选项。目前仅支持HTML编写器，它使用数字实体而不是UTF-8。</p></li>
<li><p>EPUB作家：-- <code>--toc</code>现在可以在每章开头提供一个目录。</p></li>
<li><p>LaTeX作家：更改数字默认为<code>htbp</code> 。这可以防止“太多未处理的浮点数”。解决问题＃285。</p></li>
<li><p><code>Text.Pandoc。UTF8</code> ：甚至在使用最近的基础时也对文件名进行编码。</p></li>
<li><p><code>markdown2pdf</code> ：修复了文件名编码问题。在谷本保罗的帮助下解决问题＃286。</p></li>
<li><p>HTML编写器：在段div中放置换行符。</p></li>
<li><p><code>Text.Pandoc。Shared</code> ：使<code>writerSectionDivs</code>默认为False。</p></li>
</ul>
<h1 id="pandoc-1.8.0.3-2011-02-05">pandoc 1.8.0.3（2011-02-05）</h1>
<ul>
<li>修正了cabal文件中的Source-repository节。</li>
</ul>
<h1 id="pandoc-1.8.0.2-2011-02-05">pandoc 1.8.0.2（2011-02-05）</h1>
<ul>
<li><p>HTML编写器：</p>
<ul>
<li>将alt文本字符串化，而不是转换为HTML。</li>
<li>在块元素之后断开线条，而不是在标签内部。HTML输出现在非常类似于整齐。解决问题＃134。</li>
</ul></li>
<li><p>降价阅读器：修正脚注块解析器中的错误（由Jesse Rosenthal指出）。当脚注块末尾的空白行包含缩进空格时出现问题。</p></li>
<li><p>共享：改进了“标准化”功能，使空间标准化。在正常的形式中，空间元素只是将两个非空间元素分开。所以，我们从来没有[空间]，或[，...，空间]。</p></li>
<li><p>“测试”：</p>
<ul>
<li>改进的任意实例。</li>
<li>增加了测试实例的超时。</li>
</ul></li>
<li><p>{0}{/0}
						请看这里
					</p>
<ul>
<li>添加了有关列表的四空间规则部分。解决问题＃283。</li>
<li>澄清数学选项的可选参数。</li>
</ul></li>
<li><p>markdown2pdf：修复了输出文件扩展名的问题。以前<code>markdown2pdf test.txt -o test.en.pdf</code>会产生<code>test.pdf</code> ，而不是<code>test.en.pdf</code> 。感谢Paolo Tanimoto的修复。</p></li>
</ul>
<h1 id="pandoc-1.8.0.1-2001-01-31">pandoc 1.8.0.1（2001-01-31）</h1>
<ul>
<li><p>修改了Interact.hs，以便与UTF8模块中的CPP宏配合使用。</p></li>
<li><p>修改了Setup.hs，以便我们不调用MakeManPage.hs，除非手册页已过期。</p></li>
</ul>
<h1 id="pandoc-1.8-2011-01-30">pandoc 1.8（2011-01-30）</h1>
<h2 id="new-features-6">新功能</h2>
<ul>
<li><p>使用Andrea Rossato的<code>citeproc-hs</code> 0.3支持引用。你现在可以写，例如，</p>
<pre><code>水是潮湿的[见@ doe99，第33-35页;也@ smith04，通道。1</code></pre>
<p>并且，当你使用处理文档<code>pandoc</code> ，使用指定引用样式<code>--csl</code>和参考书目使用<code>--bibliography</code> ，引文将被适当格式化的引文和被引著作列表替换将被添加到年底该文件。</p>
<p>这意味着您可以轻松切换不同的引文和书目风格，包括脚注，数字和作者日期格式。参考书目可以是以下任何一种格式：MODS，BibTeX，BibLaTeX，RIS，EndNote，EndNote XML，ISI，MEDLINE，Copac或JSON。有关更多详细信息，请参阅README。</p>
<p>Markdown阅读器支持引用，使用特殊语法，在LaTeX阅读器中使用natbib或biblatex语法。（感谢Nathan Gass对natbib和biblatex的支持。）</p></li>
<li><p>新的<code>textile</code>读者和作家。感谢Paul Rivier贡献了<code>textile</code>阅读器，几乎完成了Ruby <a href="http://redcloth.org/textile">RedCloth库</a>所使用的纺织语法的实现。解决问题＃51。</p></li>
<li><p>新的<code>org</code>作家，Emacs组织模式，由Puneeth Chaganti贡献。</p></li>
<li><p>新的<code>json</code>阅读器和编写器，用于读取和编写本地Pandoc AST的JSON表示。这些比<code>native</code>读写器快得多，应该用于将Pandoc序列化为文本。要在JSON表示和本地Pandoc之间进行转换，请使用<code>Text. <code>encodeJSON</code>和<code>decodeJSON</code> <code>Text.JSON.Generic</code> 。</p></li>
<li><p><code>Text.一个新的<code>jsonFilter</code>函数<code>Text.Pandoc</code>可以轻松编写转换JSON编码的pandoc文档的脚本。例如：</p>
<pre><code>-  removelinks.hs  - 从文档导入文本中删除链接。Pandoc main = interact $ jsonFilter $ bottomUp removeLink removeLink（Link xs _）= Emph xs removeLink x = x</code></pre>
<p>在使用LaTeX转换标记时使用这个命令删除链接：</p>
<pre><code>pandoc -t json | runghc removelinks.hs | pandoc -f json -t latex</code></pre></li>
<li><p>现在允许内联<code>Code</code>元素的属性，例如：</p>
<pre><code>在这个代码中，`ulist！[theclass“special”] &lt;&lt; elts` {.haskell}是...</code></pre>
<p>属性语法与分隔代码块相同。内嵌<code>Code</code>有一个额外的属性参数，就像<code>CodeBlock</code>一样。如果使用高亮显示支持编译pandoc，内联代码将在HTML输出中突出显示。解决问题＃119。</p></li>
<li><p>新的<code>RawBlock</code>和<code>RawInline</code>元素（替换<code>RawHtml</code> ， <code>HtmlInline</code>和<code>TeX</code> ）在编写脚本来转换Pandoc文档时提供了<code>HtmlInline</code>的灵活性。脚本现在可以更改每个元素在每个输出格式中的呈现方式。</p></li>
<li><p>您现在可以在markdown文档中定义LaTeX宏，而pandoc将把它们应用于TeX数学。例如：</p>
<pre><code>\ newcommand {\ plus} [2] {＃1 +＃2} $ \ plus {3} {4} $</code></pre>
<p>（12.5.8）产出由于宏被应用在阅读器中，它们将在每种输出格式中工作，而不仅仅是LaTeX。</p></li>
<li><p>LaTeX宏也可用于LaTeX文档（包括数学和非数学上下文）。</p></li>
<li><p>已经添加了一个新的<code>--mathjax</code>选项，用于使用MathJax在HTML中显示数学。解决问题＃259。</p></li>
<li><p>RST阅读器现在支持脚注。（但是，请注意，与docutils不同，pandoc忽略注释中使用的数字或符号;脚注被放入自动编号的有序列表中。）解决问题＃258。</p></li>
<li><p>新的 - <code>--normalize</code>选项会导致pandoc在写入文档之前对AST进行标准化。这意味着，例如， <code>*hi**there*</code>将被呈现为<code>&lt;em&gt;hithere&lt;/em&gt;</code>而不是<code>&lt;em&gt;hi&lt;/em&gt;&lt;em&gt;there&lt;/em&gt;</code> 。这不是默认情况，因为会有明显的性能损失。</p></li>
<li><p>新的<code>--chapters</code>命令行选项使DocBook，LaTeX和ConTeXt中的标题以“章节”（第一级）开头。解决问题＃265。</p></li>
<li><p>在DocBook输出中，如果模板包含<code>&lt;book&gt;</code> ，则<code>&lt;chapter&gt;</code>现在用于顶级标题。解决问题＃265。</p></li>
<li><p><code>pandoc</code>和<code>markdown2pdf</code>新<code>--listings</code>选项会导致LaTeX编写器使用代码块的列表包。（感谢Josef Svennigsson的pandoc补丁，以及Etienne Millon的markdown2pdf补丁。）</p></li>
<li><p><code>markdown2pdf</code>现在支持<code>--data-dir</code> 。</p></li>
<li><p>自动链接中的URL现在具有“url”类，因此可以对其进行样式化。</p></li>
<li><p>在大多数格式中改进了漂亮打印。线将更均匀地包裹和避免重复的空白行。</p></li>
<li><p>新建<code>--columns</code>命令行选项设置表格的换行和相对宽度计算的列宽。</p></li>
<li><p>Made <code>--smart</code>在HTML，RST和Textile阅读器中进行<code>--smart</code>工作，以及降价。</p></li>
<li><p>为HTML5输出添加了<code>--html5</code>选项。</p></li>
<li><p>在LaTeX阅读器（Puneeth Chaganti）中添加了对列表包的支持。</p></li>
<li><p>增加了对LaTeX阅读器中简单表格的支持。</p></li>
<li><p>增加了对HTML阅读器中简单表格的支持。</p></li>
<li><p>在许多读者和作者中显着的性能改进。</p></li>
</ul>
<h2 id="api-and-program-changes">API和程序更改</h2>
<ul>
<li><p>移动<code>Text.Pandoc。从<code>pandoc</code>包Definition</code>到一个新的辅助包， <code>pandoc-types</code> 。这将使其他程序能够以Pandoc格式提供输出，而不依赖于整个pandoc包。</p></li>
<li><p>在<code>Code</code>添加了<code>Attr</code>字段。</p></li>
<li><p>删除了<code>RawHtml</code> ， <code>HtmlInline</code>和<code>TeX</code>元素;添加了通用的<code>RawBlock</code>和<code>RawInline</code> 。</p></li>
<li><p>将通用函数移动到<code>Text.Pandoc。通用已弃用的<code>processWith</code> ，将其替换为<code>bottomUp</code>和<code>topDown</code>两个函数。删除了先前弃用的函数<code>processPandoc</code>和<code>queryPandoc</code> 。</p></li>
<li><p>新增<code>Text.Pandoc。Builder</code> ，用于构建<code>Pandoc</code>结构。</p></li>
<li><p><code>Text.Pandoc</code>现在出口协会名单<code>readers</code>和<code>writers</code> 。</p></li>
<li><p>新增<code>Text.Pandoc。阅读器，Native</code> ，其中出口<code>readNative</code> 。 <code>readNative</code>现在可以读取完整的pandoc文档，块列表，块，内联列表或内联。它会将<code>Str "hi"</code>解释为<code>Pandoc (Meta [] [] []) [Plain [Str "hi"]]</code> 。这应该使测试更容易。</p></li>
<li><p>已删除不建议的<code>-C/--custom-header</code>选项。改用 - <code>--template</code> 。</p></li>
<li><p><code>--biblio-file</code>已被替换为<code>--bibliography</code> 。 <code>--biblio-format</code>已被删除; pandoc现在猜测文件扩展名的格式（参见自述文件）。</p></li>
<li><p>只有具有<code>http(s)</code>方案的情况下，pandoc才会将参数视为URI。以前，pandoc会将一些以<code>C:/</code>开头的Windows路径名称视为URI。</p></li>
<li><p>该<code>--sanitize-html</code>选项和<code>stateSanitize</code>现场<code>ParserState</code>已被删除。使用基于pandoc消毒的<code>xss-sanitize</code>生成的HTML中消毒效果更好，但是效果有所改善。</p></li>
<li><p>现在，pandoc在片段模式（= not  - <code>--standalone</code> ）中添加一个换行符到输出<code>--standalone</code> 。</p></li>
<li><p>例如，在HTML模板的<code>html</code>标签中添加了对<code>lang</code>支持，所以您可以执行<code>pandoc -s -V lang=es</code> 。</p></li>
<li><p><code>Text. <code>highlightHtml</code> <code>Text.Pandoc。Highlighting</code>现在需要一个布尔参数来选择“inline”和“block”HTML。</p></li>
<li><p><code>Text.Pandoc。编剧RTF</code>现在导出<code>rtfEmbedImage</code> 。如果可能，图像被嵌入在RTF输出中（png，jpeg）。解决问题＃275。</p></li>
<li><p>新增<code>Text.Pandoc。漂亮？这比<code>pretty</code>包更适合pandoc。更改了所有使用<code>Text.PrettyPrint。HughesPJ</code>使用<code>Text.Pandoc。Pretty</code>来代替。</p></li>
<li><p>使用新的漂亮模块<code>writeNative</code>了writeNative。它现在快得多。输出已经变得更加一致和压缩了。 <code>writeNative</code>现在也对<code>writeNative</code>非常敏感<code>, and will simply</code>如果writerStandalone`为False <code>, and will simply</code>打印一个块列表。</p></li>
<li><p>删除<code>Text.Pandoc。区块<code>Text.Pandoc。Pretty</code>允许你定义块并连接它们，所以不再需要单独的模块。</p></li>
<li><p><code>Text.Pandoc。共享</p>
<ul>
<li>将<code>writerColumns</code> ， <code>writerChapters</code>和<code>writerHtml5</code>到<code>WriterOptions</code> 。</li>
<li>增加了<code>normalize</code> 。</li>
<li>除去不需要的以漂亮的功能： <code>wrapped</code> ， <code>wrapIfNeeded</code> ， <code>wrappedTeX</code> ， <code>wrapTeXIfNeeded</code> ， <code>hang'</code> ， <code>BlockWrapper</code> ， <code>wrappedBlocksToDoc</code> 。</li>
<li><code>splitBy</code>测试而不是一个元素。</li>
<li>增加了<code>findDataFile</code> ，重构了<code>readDataFile</code> 。</li>
<li>添加<code>stringify</code> 。使用<code>stringify</code> <code>inlineListToIdentifier</code> 。</li>
<li>修正了<code>inlineListToIdentifier</code>把'\ 160'当作''。</li>
</ul></li>
<li><p><code>Text.Pandoc。阅读器，HTML</p>
<ul>
<li>删除了<code>rawHtmlBlock</code> ， <code>anyHtmlBlockTag</code> ， <code>anyHtmlInlineTag</code> ， <code>anyHtmlTag</code> ， <code>anyHtmlEndTag</code> ， <code>htmlEndTag</code> ， <code>extractTagType</code> ， <code>htmlBlockElement</code> ， <code>htmlComment</code></li>
<li>添加了<code>htmlTag</code> ， <code>htmlInBalanced</code> ， <code>isInlineTag</code> ， <code>isBlockTag</code> ， <code>isTextTag</code></li>
</ul></li>
<li><p>从<code>Text.移动<code>smartPunctuation</code> <code>Text.Pandoc。阅读器，Markdown</code>到<code>Text.Pandoc。阅读器，Parsing</code>并使用内联分析器对其进行参数化。</p></li>
<li><p>椭圆不再允许包含空格。以前我们允许'。 。 '，'。 。等等。这造成了太多的复杂性，并且消除了作者将椭圆与空格和句点相结合的灵活性。</p></li>
<li><p>允许URL中的换行符（视为空格）。此外，现在将一串连续的空格或制表符分析为单个空格。如果您的网址中有多个空格，请使用<code>%20%20</code> 。</p></li>
<li><p><code>Text.Pandoc。分析中</p>
<ul>
<li>删除了<code>refsMatch</code> 。</li>
<li>隐藏<code>Key</code>构造函数。</li>
<li>删除了<code>Key</code>自定义<code>Ord</code>和<code>Eq</code>实例。</li>
<li>添加<code>toKey</code>和<code>fromKey</code>以在<code>Key</code>和<code>[Inline]</code>之间转换。</li>
<li><code>readWith</code>上的广义类型。</li>
</ul></li>
<li><p>计算表列相对宽度的小改动。如果标题的大小&gt;指定的列宽，为了计算列的相对宽度，使用标题大小作为100％。</p></li>
<li><p>Markdown编写器现在使用一些特定于pandoc的特性，当<code>--strict</code>没有指定时： <code>\</code> newline用于强行换行，而不是两个空格，然后换行。当有属性时使用分隔的代码块。</p></li>
<li><p>HTML编写器：通过适当地设置ENV显示或内联数学改进了gladTeX输出（Jonathan Daugherty）。</p></li>
<li><p>LaTeX作家：使用<code>\paragraph</code> ， <code>\subparagraph</code> 4,5级标题的子<code>\paragraph</code> 。</p></li>
<li><p>乳胶读者：</p>
<ul>
<li><code>\label{foo}</code>和<code>\ref{foo}</code>现在变成<code>{foo}</code>而不是<code>(foo)</code> 。</li>
<li><code>\index{}</code>命令被跳过。</li>
</ul></li>
<li><p>添加<code>fontsize</code>变量到默认的LaTeX模板。这可以使用<code>markdown2pdf</code> ： <code>markdown2pdf -V fontsize=12pt input.txt</code>来设置字体大小。</p></li>
<li><p>修正了在LaTeX头文件中使用超级引用时的缺陷，方法是在默认的LaTeX模板中添加一个命令，禁止pdf字符串中的<code>\sout</code> 。感谢Joost Kremers的修复。</p></li>
<li><p><code>COLUMNS</code>环境变量不再有任何作用。</p></li>
</ul>
<h2 id="under-the-hood-improvements-5">引擎盖改进</h2>
<ul>
<li><p>Pandoc现在编译GHC 7。（仅此一项就能显着提高绩效，15-20％）。</p></li>
<li><p>使用tagsoup作为词法分析器完全重写了HTML阅读器。新的阅读器更快，更准确。不像老读者，它不会陷入一些输入（问题＃277,255）。它处理标签中的命名空间（问题＃274）。</p></li>
<li><p>用更快的版本替换了<code>escapeStringAsXML</code> 。</p></li>
<li><p>在Text中<code>spaceChar</code>和一些其他解析器。Pandoc。解析显着的性能提升。</p></li>
<li><p>通过重写分析器来提高所有读者的性能。</p></li>
<li><p>简体文本。Pandoc。CharacterReferences通过使用TagSoup的实体查找功能。</p></li>
<li><p><code>Text.Pandoc。UTF8</code>现在使用<code>System.的unicode感知IO功能<code>System.IO</code>如果base&gt; = 4.2。这给了Windows窗口行结束的支持。</p></li>
<li><p>通过使用<code>MakeManPage.hs</code>从README生成pandoc手册页来消除文档中的重复。</p></li>
<li><p>README现在包含对markdown语法的完整描述，包括非pandoc特定的部分。从中提取了一个新的<code>pandoc_markdown</code>手册页，因此您可以通过执行<code>man pandoc_markdown</code>来查找markdown语法。</p></li>
<li><p>完全修改了测试框架（在Nathan Gass的帮助下）。当<code>tests</code> Cabal标志被设置时，新的测试框架被建立。它包括旧的集成测试，还包括一些新的单元和快速检查测试。测试输出已经有了很大的改进，你现在可以在<code>cabal test</code>之后指定一个glob模式来指示应该运行哪些测试。例如<code>cabal test citations</code>将运行所有的引文测试。</p></li>
<li><p>添加了一个shell脚本<code>stripansi.sh</code> ，用于从测试输出过滤ANSI控制序列： <code>cabal test | ./stripansi.sh &gt; test.log</code> 。</p></li>
<li><p>增加了<code>Interact.hs</code> ，以便在开发时更易于使用ghci。<code>Interact.hs</code>从<code>src</code>目录加载<code>ghci</code> ，指定加载pandoc模块所需的所有选项（包括通过解析dist / setup-config获取的特定软件包依赖项）。</p></li>
<li><p>新增<code>Benchmark.hs</code> ，使用标准测试所有读者+作者。</p></li>
<li><p>添加了<code>stats.sh</code> ，以便于收集和存档基准和行代码统计信息。</p></li>
<li><p>增加了所有cabal依赖关系的上限。</p></li>
<li><p>将手册页包含在额外源文件中。这允许用户从tarball安装pandoc，而无需构建手册页。</p></li>
</ul>
<h2 id="bug-fixes-5">Bug修复</h2>
<ul>
<li><p>文件名被编码为UTF8。解决问题＃252。</p></li>
<li><p>- 在<code>--smart</code>模式下更好地处理卷曲的报价。以前，卷曲的引号刚刚被解析，导致一些输出格式的问题。现在，他们被解析为<code>Quoted</code>联，如果 - <code>--smart</code>指定。解决问题＃270。</p></li>
<li><p>Text.Pandoc。解析：修复了网格表分析器中的错误。行末的空格没有被正确地删除，导致意外的LineBreaks。</p></li>
<li><p>降价阅读器：</p>
<ul>
<li>在markdown中允许HTML注释作为内联元素。所以， <code>aaa &lt;!-- comment --&gt; bbb</code>可以是单个段落。</li>
<li>修正了带有链接的上标： <code>^[link](/foo)^</code>被识别为上标链接，而不是内联注释，随后是垃圾。</li>
<li>固定回归，使降价参考键再次不区分大小写。解决问题＃272。</li>
<li>在行尾正确处理缩写（如<code>Mr.</code> ）。</li>
<li>更好地处理内部字下划线，避免在某些情况下指数级的减速。解决问题＃182。</li>
<li>修正了标题中空白行的表中的对齐错误。</li>
</ul></li>
<li><p>RST阅读器：</p>
<ul>
<li>字段列表现在允许字段名称中的空格，并阻止字段值中的内容。（感谢Lachlan Musicman指出错误。）</li>
<li>定义列表项现在总是<code>Para</code>而不是<code>Plain</code> ，匹配<code>rst2xml.py</code>行为。</li>
<li>在图像块中，描述被正确解析并用于alt属性，而不是标题。</li>
<li>在文件开头跳过空行。解决Debian＃611328。</li>
</ul></li>
<li><p>乳胶读者：</p>
<ul>
<li>改进了前导码的解析。以前，在包含<code>\begin{document}</code>中，比如逐字块，会出现意想不到的行为。</li>
<li>允许<code>\begin</code>或<code>\end</code>和<code>{</code>之间的空格。</li>
<li>支持<code>\L</code>和<code>\l</code> 。</li>
<li>跳过段落内的评论。</li>
</ul></li>
<li><p>乳胶作家：</p>
<ul>
<li>转义<code>\href{..}</code>字符串。</li>
<li>在非简单表格中，将单元格放在<code>\parbox</code> 。</li>
</ul></li>
<li><p>OpenDocument作家：不要打印生TeX。</p></li>
<li><p>减价作家：</p>
<ul>
<li>修正了<code>Image</code>错误。URI已经两次失败了！</li>
<li>如果没有注释或引用，请避免在最后打印额外的空白行。</li>
</ul></li>
<li><p>LaTeX和ConTeXt：Escape <code>[</code>和<code>]</code>作为<code>{[}</code>和<code>{]}</code> 。这可以避免不必要的解释作为一个可选的参数。</p></li>
<li><p>ConTeXt作家：修复了内联代码的问题。以前<code>}</code>会呈现<code>\type{}}</code> 。现在我们检查字符串'}'和'{'。如果不包含，请使用<code>\type{}</code> ;否则使用<code>\mono{}</code>与字符串的转义版本。</p></li>
<li><p><code>:</code>现在允许HTML标记。解决问题＃274。</p></li>
</ul>
<h1 id="pandoc-1.6-2010-07-24">pandoc 1.6（2010-07-24）</h1>
<ul>
<li><p>新的EPUB和HTML Slidy作家。版本</p>
<ul>
<li><a href="http://en.wikipedia.org/wiki/EPUB">EPUB</a>是一种标准的电子书格式，用于苹果的iPad和iPhone的iBooks，Barnes和Noble的角落阅读器，索尼阅读器，以及其他许多设备，以及像<a href="http://bookworm.oreilly.com/">书虫</a>这样的在线电子书阅读器。（亚马逊的Kindle使用不同的格式，MobiPocket，但EPUB书籍可以很容易地转换为Kindle格式。）现在，您可以使用markdown编写您的书籍，并使用单个命令生成电子书！我在<a href="http://johnmacfarlane.net/pandoc/epub.html">这里写</a>了一个简短的<a href="http://johnmacfarlane.net/pandoc/epub.html">教程</a> 。</li>
<li>像S5一样， <a href="http://www.w3.org/Talks/Tools/Slidy">Slidy</a>是一个制作HTML + javascript幻灯片的系统。</li>
</ul></li>
<li><p>无论locale和ghc的版本是什么，所有的输入都被认为是UTF-8，所有的输出都是UTF-8。这恢复到1.5之前的行为。另外，如果存在BOM，则从输入中剥离BOM。</p></li>
<li><p>Markdown现在支持网格表，其单元格可以包含任意的块元素。版本</p></li>
<li><p>序列编号的示例列表中用<code>@</code>标记降价。</p></li>
<li><p>降价表格标题可以裸露的冒号开始，不再需要包含英文单词“table”。此外，现在可以在表格之前或之后出现标题。版本</p></li>
<li><p>新的命令行选项：</p>
<ul>
<li><code>--epub-stylesheet</code>允许你指定一个CSS文件，用来设置你的电子书风格。</li>
<li><code>--epub-metadata</code>允许您为电子书指定元数据。</li>
<li><code>--offline</code>会使生成的HTML幻灯片包含所有需要的脚本和样式表。</li>
<li><code>--webtex</code>导致使用Google Charts API将TeX数学转换为图像（除非指定了不同的URL）。</li>
<li><code>--section-divs</code>导致div标签被添加到HTML文档的每个部分周围。版本</li>
</ul></li>
<li><p>S5编写器在独立模式下的默认行为已经发生了变化：以前，它将在生成的HTML中包含所有需要的脚本和样式表;现在，除非使用<code>--offline</code>选项，否则只包含链接。</p></li>
<li><p>HTML编写器的默认行为已经改变。在1.2和1.5之间，pandoc会在div标签中包含带有标识符的div标签中的部分，以便可以在javascript中操作这些部分。这会导致与原始HTML div标记的不良交互。所以，从1.6开始，默认是将标识符直接放在标题标签上，而不是包含div。 <code>--section-divs</code>选项选择1.2-1.5行为。</p></li>
<li><p>API更改：</p>
<ul>
<li><code>HTMLMathMethod</code> ：添加<code>WebTeX</code> ，删除<code>MimeTeX</code> 。</li>
<li><code>WriterOptions</code> ：添加了<code>writerUserDataDir</code> ， <code>writerSourceDirectory</code> ， <code>writerEPUBMetadata</code>字段。删除了<code>writerIncludeBefore</code> ， <code>writerIncludeAfter</code> 。</li>
<li>添加<code>headerShift</code> <code>Text.Pandoc。共享</li>
<li>从<code>Text.移动解析代码和<code>ParserState</code> <code>Text.Pandoc。Shared</code>到一个新的模块， <code>Text.Pandoc。分析中</li>
<li>新增<code>stateHasChapters</code>到<code>ParserState</code> 。</li>
<li>添加了<code>HTMLSlideVariant</code> 。</li>
<li>制作<code>KeyTable</code>地图而不是关联列表。</li>
<li>为<code>Meta</code>字段添加访问器（ <code>docTitle</code> ， <code>docAuthors</code> ， <code>docDate</code> ）。</li>
<li><code>Pandoc</code> ， <code>Meta</code> ， <code>Inline</code>和<code>Block</code>已经被赋予了<code>Ord</code>实例。</li>
<li>引用键现在有一个自己的（ <code>Key</code> ）类型，用它自己的<code>Ord</code>实例进行不区分大小写的比较。</li>
<li>新增<code>Text.Pandoc。编剧EPUB</code> 。</li>
<li>新增<code>Text.Pandoc。UUID</code> 。</li>
<li>删除<code>Text.Pandoc。ODT</code> ，添加<code>Text.Pandoc。编剧ODT</code> 。删除了<code>saveOpenDocumentAsODT</code> ，添加了<code>writeODT</code> 。</li>
<li>新增<code>Text.Pandoc。编剧Native</code>和<code>writeNative</code> 。删除了<code>prettyPandoc</code> 。</li>
<li>新增<code>Text.Pandoc。UTF8</code>用于便携式UTF8字符串IO。</li>
<li>删除<code>Text.Pandoc。编剧S5</code>和<code>writeS5</code>函数。将<code>s5Includes</code>移动到一个新的模块<code>Text.Pandoc。S要编写S5，现在使用<code>writeHtml</code>和<code>writerSlideVariant</code>设置为<code>S5Slides</code>或<code>SlidySlides</code> 。</li>
</ul></li>
<li><p>模板更改。如果您使用自定义模板，请更新它们，特别是如果您使用语法突出显示与pandoc。硬编码的旧HTML模板突出显示CSS，将不再使用最新版本的highlighting-kate。</p>
<ul>
<li>HTML模板：如果没有日期，则避免使用空元标记。</li>
<li>HTML模板：使用默认突出显示来自highlighting-kate的CSS，而不是将CSS硬编码到模板中。</li>
<li>HTML模板：插入前文本在标题之前，紧跟在<code>&lt;body&gt;</code>标签之后，如文档所述。版本</li>
<li>添加了斯莱迪和s5模板。</li>
<li>增加了amssymb乳胶模板的序言。 （github问题1）</li>
</ul></li>
<li><p>在输出结尾删除多余的换行符。注意：因为输出不会包含额外的换行符，所以如果您将pandoc的输出插入到模板中，则可能需要进行调整。</p></li>
<li><p>在S5和滑动，水平的规则现在导致一个新的幻灯片，所以你不再局限于每节一个幻灯片。</p></li>
<li><p>改进了man作者的代码处理。内联代码现在是等宽字体，而不是粗体，现在代码块使用.nf（不填充）和。IP（缩进段）。</p></li>
<li><p>HTML阅读器将<code>&lt;tt&gt;</code>解析为代码。版本</p></li>
<li><p>html + lhs输出现在包含鸟类轨迹，即使编译时没有突出显示的支持。版本</p></li>
<li><p>现在不再允许在自动生成的XML / HTML标识符中使用冒号，因为它们在XML中有特殊的含义。</p></li>
<li><p>ODT编写器的代码改进。现在，远程图像替换为替代文字，而不是断开的链接。</p></li>
<li><p>LaTeX阅读器改进：</p>
<ul>
<li>制作乳胶<code>\section</code> ， <code>\chapter</code>解析器更加宽容的空白。</li>
<li>在latex中解析<code>\chapter{}</code> 。</li>
<li>将<code>rawLaTeXInline</code>更改为接受<code>\section</code> ， <code>\begin</code>等</li>
<li>在LaTeX阅读器中使用新的<code>rawLaTeXInline'</code> ，并输出<code>rawLaTeXInline</code>用于<code>rawLaTeXInline</code>阅读器。</li>
<li>修复了<code>\section{foo}</code>在markdown文档中未被识别为原始TeX的bug。</li>
</ul></li>
<li><p>LaTeX作家：图像会自动收缩，如果他们会超出页边距。</p></li>
<li><p>简单，降价，RST作家现在使用unicode智能标点符号。</p></li>
<li><p>如果有可能的话，男人作家将数学转换成unicode，就像其他作家一样。</p></li>
<li><p><code>markdown2pdf</code>现在可以识别citeproc选项。</p></li>
<li><p>命令行参数被转换为UTF-8。版本</p></li>
<li><p><code>Text.Pandoc。TeXMath</code>已被重写为使用texmath的解析器。这使它可以处理更广泛的公式。另外，如果一个公式不能被转换，它将被保留在原始的TeX中;公式不再部分转换。</p></li>
<li><p>解析智能引号时，Unicode卷曲引号将单独保留。版本</p></li>
<li><p>Cabal文件更改：</p>
<ul>
<li>删除了parsec &lt;3限制。</li>
<li>为GHC缺乏线程运行时的体系结构添加了“线程”标志。</li>
<li>使用“螺纹”仅适用于markdown2pdf;这对于pandoc来说是不需要的。</li>
<li>需要高亮 - 凯特0.2.7。</li>
</ul></li>
<li><p>使用从<code>Data.显式导入<code>Data.Generics</code> 。否则，我们与syb&gt; = 0.2中引入的“空”符号发生冲突。版本</p></li>
<li><p>新的数据文件：slidingy / slidy.min.js，slidingy / slimy.min.css，epub.css。</p></li>
</ul>
<h1 id="pandoc-1.5.1.1-2010-03-29">pandoc 1.5.1.1（2010-03-29）</h1>
<ul>
<li>修复了头文件标识符（sharedIdent中的uniqueIdent），所以它们在README中以广告方式工作，并保证是有效的XHTML名称。感谢Xyne报告错误。</li>
</ul>
<h1 id="pandoc-1.5.1-2010-03-23">pandoc 1.5.1（2010-03-23）</h1>
<ul>
<li>修正了URI中unicode字符的处理方法。</li>
<li>修改了Setup.hs，以便在debian的构建过程中使用。</li>
<li>修正了OpenDocument编写器中导致某些输入无效的XML的错误。</li>
</ul>
<h1 id="pandoc-1.5.0.1-2010-03-21">pandoc 1.5.0.1（2010-03-21）</h1>
<ul>
<li>HTML编写器：修正了数学作家（带有MathML选项）中的错误，导致无法解析MathML的循环。</li>
</ul>
<h1 id="pandoc-1.5-2010-03-20">pandoc 1.5（2010-03-20）</h1>
<ul>
<li>将存储库移至<a href="http://github.com/jgm/pandoc">github</a> 。</li>
<li>新的<code>--mathml</code>选项，用于显示<code>--mathml</code>的TeX数学。</li>
<li>新增<code>--data-dir</code>选项，允许用户指定一个不同于<code>~/.pandoc</code>的数据目录。放置在这个目录中的文件将被用来代替系统默认值。</li>
<li>新的<code>--base-header-level</code>选项。例如，-- <code>--base-header-level=2</code>会将一级标题更改为级别2，级别2至级别3等。</li>
<li>新的“普通”输出格式：纯文本没有图片，超链接，内联格式或任何其他看起来甚至模糊markupish。</li>
<li>标题栏中的标题和作者现在可以跨越多行，只要连续行以空格字符开始。</li>
<li>当给定绝对URI作为参数时，pandoc将通过HTTP获取内容。</li>
<li>HTML阅读器已经变得更加宽容了。它不再需要格式良好的xhtml作为输入。</li>
<li><code>html2markdown</code>已被删除;考虑到最后的两个变化，就不再需要了。 <code>pandoc</code>本身可以用来将网页转换为降价或其他格式。</li>
<li><code>hsmarkdown</code>也被删除。使用<code>pandoc --strict</code>来代替。或者将pandoc的可执行文件连接到<code>hsmarkdown</code> ;那么<code>pandoc</code>就会像<code>hsmarkdown</code>一样使用。</li>
<li>现在，在一个段落中的图像现在在大多数作者中被呈现为一个图形，其中alt文本作为标题。</li>
<li>不完整的支持reST表（简单和网格）。感谢Eric Kow。Colspans和rowspans尚不支持。</li>
<li>在mediawiki中，具有相对URL的链接现在被格式化为wikilinks。此外，头文件已被提升： <code>= head =</code>现在是1级而不是2级。</li>
<li>Markdown阅读器现在在解析汉字haskell时处理“反向鸟类轨迹”。这些用于不属于literate程序的haskell示例代码。</li>
<li>在<code>-B</code>和<code>-A</code>选项现在意味着<code>-s</code>和片段模式不再起作用。</li>
<li>现在，所有作者都可以正确打印无标题的表格。另外，在HTML和Docbook表中使用了tbody，thead和cols。</li>
<li>改进的构建系统;删除了过时的Makefile。</li>
<li>在LaTeX作家中， <code>\chapter</code>现在被用来代替<code>\section</code> 。当文档类是书，报告或回忆录。</li>
<li>许多小错误修复。详细信息请参阅<a href="changelog.txt">更改日志</a> 。</li>
</ul>
<h1 id="pandoc-1.4-2010-01-02">pandoc 1.4（2010-01-02）</h1>
<ul>
<li>新的模板系统替代了旧的头文件，使用户能够以<code>--standalone</code>模式更好地控制pandoc的输出。增加了 - <code>--template</code>和 - <code>--variable</code>选项。<code>--print-default-header</code>选项现在是<code>--print-default-template</code> 。详情请参阅“模板”下的自述文件。</li>
<li>旧的<code>--custom-header</code>选项应该仍然有效，但已被弃用。</li>
<li>新的<code>--reference-odt</code>选项允许用户在ODT输出中自定义样式。</li>
<li>用户现在可以在<code>~/.pandoc</code>目录中放置自定义模板，s5样式和引用ODT，在这里它们将覆盖系统默认值。详情请参阅自述文件。</li>
<li>现在在HTML和XML输出中尽可能使用Unicode。实体仅在必要时使用（ <code>&amp;gt;</code> ， <code>&amp;lt;</code> ， <code>&amp;quot;</code> <code>&amp;amp;</code> ）。</li>
<li>作者和日期现在可能包括格式和笔记。</li>
<li>为<code>pandoc</code>和<code>markdown2pdf</code>添加了<code>--xetex</code>选项。</li>
<li>Windows安装程序现在包括突出显示支持和<code>markdown2pdf</code>和<code>hsmarkdown</code>包装。</li>
<li>Pandoc不再需要模板Haskell，这应该使它更便于携带。</li>
<li>现在Pandoc可以建立在GHC 6.12以及早期的版本上。</li>
<li>有关其他小改进和错误修复，请参阅README。</li>
</ul>
<h1 id="pandoc-1.3-2009-12-10">pandoc 1.3（2009-12-10）</h1>
<ul>
<li>添加<code>--id-prefix</code>选项以帮助您在生成HTML片段时防止重复的标识符。</li>
<li>增加了<code>--indented-code-classes</code>选项，它指定了缩进代码块的默认高亮语法。</li>
<li><code>--number-sections</code>现在影响HTML输出。</li>
<li>降价定义列表的改进语法。</li>
<li>更好看简单的表格。</li>
<li>Markdown表没有标题现在是可能的。</li>
<li>新的硬线断行语法：反斜杠后跟换行符。</li>
<li>由于不需要对笔记进行单独的解析传递，因此可以将降价阅读器的性能提高10％。</li>
<li>改进了识字Haskell的语法突出显示。</li>
<li>支持RST阅读器中的“..code-block”指令。</li>
<li>Windows二进制现在包括突出显示支持。</li>
<li>许多错误修复和小的改进。详细信息请参阅<a href="changelog.txt">更改日志</a> 。</li>
</ul>
<h1 id="pandoc-1.2.1-2009-07-18">pandoc 1.2.1（2009-07-18）</h1>
<ul>
<li>提高了降价阅读器缩写解析的效率（应该用<code>--smart</code>提高性能）。</li>
<li>HTML编写器现在使用唯一的标识符来封装div的部分，以便于操作。</li>
<li>改进了LaTeX阅读器对数学模式的覆盖。</li>
<li>添加了markdown2pdf的可移植Haskell版本（感谢Paolo Tanimoto）。</li>
<li>做<code>--strict</code>兼容<code>--standalone</code>和<code>--toc.</code></li>
<li>许多其他小改进和错误修复。详细信息请参阅<a href="changelog.txt">更改日志</a> 。</li>
</ul>
<h1 id="pandoc-1.2-2009-03-01">pandoc 1.2（2009-03-01）</h1>
<ul>
<li>增加了对识字Haskell的支持。 lhs支持由格式中的“+ lhs”后缀触发。例如，'latex + lhs'是识字的Haskell LaTeX。 “.lhs'文件默认处理为文字降价。</li>
<li>新增了<code>--email-obfuscation</code>选项。</li>
<li>带来citeproc支持最新的citeproc-hs-0.2。</li>
<li>修复了很多bug。详细信息请参阅<a href="changelog.txt">更改日志</a> 。</li>
</ul>
<h1 id="pandoc-1.1-2008-11-06">pandoc 1.1（2008-11-06）</h1>
<ul>
<li>新的 - <code>--jsmath</code>选项支持与[jsMath]一起使用pandoc。</li>
<li>为了更好的CSS样式的HTML表格输出类。</li>
<li>Windows安装程序不再需要管理员权限。</li>
<li>修复了很多bug。详细信息请参阅<a href="changelog.txt">更改日志</a> 。</li>
</ul>
<h1 id="pandoc-1.0-2008-09-13">pandoc 1.0（2008-09-13）</h1>
<ul>
<li>MediaWiki，GNU Texinfo（感谢Peter Wang），OpenDocument XML（感谢Andrea Rossato）和ODT（OpenOffice文档）的新作者。</li>
<li>新的<a href="README.html#delimited-code-blocks">分隔代码块</a> ，可选语法高亮显示。</li>
<li>重组构建系统：现在可以使用标准的Cabal工具来构建pandoc。它可以在没有Cygwin的Windows上编译。这些测试也可以在不使用perl或unix工具的情况下运行。</li>
<li>LaTeXMathML替换了ASCIIMathML以便在HTML中渲染数学。</li>
<li>支持“显示”数学。</li>
<li>现在常用缩写处理更加智能，在这段时间之后有一个不间断的空间（而不是句尾空格）。</li>
<li>代码是 - 墙壁干净。</li>
<li>许多错误修复和小的改进。查看<a href="changelog.txt">更改日志</a>了解详细信息。</li>
</ul>
<h1 id="pandoc-0.46-2008-01-08">pandoc 0.46（2008-01-08）</h1>
<ul>
<li>添加了<code>--sanitize-html</code>选项（以及<code>ParserState</code>的相应参数，以便在程序中使用pandoc库）。此选项使pandoc使用白名单方法清理HTML（在HTML或Markdown输入中）。可能有害的HTML元素被替换为HTML注释。这应该在web应用程序的上下文中很有用，在这个应用程序中，可以使用pandoc将用户输入转换为HTML。</li>
<li>使-H，-A和-B选项累计：如果多次指定，则会包含多个文件。</li>
<li>许多错误修复和小的改进。查看<a href="changelog.txt">更改日志</a>了解详细信息。</li>
</ul>
<h1 id="pandoc-0.45-2007-12-09">pandoc 0.45（2007-12-09）</h1>
<ul>
<li>许多错误修复和结构改进。查看<a href="changelog.txt">更改日志</a>了解详细信息。</li>
<li>数学改进的处理。Math现在默认使用unicode在HTML，RTF和DocBook输出中呈现。为了更精确地显示HTML中的数学，提供了<code>--gladtex</code> ，-- <code>--mimetex</code>和<code>--asciimathml</code>选项。有关详细信息，请参阅<a href="README.html#math">用户指南</a> 。</li>
<li>删除了对markdown中的框式块引用的支持。</li>
<li>更自然的ConTeXt输出。</li>
<li>文本在ConTeXt和LaTeX输出中打包。</li>
<li>Pandoc现在可以正确处理所有标准行尾（CR，LF，CRLF）。</li>
<li>新的无<code>--no-wrap</code>选项，禁用换行和最小化HTML输出中的空白。</li>
<li>构建过程现在兼容GHC 6.8和GHC 6.6。当安装多个版本时，GHC和GHC_PKG环境变量可用于指定要使用哪个版本的编译器。</li>
</ul>
        </div>
      </main>
    </div>
    <footer>
    </footer>
  </div>
</body>
</html>